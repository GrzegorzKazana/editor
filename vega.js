(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,function(e,t,r){"use strict";var n=r(207);r.d(t,"f",(function(){return n.c})),r.d(t,"h",(function(){return n.b})),r.d(t,"g",(function(){return n.a}));var i=r(329);r.d(t,"x",(function(){return i.b})),r.d(t,"y",(function(){return i.c})),r.d(t,"lb",(function(){return i.f})),r.d(t,"P",(function(){return i.d})),r.d(t,"hb",(function(){return i.e})),r.d(t,"s",(function(){return i.a}));var a=r(452);r.d(t,"L",(function(){return a.f})),r.d(t,"d",(function(){return a.d})),r.d(t,"b",(function(){return a.b})),r.d(t,"e",(function(){return a.e})),r.d(t,"c",(function(){return a.c})),r.d(t,"a",(function(){return a.a}));var o=r(869);r.d(t,"O",(function(){return o.a})),r.d(t,"kb",(function(){return o.b}));var s=r(364);r.d(t,"R",(function(){return s.a})),r.d(t,"S",(function(){return s.b})),r.d(t,"T",(function(){return s.c})),r.d(t,"U",(function(){return s.d})),r.d(t,"mb",(function(){return s.e})),r.d(t,"nb",(function(){return s.f})),r.d(t,"ob",(function(){return s.g})),r.d(t,"pb",(function(){return s.h}));var u=r(870);r.d(t,"W",(function(){return u.a})),r.d(t,"ib",(function(){return u.b}));var c=r(409);r.d(t,"i",(function(){return c.a}));var f=r(1061);r.d(t,"k",(function(){return f.a}));var l=r(871);r.d(t,"l",(function(){return l.b})),r.d(t,"j",(function(){return l.a}));var d=r(1062);r.d(t,"m",(function(){return d.a}));var p=r(1063);r.d(t,"n",(function(){return p.a}));var m=r(526);r.d(t,"o",(function(){return m.a}));var b=r(682);r.d(t,"p",(function(){return b.a}));var h=r(1064);r.d(t,"q",(function(){return h.a}));var g=r(1065);r.d(t,"r",(function(){return g.a}));var y=r(1066);r.d(t,"t",(function(){return y.a}));var O=r(509);r.d(t,"u",(function(){return O.a}));var v=r(1067);r.d(t,"v",(function(){return v.a}));var j=r(345);r.d(t,"w",(function(){return j.a}));var $=r(1068);r.d(t,"z",(function(){return $.a}));var x=r(1069);r.d(t,"A",(function(){return x.a}));var k=r(403);r.d(t,"B",(function(){return k.a}));var E=r(1070);r.d(t,"C",(function(){return E.a}));var w=r(683);r.d(t,"D",(function(){return w.a}));var A=r(511);r.d(t,"E",(function(){return A.a}));var _=r(684);r.d(t,"F",(function(){return _.a}));var F=r(460);r.d(t,"G",(function(){return F.a}));var D=r(1071);r.d(t,"H",(function(){return D.a}));var S=r(685);r.d(t,"I",(function(){return S.a}));var C=r(1072);r.d(t,"J",(function(){return C.a}));var M=r(1073);r.d(t,"K",(function(){return M.a}));var q=r(1074);r.d(t,"M",(function(){return q.a}));var z=r(1075);r.d(t,"N",(function(){return z.a}));var R=r(1076);r.d(t,"Q",(function(){return R.a}));var B=r(313);r.d(t,"V",(function(){return B.a}));var T=r(463);r.d(t,"X",(function(){return T.a}));var I=r(1077);r.d(t,"Y",(function(){return I.a}));var P=r(510);r.d(t,"Z",(function(){return P.a}));var L=r(1078);r.d(t,"ab",(function(){return L.a}));var N=r(1079);r.d(t,"bb",(function(){return N.a}));var V=r(1080);r.d(t,"cb",(function(){return V.a}));var U=r(599);r.d(t,"db",(function(){return U.a}));var G=r(1081);r.d(t,"fb",(function(){return G.a}));var W=r(1082);r.d(t,"eb",(function(){return W.a}));var H=r(1083);r.d(t,"gb",(function(){return H.a}));var X=r(1084);r.d(t,"jb",(function(){return X.a}))},,,,,,,,,,,,,function(e,t,r){"use strict";r(330);var n=r(527);r.d(t,"h",(function(){return n.a}));var i=r(454);r.d(t,"i",(function(){return i.a})),r.d(t,"m",(function(){return i.b}));var a=r(1085);r.d(t,"a",(function(){return a.a}));var o=r(686);r.d(t,"b",(function(){return o.a}));var s=r(600);r.d(t,"e",(function(){return s.a}));var u=r(288);r.d(t,"f",(function(){return u.b}));var c=r(689);r.d(t,"c",(function(){return c.a}));var f=r(260);r.d(t,"d",(function(){return f.a}));var l=r(1091);r.d(t,"g",(function(){return l.a}));var d=r(169);r.d(t,"k",(function(){return d.a})),r.d(t,"l",(function(){return d.b})),r.d(t,"n",(function(){return d.c})),r.d(t,"o",(function(){return d.d})),r.d(t,"p",(function(){return d.e})),r.d(t,"q",(function(){return d.f})),r.d(t,"t",(function(){return d.g}));var p=r(668);r.d(t,"j",(function(){return p.a})),r.d(t,"r",(function(){return p.b})),r.d(t,"s",(function(){return p.c}))},,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"w",(function(){return n})),r.d(t,"l",(function(){return i})),r.d(t,"r",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"y",(function(){return u})),r.d(t,"u",(function(){return c})),r.d(t,"n",(function(){return f})),r.d(t,"d",(function(){return l})),r.d(t,"j",(function(){return d})),r.d(t,"k",(function(){return p})),r.d(t,"o",(function(){return m})),r.d(t,"p",(function(){return b})),r.d(t,"q",(function(){return h})),r.d(t,"x",(function(){return g})),r.d(t,"h",(function(){return y})),r.d(t,"i",(function(){return O})),r.d(t,"g",(function(){return v})),r.d(t,"f",(function(){return j})),r.d(t,"v",(function(){return $})),r.d(t,"e",(function(){return x})),r.d(t,"c",(function(){return k})),r.d(t,"s",(function(){return E})),r.d(t,"m",(function(){return w})),r.d(t,"t",(function(){return A})),r.d(t,"A",(function(){return _})),r.d(t,"z",(function(){return F}));const n="top",i="left",a="right",o="bottom",s="center",u="vertical",c="start",f="middle",l="end",d="index",p="label",m="offset",b="perc",h="perc2",g="value",y="guide-label",O="guide-title",v="group-title",j="group-subtitle",$="symbol",x="gradient",k="discrete",E="size",w=[E,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],A={name:1,style:1,interactive:1},_={value:0},F={value:1}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"h",(function(){return a})),r.d(t,"o",(function(){return o})),r.d(t,"p",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"m",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"n",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"q",(function(){return p})),r.d(t,"e",(function(){return m})),r.d(t,"c",(function(){return b})),r.d(t,"d",(function(){return h})),r.d(t,"l",(function(){return g})),r.d(t,"k",(function(){return y})),r.d(t,"j",(function(){return O})),r.d(t,"r",(function(){return v})),r.d(t,"g",(function(){return j}));var n=r(1);function i(e,t,r,n){this.id=-1,this.type=e,this.value=t,this.params=r,n&&(this.parent=n)}function a(e,t,r,n){return new i(e,t,r,n)}function o(e,t){return a("operator",e,t)}function s(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function u(e,t){return t?{$field:e,$name:t}:{$field:e}}const c=u("key");function f(e,t){return{$compare:e,$order:t}}function l(e,t){const r={$key:e};return t&&(r.$flat=!0),r}const d="ascending";function p(e){return Object(n.G)(e)?("descending"===e.order?"-":"+")+m(e.op,e.field):""}function m(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const b="scope",h="view";function g(e){return e&&e.signal}function y(e){return e&&e.expr}function O(e){if(g(e))return!0;if(Object(n.G)(e))for(const t in e)if(O(e[t]))return!0;return!1}function v(e,t){return null!=e?e:t}function j(e){return e&&e.signal||e}},,,,,,,function(e,t,r){"use strict";r.d(t,"G",(function(){return n})),r.d(t,"r",(function(){return i})),r.d(t,"x",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"H",(function(){return s})),r.d(t,"I",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return f})),r.d(t,"D",(function(){return l})),r.d(t,"t",(function(){return d})),r.d(t,"k",(function(){return p})),r.d(t,"J",(function(){return m})),r.d(t,"K",(function(){return b})),r.d(t,"q",(function(){return h})),r.d(t,"b",(function(){return g})),r.d(t,"F",(function(){return y})),r.d(t,"p",(function(){return O})),r.d(t,"C",(function(){return v})),r.d(t,"s",(function(){return j})),r.d(t,"A",(function(){return $})),r.d(t,"z",(function(){return x})),r.d(t,"B",(function(){return k})),r.d(t,"g",(function(){return E})),r.d(t,"f",(function(){return w})),r.d(t,"h",(function(){return A})),r.d(t,"w",(function(){return _})),r.d(t,"E",(function(){return F})),r.d(t,"l",(function(){return D})),r.d(t,"m",(function(){return S})),r.d(t,"n",(function(){return C})),r.d(t,"v",(function(){return M})),r.d(t,"u",(function(){return q})),r.d(t,"a",(function(){return z})),r.d(t,"j",(function(){return R})),r.d(t,"o",(function(){return B})),r.d(t,"i",(function(){return T})),r.d(t,"y",(function(){return I}));const n="top",i="left",a="right",o="bottom",s="top-left",u="top-right",c="bottom-left",f="bottom-right",l="start",d="middle",p="end",m="x",b="y",h="group",g="axis",y="title",O="frame",v="scope",j="legend",$="row-header",x="row-footer",k="row-title",E="column-header",w="column-footer",A="column-title",_="padding",F="symbol",D="fit",S="fit-x",C="fit-y",M="pad",q="none",z="all",R="each",B="flush",T="column",I="row"},function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"i",(function(){return i})),r.d(t,"j",(function(){return a})),r.d(t,"m",(function(){return o})),r.d(t,"q",(function(){return s})),r.d(t,"r",(function(){return u})),r.d(t,"u",(function(){return c})),r.d(t,"v",(function(){return f})),r.d(t,"p",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"n",(function(){return p})),r.d(t,"o",(function(){return m})),r.d(t,"t",(function(){return b})),r.d(t,"k",(function(){return h})),r.d(t,"l",(function(){return g})),r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return j})),r.d(t,"e",(function(){return $})),r.d(t,"h",(function(){return x})),r.d(t,"s",(function(){return k}));const n="identity",i="linear",a="log",o="pow",s="sqrt",u="symlog",c="time",f="utc",l="sequential",d="diverging",p="quantile",m="quantize",b="threshold",h="ordinal",g="point",y="band",O="bin-ordinal",v="continuous",j="discrete",$="discretizing",x="interpolating",k="temporal"},,,,,function(e,t,r){"use strict";r.d(t,"l",(function(){return i})),r.d(t,"h",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"k",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"e",(function(){return m})),r.d(t,"j",(function(){return b})),r.d(t,"n",(function(){return g})),r.d(t,"m",(function(){return O}));var n=r(1);const i="year",a="quarter",o="month",s="week",u="date",c="day",f="dayofyear",l="hours",d="minutes",p="seconds",m="milliseconds",b=[i,a,o,s,u,c,f,l,d,p,m],h=b.reduce((e,t,r)=>(e[t]=1+r,e),{});function g(e){const t=Object(n.i)(e).slice(),r={};t.length||Object(n.o)("Missing time unit."),t.forEach(e=>{Object(n.w)(h,e)?r[e]=1:Object(n.o)(`Invalid time unit: ${e}.`)});return(r[s]||r[c]?1:0)+(r[a]||r[o]||r[u]?1:0)+(r[f]?1:0)>1&&Object(n.o)("Incompatible time units: "+e),t.sort((e,t)=>h[e]-h[t]),t}const y={[i]:"%Y ",[a]:"Q%q ",[o]:"%b ",[u]:"%d ",[s]:"W%U ",[c]:"%a ",[f]:"%j ",[l]:"%H:00",[d]:"00:%M",[p]:":%S",[m]:".%L",[`${i}-${o}`]:"%Y-%m ",[`${i}-${o}-${u}`]:"%Y-%m-%d ",[`${l}-${d}`]:"%H:%M"};function O(e,t){const r=Object(n.p)({},y,t),i=g(e),a=i.length;let o,s,u="",c=0;for(c=0;c<a;)for(o=i.length;o>c;--o)if(s=i.slice(c,o).join("-"),null!=r[s]){u+=r[s],c=o;break}return u.trim()}},,,,,,function(e,t,r){"use strict";var n=r(705);r.d(t,"s",(function(){return n.a}));var i=r(36);r.d(t,"e",(function(){return i.i})),r.d(t,"f",(function(){return i.j})),r.d(t,"i",(function(){return i.m})),r.d(t,"m",(function(){return i.q})),r.d(t,"o",(function(){return i.r})),r.d(t,"q",(function(){return i.u})),r.d(t,"r",(function(){return i.v})),r.d(t,"l",(function(){return i.p})),r.d(t,"c",(function(){return i.f})),r.d(t,"j",(function(){return i.n})),r.d(t,"k",(function(){return i.o})),r.d(t,"p",(function(){return i.t})),r.d(t,"b",(function(){return i.b})),r.d(t,"g",(function(){return i.k})),r.d(t,"a",(function(){return i.a})),r.d(t,"h",(function(){return i.l}));var a=r(365);r.d(t,"u",(function(){return a.a})),r.d(t,"v",(function(){return a.b})),r.d(t,"w",(function(){return a.c})),r.d(t,"J",(function(){return a.e})),r.d(t,"H",(function(){return a.d}));var o=r(198);r.d(t,"I",(function(){return o.i})),r.d(t,"D",(function(){return o.h})),r.d(t,"x",(function(){return o.a})),r.d(t,"y",(function(){return o.b})),r.d(t,"z",(function(){return o.c})),r.d(t,"A",(function(){return o.d})),r.d(t,"B",(function(){return o.e})),r.d(t,"C",(function(){return o.f}));var s=r(1149);r.d(t,"L",(function(){return s.a}));var u=r(456);r.d(t,"n",(function(){return u.c})),r.d(t,"d",(function(){return u.b}));var c=r(367);r.d(t,"M",(function(){return c.a})),r.d(t,"N",(function(){return c.b})),r.d(t,"O",(function(){return c.d})),r.d(t,"P",(function(){return c.e}));var f=r(457);r.d(t,"E",(function(){return f.a})),r.d(t,"F",(function(){return f.b})),r.d(t,"G",(function(){return f.c}));var l=r(1150);r.d(t,"t",(function(){return l.a}));var d=r(617);r.d(t,"K",(function(){return d.b}))},,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return u}));var n=r(1);const i=e=>Object(n.G)(e)&&!Object(n.B)(e)?Object(n.p)({},e):{value:e};function a(e,t,r,i){if(null!=r){return Object(n.G)(r)&&!Object(n.B)(r)||Object(n.B)(r)&&r.length&&Object(n.G)(r[0])?e.update[t]=r:e[i||"enter"][t]={value:r},1}return 0}function o(e,t,r){for(const r in t)a(e,r,t[r]);for(const t in r)a(e,t,r[t],"update")}function s(e,t,r){for(const i in t)r&&Object(n.w)(r,i)||(e[i]=Object(n.p)(e[i]||{},t[i]));return e}function u(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return l})),r.d(t,"h",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return m})),r.d(t,"k",(function(){return b})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return y})),r.d(t,"o",(function(){return O})),r.d(t,"p",(function(){return v})),r.d(t,"q",(function(){return j})),r.d(t,"r",(function(){return $})),r.d(t,"s",(function(){return x})),r.d(t,"t",(function(){return k})),r.d(t,"u",(function(){return E})),r.d(t,"v",(function(){return w})),r.d(t,"w",(function(){return A})),r.d(t,"x",(function(){return _})),r.d(t,"y",(function(){return F})),r.d(t,"z",(function(){return D})),r.d(t,"B",(function(){return S})),r.d(t,"A",(function(){return C}));var n=r(28);const i=e=>(t,r,i)=>Object(n.h)(e,r,t||void 0,i),a=i("aggregate"),o=i("axisticks"),s=i("bound"),u=i("collect"),c=i("compare"),f=i("datajoin"),l=i("encode"),d=i("expression"),p=(i("extent"),i("facet")),m=i("field"),b=i("key"),h=i("legendentries"),g=i("load"),y=i("mark"),O=i("multiextent"),v=i("multivalues"),j=i("overlap"),$=i("params"),x=i("prefacet"),k=i("projection"),E=i("proxy"),w=i("relay"),A=i("render"),_=i("scale"),F=i("sieve"),D=i("sortitems"),S=i("viewlayout"),C=i("values")},,,,,function(e,t,r){"use strict";r.d(t,"o",(function(){return n})),r.d(t,"g",(function(){return i})),r.d(t,"p",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return l})),r.d(t,"l",(function(){return d})),r.d(t,"h",(function(){return p})),r.d(t,"i",(function(){return m})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return h})),r.d(t,"m",(function(){return g})),r.d(t,"n",(function(){return y})),r.d(t,"q",(function(){return O})),r.d(t,"s",(function(){return v})),r.d(t,"r",(function(){return j}));const n="mark",i="frame",a="scope",o="axis",s="axis-domain",u="axis-grid",c="axis-label",f="axis-tick",l="axis-title",d="legend",p="legend-band",m="legend-entry",b="legend-gradient",h="legend-label",g="legend-symbol",y="legend-title",O="title",v="title-text",j="title-subtitle"},,,,,function(e,t,r){"use strict";var n=r(690);r.d(t,"a",(function(){return n.a}));var i=r(1092);r.d(t,"b",(function(){return i.a}));var a=r(1093);r.d(t,"c",(function(){return a.a}));var o=r(1094);r.d(t,"j",(function(){return o.a}));var s=r(692);r.d(t,"n",(function(){return s.a}));var u=r(691);r.d(t,"o",(function(){return u.a}));var c=r(217);r.d(t,"p",(function(){return c.a})),r.d(t,"I",(function(){return c.b}));var f=r(1095);r.d(t,"s",(function(){return f.a}));var l=r(1096);r.d(t,"q",(function(){return l.a}));var d=r(1097);r.d(t,"r",(function(){return d.a}));var p=r(498);r.d(t,"t",(function(){return p.b})),r.d(t,"F",(function(){return p.e})),r.d(t,"g",(function(){return p.c})),r.d(t,"d",(function(){return p.a})),r.d(t,"k",(function(){return p.d}));var m=r(1098);r.d(t,"u",(function(){return m.a}));var b=r(281);r.d(t,"v",(function(){return b.b})),r.d(t,"G",(function(){return b.e})),r.d(t,"h",(function(){return b.c})),r.d(t,"e",(function(){return b.a})),r.d(t,"l",(function(){return b.d}));var h=r(499);r.d(t,"w",(function(){return h.b})),r.d(t,"H",(function(){return h.e})),r.d(t,"i",(function(){return h.c})),r.d(t,"f",(function(){return h.a})),r.d(t,"m",(function(){return h.d}));var g=r(693);r.d(t,"y",(function(){return g.a}));var y=r(1099);r.d(t,"A",(function(){return y.a}));var O=r(1100);r.d(t,"x",(function(){return O.a}));var v=r(1101);r.d(t,"C",(function(){return v.a}));var j=r(694);r.d(t,"D",(function(){return j.a}));var $=r(1102);r.d(t,"B",(function(){return $.a}));var x=r(1103);r.d(t,"z",(function(){return x.a}));var k=r(1104);r.d(t,"E",(function(){return k.a}))},,,function(e,t,r){"use strict";r.d(t,"T",(function(){return I}));var n=r(257),i=r(331),a=r(167);r.d(t,"a",(function(){return a.a})),r.d(t,"d",(function(){return n.a}));var o=r(699);r.d(t,"e",(function(){return o.a}));var s=r(700);r.d(t,"k",(function(){return s.a}));var u=r(603);r.d(t,"g",(function(){return u.a}));var c=r(1143);r.d(t,"o",(function(){return c.a}));var f=r(348);r.d(t,"f",(function(){return f.a}));var l=r(273);r.d(t,"j",(function(){return l.a}));var d=r(702);r.d(t,"b",(function(){return d.a}));var p=r(605);r.d(t,"c",(function(){return p.a}));var m=r(703);r.d(t,"l",(function(){return m.a}));var b=r(704);r.d(t,"m",(function(){return b.a}));var h=r(711);r.d(t,"n",(function(){return h.a}));var g=r(879);r.d(t,"i",(function(){return g.a})),r.d(t,"R",(function(){return g.b}));var y=r(1151);r.d(t,"B",(function(){return y.a}));var O=r(177);r.d(t,"h",(function(){return O.a}));var v=r(1152);r.d(t,"p",(function(){return v.a}));var j=r(332);r.d(t,"q",(function(){return j.a}));var $=r(253);r.d(t,"t",(function(){return $.a}));var x=r(604);r.d(t,"r",(function(){return x.a}));var k=r(701);r.d(t,"s",(function(){return k.a}));var E=r(602);r.d(t,"J",(function(){return E.a}));var w=r(696);r.d(t,"O",(function(){return w.a}));var A=r(697);r.d(t,"M",(function(){return A.a}));var _=r(698);r.d(t,"P",(function(){return _.a}));var F=r(369);r.d(t,"L",(function(){return F.a}));var D=r(462);r.d(t,"N",(function(){return D.a}));var S=r(514);r.d(t,"Q",(function(){return S.a}));var C=r(88);r.d(t,"w",(function(){return C.d})),r.d(t,"x",(function(){return C.e})),r.d(t,"u",(function(){return C.b})),r.d(t,"v",(function(){return C.c}));var M=r(458);r.d(t,"H",(function(){return M.a})),r.d(t,"ab",(function(){return M.b}));var q=r(113);r.d(t,"y",(function(){return q.a})),r.d(t,"z",(function(){return q.b})),r.d(t,"A",(function(){return q.c})),r.d(t,"G",(function(){return q.d})),r.d(t,"I",(function(){return q.e})),r.d(t,"bb",(function(){return q.h}));var z=r(880);r.d(t,"U",(function(){return z.b})),r.d(t,"K",(function(){return z.a}));var R=r(513);r.d(t,"X",(function(){return R.b})),r.d(t,"V",(function(){return R.a}));var B=r(155);r.d(t,"D",(function(){return B.b})),r.d(t,"E",(function(){return B.c})),r.d(t,"F",(function(){return B.e})),r.d(t,"C",(function(){return B.a}));var T=r(149);function I(){Object(i.b)(),Object(n.e)()}r.d(t,"Z",(function(){return T.c})),r.d(t,"Y",(function(){return T.b})),r.d(t,"W",(function(){return T.a})),r.d(t,"S",(function(){return i.b}))},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return j})),r.d(t,"g",(function(){return x})),r.d(t,"h",(function(){return k}));var n=r(1),i=r(26),a=r(63),o=r(28);const s=e=>e===i.a||e===i.w,u=(e,t,r)=>Object(o.l)(e)?b(e.signal,t,r):e===i.l||e===i.w?t:r,c=(e,t,r)=>Object(o.l)(e)?p(e.signal,t,r):s(e)?t:r,f=(e,t,r)=>Object(o.l)(e)?m(e.signal,t,r):s(e)?r:t,l=(e,t,r)=>Object(o.l)(e)?h(e.signal,t,r):e===i.w?{value:t}:{value:r},d=(e,t,r)=>Object(o.l)(e)?g(e.signal,t,r):e===i.r?{value:t}:{value:r},p=(e,t,r)=>y(`${e} === '${i.w}' || ${e} === '${i.a}'`,t,r),m=(e,t,r)=>y(`${e} !== '${i.w}' && ${e} !== '${i.a}'`,t,r),b=(e,t,r)=>v(`${e} === '${i.l}' || ${e} === '${i.w}'`,t,r),h=(e,t,r)=>v(`${e} === '${i.w}'`,t,r),g=(e,t,r)=>v(`${e} === '${i.r}'`,t,r),y=(e,t,r)=>(t=null!=t?Object(a.b)(t):t,r=null!=r?Object(a.b)(r):r,O(t)&&O(r)?{signal:`${e} ? (${t=t?t.signal||Object(n.ab)(t.value):null}) : (${r=r?r.signal||Object(n.ab)(r.value):null})`}:[Object(n.p)({test:e},t)].concat(r||[])),O=e=>null==e||1===Object.keys(e).length,v=(e,t,r)=>({signal:`${e} ? (${$(t)}) : (${$(r)})`}),j=(e,t,r,n,a)=>({signal:(null!=n?`${e} === '${i.l}' ? (${$(n)}) : `:"")+(null!=r?`${e} === '${i.a}' ? (${$(r)}) : `:"")+(null!=a?`${e} === '${i.r}' ? (${$(a)}) : `:"")+(null!=t?`${e} === '${i.w}' ? (${$(t)}) : `:"")+"(null)"}),$=e=>Object(o.l)(e)?e.signal:null==e?null:Object(n.ab)(e),x=(e,t)=>0===t?0:Object(o.l)(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},k=(e,t)=>{const r=e.signal;return r&&r.endsWith("(null)")?{signal:r.slice(0,-6)+t.signal}:e}},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(14),a=r(1269),o=r(1274),s=r(1303),u=r(1304),c=r(1311),f=r(1321),l=r(1337),d=r(1338),p=r(1340),m=r(1342),b=r(1189);r.d(t,"version",(function(){return b.a}));var h=r(74);r.d(t,"bandwidthNRD",(function(){return h.a})),r.d(t,"bin",(function(){return h.b})),r.d(t,"bootstrapCI",(function(){return h.c})),r.d(t,"dotbin",(function(){return h.j})),r.d(t,"quantiles",(function(){return h.n})),r.d(t,"quartiles",(function(){return h.o})),r.d(t,"random",(function(){return h.p})),r.d(t,"setRandom",(function(){return h.I})),r.d(t,"randomLCG",(function(){return h.s})),r.d(t,"randomInteger",(function(){return h.q})),r.d(t,"randomKDE",(function(){return h.r})),r.d(t,"randomLogNormal",(function(){return h.t})),r.d(t,"sampleLogNormal",(function(){return h.F})),r.d(t,"densityLogNormal",(function(){return h.g})),r.d(t,"cumulativeLogNormal",(function(){return h.d})),r.d(t,"quantileLogNormal",(function(){return h.k})),r.d(t,"randomMixture",(function(){return h.u})),r.d(t,"randomNormal",(function(){return h.v})),r.d(t,"sampleNormal",(function(){return h.G})),r.d(t,"densityNormal",(function(){return h.h})),r.d(t,"cumulativeNormal",(function(){return h.e})),r.d(t,"quantileNormal",(function(){return h.l})),r.d(t,"randomUniform",(function(){return h.w})),r.d(t,"sampleUniform",(function(){return h.H})),r.d(t,"densityUniform",(function(){return h.i})),r.d(t,"cumulativeUniform",(function(){return h.f})),r.d(t,"quantileUniform",(function(){return h.m})),r.d(t,"regressionLinear",(function(){return h.y})),r.d(t,"regressionLog",(function(){return h.A})),r.d(t,"regressionExp",(function(){return h.x})),r.d(t,"regressionPow",(function(){return h.C})),r.d(t,"regressionQuad",(function(){return h.D})),r.d(t,"regressionPoly",(function(){return h.B})),r.d(t,"regressionLoess",(function(){return h.z})),r.d(t,"sampleCurve",(function(){return h.E}));var g=r(90);r.d(t,"TIME_UNITS",(function(){return g.j})),r.d(t,"YEAR",(function(){return g.l})),r.d(t,"QUARTER",(function(){return g.h})),r.d(t,"MONTH",(function(){return g.g})),r.d(t,"WEEK",(function(){return g.k})),r.d(t,"DATE",(function(){return g.a})),r.d(t,"DAY",(function(){return g.b})),r.d(t,"DAYOFYEAR",(function(){return g.c})),r.d(t,"HOURS",(function(){return g.d})),r.d(t,"MINUTES",(function(){return g.f})),r.d(t,"SECONDS",(function(){return g.i})),r.d(t,"MILLISECONDS",(function(){return g.e})),r.d(t,"timeUnitSpecifier",(function(){return g.s})),r.d(t,"timeUnits",(function(){return g.t})),r.d(t,"dayofyear",(function(){return g.m})),r.d(t,"week",(function(){return g.A})),r.d(t,"utcdayofyear",(function(){return g.y})),r.d(t,"utcweek",(function(){return g.z})),r.d(t,"timeFloor",(function(){return g.o})),r.d(t,"utcFloor",(function(){return g.u})),r.d(t,"timeInterval",(function(){return g.p})),r.d(t,"timeOffset",(function(){return g.q})),r.d(t,"timeSequence",(function(){return g.r})),r.d(t,"utcInterval",(function(){return g.v})),r.d(t,"utcOffset",(function(){return g.w})),r.d(t,"utcSequence",(function(){return g.x})),r.d(t,"timeBin",(function(){return g.n})),r.d(t,"accessor",(function(){return n.f})),r.d(t,"accessorName",(function(){return n.h})),r.d(t,"accessorFields",(function(){return n.g})),r.d(t,"id",(function(){return n.x})),r.d(t,"identity",(function(){return n.y})),r.d(t,"zero",(function(){return n.lb})),r.d(t,"one",(function(){return n.P})),r.d(t,"truthy",(function(){return n.hb})),r.d(t,"falsy",(function(){return n.s})),r.d(t,"logger",(function(){return n.L})),r.d(t,"None",(function(){return n.d})),r.d(t,"Error",(function(){return n.b})),r.d(t,"Warn",(function(){return n.e})),r.d(t,"Info",(function(){return n.c})),r.d(t,"Debug",(function(){return n.a})),r.d(t,"mergeConfig",(function(){return n.O})),r.d(t,"writeConfig",(function(){return n.kb})),r.d(t,"panLinear",(function(){return n.R})),r.d(t,"panLog",(function(){return n.S})),r.d(t,"panPow",(function(){return n.T})),r.d(t,"panSymlog",(function(){return n.U})),r.d(t,"zoomLinear",(function(){return n.mb})),r.d(t,"zoomLog",(function(){return n.nb})),r.d(t,"zoomPow",(function(){return n.ob})),r.d(t,"zoomSymlog",(function(){return n.pb})),r.d(t,"quarter",(function(){return n.W})),r.d(t,"utcquarter",(function(){return n.ib})),r.d(t,"array",(function(){return n.i})),r.d(t,"clampRange",(function(){return n.k})),r.d(t,"compare",(function(){return n.l})),r.d(t,"ascending",(function(){return n.j})),r.d(t,"constant",(function(){return n.m})),r.d(t,"debounce",(function(){return n.n})),r.d(t,"error",(function(){return n.o})),r.d(t,"extend",(function(){return n.p})),r.d(t,"extent",(function(){return n.q})),r.d(t,"extentIndex",(function(){return n.r})),r.d(t,"fastmap",(function(){return n.t})),r.d(t,"field",(function(){return n.u})),r.d(t,"flush",(function(){return n.v})),r.d(t,"hasOwnProperty",(function(){return n.w})),r.d(t,"inherits",(function(){return n.z})),r.d(t,"inrange",(function(){return n.A})),r.d(t,"isArray",(function(){return n.B})),r.d(t,"isBoolean",(function(){return n.C})),r.d(t,"isDate",(function(){return n.D})),r.d(t,"isFunction",(function(){return n.E})),r.d(t,"isNumber",(function(){return n.F})),r.d(t,"isObject",(function(){return n.G})),r.d(t,"isRegExp",(function(){return n.H})),r.d(t,"isString",(function(){return n.I})),r.d(t,"key",(function(){return n.J})),r.d(t,"lerp",(function(){return n.K})),r.d(t,"lruCache",(function(){return n.M})),r.d(t,"merge",(function(){return n.N})),r.d(t,"pad",(function(){return n.Q})),r.d(t,"peek",(function(){return n.V})),r.d(t,"repeat",(function(){return n.X})),r.d(t,"span",(function(){return n.Y})),r.d(t,"splitAccessPath",(function(){return n.Z})),r.d(t,"stringValue",(function(){return n.ab})),r.d(t,"toBoolean",(function(){return n.bb})),r.d(t,"toDate",(function(){return n.cb})),r.d(t,"toNumber",(function(){return n.db})),r.d(t,"toString",(function(){return n.fb})),r.d(t,"toSet",(function(){return n.eb})),r.d(t,"truncate",(function(){return n.gb})),r.d(t,"visitArray",(function(){return n.jb}));var y=r(314);r.d(t,"loader",(function(){return y.e})),r.d(t,"read",(function(){return y.f})),r.d(t,"inferType",(function(){return y.c})),r.d(t,"inferTypes",(function(){return y.d})),r.d(t,"typeParsers",(function(){return y.h})),r.d(t,"format",(function(){return y.a})),r.d(t,"formats",(function(){return y.b})),r.d(t,"responseType",(function(){return y.g}));var O=r(77);r.d(t,"Bounds",(function(){return O.a})),r.d(t,"Gradient",(function(){return O.d})),r.d(t,"GroupItem",(function(){return O.e})),r.d(t,"ResourceLoader",(function(){return O.k})),r.d(t,"Item",(function(){return O.g})),r.d(t,"Scenegraph",(function(){return O.o})),r.d(t,"Handler",(function(){return O.f})),r.d(t,"Renderer",(function(){return O.j})),r.d(t,"CanvasHandler",(function(){return O.b})),r.d(t,"CanvasRenderer",(function(){return O.c})),r.d(t,"SVGHandler",(function(){return O.l})),r.d(t,"SVGRenderer",(function(){return O.m})),r.d(t,"SVGStringRenderer",(function(){return O.n})),r.d(t,"RenderType",(function(){return O.i})),r.d(t,"renderModule",(function(){return O.R})),r.d(t,"intersect",(function(){return O.B})),r.d(t,"Marks",(function(){return O.h})),r.d(t,"boundClip",(function(){return O.p})),r.d(t,"boundContext",(function(){return O.q})),r.d(t,"boundStroke",(function(){return O.t})),r.d(t,"boundItem",(function(){return O.r})),r.d(t,"boundMark",(function(){return O.s})),r.d(t,"pathCurves",(function(){return O.J})),r.d(t,"pathSymbols",(function(){return O.O})),r.d(t,"pathRectangle",(function(){return O.M})),r.d(t,"pathTrail",(function(){return O.P})),r.d(t,"pathParse",(function(){return O.L})),r.d(t,"pathRender",(function(){return O.N})),r.d(t,"point",(function(){return O.Q})),r.d(t,"domCreate",(function(){return O.w})),r.d(t,"domFind",(function(){return O.x})),r.d(t,"domChild",(function(){return O.u})),r.d(t,"domClear",(function(){return O.v})),r.d(t,"markup",(function(){return O.H})),r.d(t,"serializeXML",(function(){return O.ab})),r.d(t,"font",(function(){return O.y})),r.d(t,"fontFamily",(function(){return O.z})),r.d(t,"fontSize",(function(){return O.A})),r.d(t,"lineHeight",(function(){return O.G})),r.d(t,"multiLineOffset",(function(){return O.I})),r.d(t,"textMetrics",(function(){return O.bb})),r.d(t,"sceneEqual",(function(){return O.U})),r.d(t,"pathEqual",(function(){return O.K})),r.d(t,"sceneToJSON",(function(){return O.X})),r.d(t,"sceneFromJSON",(function(){return O.V})),r.d(t,"intersectPath",(function(){return O.D})),r.d(t,"intersectPoint",(function(){return O.E})),r.d(t,"intersectRule",(function(){return O.F})),r.d(t,"intersectBoxLine",(function(){return O.C})),r.d(t,"sceneZOrder",(function(){return O.Z})),r.d(t,"sceneVisit",(function(){return O.Y})),r.d(t,"scenePickVisit",(function(){return O.W})),r.d(t,"resetSVGClipId",(function(){return O.S})),r.d(t,"resetSVGDefIds",(function(){return O.T})),r.d(t,"Dataflow",(function(){return i.a})),r.d(t,"EventStream",(function(){return i.b})),r.d(t,"Parameters",(function(){return i.e})),r.d(t,"Pulse",(function(){return i.f})),r.d(t,"MultiPulse",(function(){return i.c})),r.d(t,"Operator",(function(){return i.d})),r.d(t,"Transform",(function(){return i.g})),r.d(t,"changeset",(function(){return i.i})),r.d(t,"ingest",(function(){return i.l})),r.d(t,"isTuple",(function(){return i.n})),r.d(t,"definition",(function(){return i.j})),r.d(t,"transform",(function(){return i.r})),r.d(t,"transforms",(function(){return i.s})),r.d(t,"tupleid",(function(){return i.t}));var v=r(47);r.d(t,"scale",(function(){return v.I})),r.d(t,"scheme",(function(){return v.L})),r.d(t,"interpolate",(function(){return v.u})),r.d(t,"interpolateColors",(function(){return v.v})),r.d(t,"interpolateRange",(function(){return v.w})),r.d(t,"quantizeInterpolator",(function(){return v.H}));var j=r(340);r.d(t,"projection",(function(){return j.b}));var $=r(1190);r.d(t,"View",(function(){return $.a}));var x=r(280);r.d(t,"formatLocale",(function(){return x.c})),r.d(t,"timeFormatLocale",(function(){return x.e})),r.d(t,"locale",(function(){return x.b})),r.d(t,"defaultLocale",(function(){return x.a})),r.d(t,"resetDefaultLocale",(function(){return x.d}));var k=r(168);r.d(t,"expressionFunction",(function(){return k.a}));var E=r(1199);r.d(t,"parse",(function(){return E.a}));var w=r(721);r.d(t,"runtimeContext",(function(){return w.a})),Object(n.p)(i.s,a,o,s,u,c,f,l,d,p,m)},,,,,function(e,t,r){"use strict";function n(e,t,r){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?r?e.createElementNS(r,t):e.createElement(t):null}function i(e,t){t=t.toLowerCase();for(var r=e.childNodes,n=0,i=r.length;n<i;++n)if(r[n].tagName.toLowerCase()===t)return r[n]}function a(e,t,r,i){var a,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===r.toLowerCase()||(a=o||null,o=n(e.ownerDocument,r,i),e.insertBefore(o,a)),o}function o(e,t){for(var r=e.childNodes,n=r.length;n>t;)e.removeChild(r[--n]);return e}function s(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return s}))},,function(e,t,r){"use strict";var n=r(41);r.d(t,"j",(function(){return n.j})),r.d(t,"l",(function(){return n.l})),r.d(t,"h",(function(){return n.h})),r.d(t,"g",(function(){return n.g})),r.d(t,"k",(function(){return n.k})),r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"d",(function(){return n.d})),r.d(t,"f",(function(){return n.f})),r.d(t,"i",(function(){return n.i})),r.d(t,"e",(function(){return n.e})),r.d(t,"s",(function(){return n.m})),r.d(t,"t",(function(){return n.n}));var i=r(183);r.d(t,"m",(function(){return i.a})),r.d(t,"A",(function(){return i.l})),r.d(t,"y",(function(){return i.j})),r.d(t,"z",(function(){return i.k}));var a=r(874);r.d(t,"o",(function(){return a.a})),r.d(t,"u",(function(){return a.b}));var o=r(453);r.d(t,"p",(function(){return o.a})),r.d(t,"q",(function(){return o.b})),r.d(t,"r",(function(){return o.c})),r.d(t,"v",(function(){return o.d})),r.d(t,"w",(function(){return o.e})),r.d(t,"x",(function(){return o.f}));var s=r(1090);r.d(t,"n",(function(){return s.a}))},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return s}));const n=Math.PI/180,i=1e-14,a=Math.PI/2,o=2*Math.PI,s=Math.sqrt(3)/2},,function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"h",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"j",(function(){return c})),r.d(t,"a",(function(){return f})),r.d(t,"k",(function(){return l})),r.d(t,"p",(function(){return d})),r.d(t,"o",(function(){return p})),r.d(t,"n",(function(){return m})),r.d(t,"e",(function(){return b})),r.d(t,"m",(function(){return h})),r.d(t,"l",(function(){return g})),r.d(t,"f",(function(){return y}));const n="dragenter",i="dragleave",a="dragover",o="mousedown",s="mousemove",u="mouseout",c="mouseover",f="click",l="mousewheel",d="touchstart",p="touchmove",m="touchend",b=["keydown","keypress","keyup",n,i,a,o,"mouseup",s,u,c,f,"dblclick","wheel",l,d,p,m],h=s,g=u,y=f},,,function(e,t,r){"use strict";r.d(t,"f",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return f})),r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return d}));var n=r(26),i=r(28),a=r(1);function o(e,t){const r=(r,n)=>Object(i.r)(e[r],Object(i.r)(t[r],n));return r.isVertical=r=>n.y===Object(i.r)(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),r.gradientLength=()=>Object(i.r)(e.gradientLength,t.gradientLength||t.gradientWidth),r.gradientThickness=()=>Object(i.r)(e.gradientThickness,t.gradientThickness||t.gradientHeight),r.entryColumns=()=>Object(i.r)(e.columns,Object(i.r)(t.columns,+r.isVertical(!0))),r}function s(e,t){const r=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return r&&r.signal?r:r?r.value:null}function u(e,t,r){const n=t.config.style[r];return n&&n[e]}function c(e,t,r){return`item.anchor === '${n.u}' ? ${e} : item.anchor === '${n.d}' ? ${t} : ${r}`}const f=c(Object(a.ab)(n.l),Object(a.ab)(n.r),Object(a.ab)(n.b));function l(e){const t=e("tickBand");let r,n,i=e("tickOffset");return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},n={signal:`(${t.signal}) === 'extent'`},Object(a.G)(i)||(i={signal:`(${t.signal}) === 'extent' ? 0 : ${i}`})):"extent"===t?(r=1,n=!0,i=0):(r=.5,n=!1):(r=e("bandPosition"),n=e("tickExtra")),{extra:n,band:r,offset:i}}function d(e,t){return t?e?Object(a.G)(e)?Object.assign({},e,{offset:d(e.offset,t)}):{value:e,offset:t}:t:e}},,,,,,,function(e,t,r){"use strict";r.d(t,"h",(function(){return o})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"g",(function(){return m})),r.d(t,"e",(function(){return b})),r.d(t,"i",(function(){return h})),r.d(t,"b",(function(){return g})),r.d(t,"a",(function(){return y})),r.d(t,"f",(function(){return O}));var n=r(440),i=r(1);const a=Object(i.M)();var o={height:d,measureWidth:f,estimateWidth:u,width:u,canvas:s};function s(e){o.width=e&&n.a?f:u}function u(e,t){return c(h(e,t),d(e))}function c(e,t){return~~(.8*e.length*t)}function f(e,t){return d(e)<=0||!(t=h(e,t))?0:l(t,y(e))}function l(e,t){const r=`(${t}) ${e}`;let i=a.get(r);return void 0===i&&(n.a.font=t,i=n.a.measureText(e).width,a.set(r,i)),i}function d(e){return null!=e.fontSize?+e.fontSize||0:11}function p(e){return null!=e.lineHeight?e.lineHeight:d(e)+2}function m(e){return t=e.lineBreak&&e.text&&!Object(i.B)(e.text)?e.text.split(e.lineBreak):e.text,Object(i.B)(t)?t.length>1?t:t[0]:t;var t}function b(e){const t=m(e);return(Object(i.B)(t)?t.length-1:0)*p(e)}function h(e,t){const r=null==t?"":(t+"").trim();return e.limit>0&&r.length?function(e,t){var r=+e.limit,n=function(e){if(o.width===f){const t=y(e);return e=>l(e,t)}{const t=d(e);return e=>c(e,t)}}(e);if(n(t)<r)return t;var i,a=e.ellipsis||"…",s="rtl"===e.dir,u=0,p=t.length;if(r-=n(a),s){for(;u<p;)i=u+p>>>1,n(t.slice(i))>r?u=i+1:p=i;return a+t.slice(u)}for(;u<p;)i=1+(u+p>>>1),n(t.slice(0,i))<r?u=i:p=i-1;return t.slice(0,u)+a}(e,r):r}function g(e,t){var r=e.font;return(t&&r?String(r).replace(/"/g,"'"):r)||"sans-serif"}function y(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+d(e)+"px "+g(e,t)}function O(e){var t=e.baseline,r=d(e);return Math.round("top"===t?.79*r:"middle"===t?.3*r:"bottom"===t?-.21*r:"line-top"===t?.29*r+.5*p(e):"line-bottom"===t?.29*r-.5*p(e):0)}s(!0)},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return s}));const n="group",i="rect",a="rule",o="symbol",s="text"},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a}));const n="Literal",i="CallExpression";function a(e){this.type=e}a.prototype.visit=function(e){let t,r,a;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case i:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case n:case"RawCode":default:return[]}}(this),r=0,a=t.length;r<a;++r)if(t[r].visit(e))return 1}},function(e,t,r){"use strict";function n(e,t){return e.zindex-t.zindex||e.index-t.index}function i(e){if(!e.zdirty)return e.zitems;var t,r,i,a=e.items,o=[];for(r=0,i=a.length;r<i;++r)(t=a[r]).index=r,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(n)}function a(e,t){var r,n,a=e.items;if(a&&a.length){var o=i(e);if(o&&o.length){for(r=0,n=a.length;r<n;++r)a[r].zindex||t(a[r]);a=o}for(r=0,n=a.length;r<n;++r)t(a[r])}}function o(e,t){var r,n,a=e.items;if(!a||!a.length)return null;var o=i(e);for(o&&o.length&&(a=o),n=a.length;--n>=0;)if(r=t(a[n]))return r;if(a===o)for(n=(a=e.items).length;--n>=0;)if(!a[n].zindex&&(r=t(a[n])))return r;return null}r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"c",(function(){return $})),r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return k})),r.d(t,"d",(function(){return E})),r.d(t,"e",(function(){return w})),r.d(t,"f",(function(){return A})),r.d(t,"g",(function(){return _})),r.d(t,"h",(function(){return F}));var n=r(602),i=r(696),a=r(697),o=r(698),s=r(1986),u=r(1665),c=r(970),f=r(1987);function l(e,t){return null!=e?e:t}const d=e=>e.x||0,p=e=>e.y||0,m=e=>!(!1===e.defined),b=Object(s.a)().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),h=Object(u.a)().x(d).y1(p).y0(e=>(e.y||0)+(e.height||0)).defined(m),g=Object(u.a)().y(p).x1(d).x0(e=>(e.x||0)+(e.width||0)).defined(m),y=Object(c.a)().x(d).y(p).defined(m),O=Object(a.a)().x(d).y(p).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>l(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>l(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>l(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>l(e.cornerRadiusBottomLeft,e.cornerRadius)||0),v=Object(f.a)().type(e=>Object(i.a)(e.shape||"circle")).size(e=>l(e.size,64)),j=Object(o.a)().x(d).y(p).defined(m).size(e=>e.size||1);function $(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function x(e,t){return b.context(e)(t)}function k(e,t){const r=t[0],i=r.interpolate||"linear";return("horizontal"===r.orient?g:h).curve(Object(n.a)(i,r.orient,r.tension)).context(e)(t)}function E(e,t){const r=t[0],i=r.interpolate||"linear";return y.curve(Object(n.a)(i,r.orient,r.tension)).context(e)(t)}function w(e,t,r,n){return O.context(e)(t,r,n)}function A(e,t){return(t.mark.shape||t.shape).context(e)(t)}function _(e,t){return v.context(e)(t)}function F(e,t){return j.context(e)(t)}},,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));const n=new(r(77).a);function i(e,t,r){return e[t]===r?0:(e[t]=r,1)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return u})),r.d(t,"a",(function(){return c}));var n=r(440);const i=new(r(167).a);function a(e){return function(t,r){if(!n.a)return!0;e(n.a,t),i.clear().union(t.bounds).intersect(r).round();const{x1:a,y1:o,x2:s,y2:u}=i;for(let e=o;e<=u;++e)for(let t=a;t<=s;++t)if(n.a.isPointInPath(t,e))return!0;return!1}}function o(e,t){return t.contains(e.x||0,e.y||0)}function s(e,t){const r=e.x||0,n=e.y||0,a=e.width||0,o=e.height||0;return t.intersects(i.set(r,n,r+a,n+o))}function u(e,t){const r=e.x||0,n=e.y||0;return c(t,r,n,null!=e.x2?e.x2:r,null!=e.y2?e.y2:n)}function c(e,t,r,n,i){const{x1:a,y1:o,x2:s,y2:u}=e,c=n-t,f=i-r;let l,d,p,m,b=0,h=1;for(m=0;m<4;++m){if(0===m&&(l=-c,d=-(a-t)),1===m&&(l=c,d=s-t),2===m&&(l=-f,d=-(o-r)),3===m&&(l=f,d=u-r),Math.abs(l)<1e-10&&d<0)return!1;if(p=d/l,l<0){if(p>h)return!1;p>b&&(b=p)}else if(l>0){if(p<b)return!1;p<h&&(h=p)}}return!0}},function(e,t,r){"use strict";var n=r(26),i=r(63);t.a=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Object(i.c)(e.encode,t,n.t)):e.interactive=!1,e}},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u}));var n=r(218),i=r(201),a=r(1);function o(e,t,r,o){t[0].type!==i.b&&Object(a.o)("First argument to data functions must be a string literal.");const s=t[0].value,u=n.a+s;if(!Object(a.w)(u,o))try{o[u]=r.getData(s).tuplesRef()}catch(e){}}function s(e,t,r,o){t[0].type!==i.b&&Object(a.o)("First argument to indata must be a string literal."),t[1].type!==i.b&&Object(a.o)("Second argument to indata must be a string literal.");const s=t[0].value,u=t[1].value,c=n.b+u;Object(a.w)(c,o)||(o[c]=r.getData(s).indataRef(r,u))}function u(e,t,r,n){if(t[0].type===i.b)c(r,n,t[0].value);else for(e in r.scales)c(r,n,e)}function c(e,t,r){const i=n.c+r;if(!Object(a.w)(t,i))try{t[i]=e.scaleRef(r)}catch(e){}}},,,,,,function(e,t,r){"use strict";function n(e){this.clear(),e&&this.union(e)}r.d(t,"a",(function(){return n})),n.prototype={clone(){return new n(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,r,n){return r<e?(this.x2=e,this.x1=r):(this.x1=e,this.x2=r),n<t?(this.y2=t,this.y1=n):(this.y1=t,this.y2=n),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,r){const n=this.rotatedPoints(e,t,r);return this.clear().add(n[0],n[1]).add(n[2],n[3]).add(n[4],n[5]).add(n[6],n[7])},rotatedPoints(e,t,r){var{x1:n,y1:i,x2:a,y2:o}=this,s=Math.cos(e),u=Math.sin(e),c=t-t*s+r*u,f=r-t*u-r*s;return[s*n-u*i+c,u*n+s*i+f,s*n-u*o+c,u*n+s*o+f,s*a-u*i+c,u*a+s*i+f,s*a-u*o+c,u*a+s*o+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}}},function(e,t,r){"use strict";r(333),r(714),r(176),r(405),r(717),r(406),r(516),r(718),r(719),r(517),r(219),r(720),r(518),r(519),r(407);var n=r(402);r.d(t,"a",(function(){return n.c})),r.d(t,"b",(function(){return n.d}));r(218);var i=r(1197);r.d(t,"c",(function(){return i.a}));r(161)},function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"g",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d}));const n=Symbol("vega_id");let i=1;function a(e){return!(!e||!o(e))}function o(e){return e[n]}function s(e,t){return e[n]=t,e}function u(e){const t=e===Object(e)?e:{data:e};return o(t)?t:s(t,i++)}function c(e){return f(e,u({}))}function f(e,t){for(const r in e)t[r]=e[r];return t}function l(e,t){return s(t,o(e))}function d(e,t){return e?t?(r,n)=>e(r,n)||o(t(r))-o(t(n)):(t,r)=>e(t,r)||o(t)-o(r):null}},,,,,,,function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"f",(function(){return a})),r.d(t,"h",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return m}));const n=e=>function(t,r){return this.context.dataflow.locale()[e](r)(t)},i=n("format"),a=n("timeFormat"),o=n("utcFormat"),s=n("timeParse"),u=n("utcParse"),c=new Date(2e3,0,1);function f(e,t,r){return Number.isInteger(e)&&Number.isInteger(t)?(c.setYear(2e3),c.setMonth(e),c.setDate(t),a.call(this,c,r)):""}function l(e){return f.call(this,e,1,"%B")}function d(e){return f.call(this,e,1,"%b")}function p(e){return f.call(this,0,2+e,"%A")}function m(e){return f.call(this,0,2+e,"%a")}},function(e,t,r){"use strict";var n=r(1281),i=r(1283),a=r(1284),o=r(1285),s=r(1286),u=r(1287),c=r(1288),f=r(1289),l=r(1290),d=r(1291),p=r(1292),m=r(1293);t.a={arc:n.a,area:i.a,group:a.a,image:o.a,line:s.a,path:u.a,rect:c.a,rule:f.a,shape:l.a,symbol:d.a,text:p.a,trail:m.a}},,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"l",(function(){return f})),r.d(t,"c",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"b",(function(){return m})),r.d(t,"j",(function(){return b})),r.d(t,"k",(function(){return h})),r.d(t,"g",(function(){return g})),r.d(t,"i",(function(){return y})),r.d(t,"h",(function(){return O})),r.d(t,"f",(function(){return v}));var n=r(494),i=r(308),a=r(495),o=r(309);const s=new Date;function u(e){return s.setFullYear(e),s.setMonth(0),s.setDate(1),s.setHours(0,0,0,0),s}function c(e){return l(new Date(e))}function f(e){return d(new Date(e))}function l(e){return n.a.count(u(e.getFullYear())-1,e)}function d(e){return i.b.count(u(e.getFullYear())-1,e)}function p(e){return u(e).getDay()}function m(e,t,r,n,i,a,o){if(0<=e&&e<100){const s=new Date(-1,t,r,n,i,a,o);return s.setFullYear(e),s}return new Date(e,t,r,n,i,a,o)}function b(e){return g(new Date(e))}function h(e){return y(new Date(e))}function g(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return a.a.count(t-1,e)}function y(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return o.b.count(t-1,e)}function O(e){return s.setTime(Date.UTC(e,0,1)),s.getUTCDay()}function v(e,t,r,n,i,a,o){if(0<=e&&e<100){const e=new Date(Date.UTC(-1,t,r,n,i,a,o));return e.setUTCFullYear(r.y),e}return new Date(Date.UTC(e,t,r,n,i,a,o))}},,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"i",(function(){return k})),r.d(t,"h",(function(){return E})),r.d(t,"a",(function(){return A})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return F})),r.d(t,"e",(function(){return D})),r.d(t,"g",(function(){return S})),r.d(t,"d",(function(){return C})),r.d(t,"f",(function(){return M}));var n=r(1),i=r(1296),a=r(1297),o=r(36),s=r(972),u=r(1298),c=r(1988),f=r(270),l=r(619),d=r(556),p=r(620),m=r(974),b=r(1989),h=r(326),g=r(660),y=r(1990),O=r(1991),v=r(1992),j=r(617);const $={};function x(e,t,r){const o=function(){const r=t();return r.invertRange||(r.invertRange=r.invert?Object(i.a)(r):r.invertExtent?Object(a.a)(r):void 0),r.type=e,r};return o.metadata=Object(n.eb)(Object(n.i)(r)),o}function k(e,t,r){return arguments.length>1?($[e]=x(e,t,r),this):E(e)?$[e]:void 0}function E(e){return Object(n.w)($,e)}function w(e,t){const r=$[e];return r&&r.metadata[t]}function A(e){return w(e,o.c)}function _(e){return w(e,o.d)}function F(e){return w(e,o.e)}function D(e){return w(e,o.j)}function S(e){return w(e,o.s)}function C(e){return w(e,o.h)}function M(e){return w(e,o.n)}k(o.g,c.a),k(o.i,f.a,o.c),k(o.j,l.a,[o.c,o.j]),k(o.m,d.a,o.c),k(o.q,d.c,o.c),k(o.r,p.a,o.c),k(o.u,m.b,[o.c,o.s]),k(o.v,b.a,[o.c,o.s]),k(o.p,h.b,[o.c,o.h]),k(`${o.p}-${o.i}`,h.b,[o.c,o.h]),k(`${o.p}-${o.j}`,h.c,[o.c,o.h,o.j]),k(`${o.p}-${o.m}`,h.d,[o.c,o.h]),k(`${o.p}-${o.q}`,h.e,[o.c,o.h]),k(`${o.p}-${o.r}`,h.f,[o.c,o.h]),k(`${o.f}-${o.i}`,g.a,[o.c,o.h]),k(`${o.f}-${o.j}`,g.b,[o.c,o.h,o.j]),k(`${o.f}-${o.m}`,g.c,[o.c,o.h]),k(`${o.f}-${o.q}`,g.d,[o.c,o.h]),k(`${o.f}-${o.r}`,g.e,[o.c,o.h]),k(o.n,y.a,[o.e,o.n]),k(o.o,O.a,o.e),k(o.t,v.a,o.e),k(o.b,u.a,[o.d,o.e]),k(o.k,j.a,o.d),k(o.a,s.a,o.d),k(o.l,s.b,o.d)},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return s}));var n=r(149),i=r(1);function a(e){return e=e||i.hb,function(t,r,i,a,o,s){return i*=t.pixelRatio,a*=t.pixelRatio,Object(n.a)(r,r=>{var n=r.bounds;if((!n||n.contains(o,s))&&n)return e(t,r,i,a,o,s)?r:void 0})}}function o(e,t){return function(r,n,i,a){var o,s,u=Array.isArray(n)?n[0]:n,c=null==t?u.fill:t,f=u.stroke&&r.isPointInStroke;return f&&(o=u.strokeWidth,s=u.strokeCap,r.lineWidth=null!=o?o:1,r.lineCap=null!=s?s:"butt"),!e(r,n)&&(c&&r.isPointInPath(i,a)||f&&r.isPointInStroke(i,a))}}function s(e){return a(o(e))}},,function(e,t,r){"use strict";var n=r(148);r.d(t,"b",(function(){return n.b})),r.d(t,"a",(function(){return n.a}));var i=r(1192);r.d(t,"f",(function(){return i.a}));var a=r(1193);r.d(t,"c",(function(){return a.a}));var o=r(716);r.d(t,"e",(function(){return o.a}));var s=r(715);r.d(t,"d",(function(){return s.a}))},,,,,,function(e,t,r){"use strict";function n(e){return null==e?null:e.fname}function i(e){return null==e?null:e.fields}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),t.c=function(e,t,r){return e.fields=t||[],e.fname=r,e}},function(e,t,r){"use strict";function n(e,t,r,n){e=e.filter(e=>{let n=t(e),i=r(e);return null!=n&&(n=+n)>=n&&null!=i&&(i=+i)>=i}),n&&e.sort((e,r)=>t(e)-t(r));const i=e.length,a=new Float64Array(i),o=new Float64Array(i);let s,u,c,f=0,l=0,d=0;for(c of e)a[f]=s=+t(c),o[f]=u=+r(c),++f,l+=(s-l)/f,d+=(u-d)/f;for(f=0;f<i;++f)a[f]-=l,o[f]-=d;return[a,o,l,d]}function i(e,t,r,n){let i,a,o=-1;for(const s of e)i=t(s),a=r(s),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&n(i,a,++o)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=Math.random;function i(e){n=e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o}));const n=":",i="@",a="%",o="$"},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return l})),r.d(t,"g",(function(){return d}));var n=r(237),i=r(47),a=r(1);function o(e,t,r){return Object(i.s)(e||0,t||0,r||0)}function s(e,t){const r=Object(n.a)(e,(t||this).context);return r&&r.bandwidth?r.bandwidth():0}function u(e,t){const r=Object(n.a)(e,(t||this).context);return r?r.copy():void 0}function c(e,t){const r=Object(n.a)(e,(t||this).context);return r?r.domain():[]}function f(e,t,r){const i=Object(n.a)(e,(r||this).context);return i?Object(a.B)(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0}function l(e,t){const r=Object(n.a)(e,(t||this).context);return r&&r.range?r.range():[]}function d(e,t,r){const i=Object(n.a)(e,(r||this).context);return i?i(t):void 0}},,,,,,,,,function(e,t,r){const n=r(672),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=r(671),{re:o,t:s}=r(501),{compareIdentifiers:u}=r(883);class c{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=c},,,function(e,t,r){"use strict";function n(e,t){return"translate("+e+","+t+")"}function i(e){return"rotate("+e+")"}function a(e){return n(e.x||0,e.y||0)}function o(e){return n(e.x||0,e.y||0)+(e.angle?" "+i(e.angle):"")}function s(e){return n(e.x||0,e.y||0)+(e.angle?" "+i(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,r=e.scaleY||1,"scale("+t+","+r+")"):"");var t,r}r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s}))},,,,function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return b}));var n=r(1);function i(e,t,r){return r||e+(t?"_"+t:"")}const a=()=>{},o={init:a,add:a,rem:a,idx:0},s={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,r)=>{t<e.min&&(e.argmin=r)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,r)=>{t>e.max&&(e.argmax=r)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},u=Object.keys(s);function c(e,t){return s[e](t)}function f(e,t){return e.idx-t.idx}function l(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function d(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(r=>r.add(this,e,t))):++this.missing}function p(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(r=>r.rem(this,e,t))):--this.missing}function m(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function b(e,t){const r=t||n.y,i=function(e){const t={};e.forEach(e=>t[e.name]=e);const r=e=>{e.req&&e.req.forEach(e=>{t[e]||r(t[e]=s[e]())})};return e.forEach(r),Object.values(t).sort(f)}(e),a=e.slice().sort(f);function o(e){this._ops=i,this._out=a,this.cell=e,this.init()}return o.prototype.init=l,o.prototype.add=d,o.prototype.rem=p,o.prototype.set=m,o.prototype.get=r,o.fields=e.map(e=>e.out),o}u.forEach(e=>{s[e]=function(e,t){return r=>Object(n.p)({name:e,out:r||e},o,t)}(e,s[e])})},,function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u}));var n=r(218),i=r(161),a=r(201),o=r(1);function s(e,t){let r;return Object(o.E)(e)?e:Object(o.I)(e)?(r=t.scales[e])&&r.value:void 0}function u(e,t,r){t.__bandwidth=e=>e&&e.bandwidth?e.bandwidth():0,r._bandwidth=i.c,r._range=i.c,r._scale=i.c;const s=t=>"_["+(t.type===a.b?Object(o.ab)(n.c+t.value):Object(o.ab)(n.c)+"+"+e(t))+"]";return{_bandwidth:e=>`this.__bandwidth(${s(e[0])})`,_range:e=>s(e[0])+".range()",_scale:t=>`${s(t[0])}(${e(t[1])})`}}},,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e,t,r){var n=document.createElement(e);for(var i in t)n.setAttribute(i,t[i]);return null!=r&&(n.textContent=r),n}},,,,,function(e,t,r){"use strict";t.a=function(e,t,r){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const n=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(n+(r?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,n):0))}return e}},,function(e,t,r){"use strict";var n=r(1201);r.d(t,"a",(function(){return n.a}))},,function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s}));var n=0;function i(){n=0}const a="p_";function o(e){return e&&e.gradient}function s(e,t,r){const i=e.gradient;let o=e.id,s="radial"===i?a:"";return o||(o=e.id="gradient_"+n++,"radial"===i?(e.x1=u(e.x1,.5),e.y1=u(e.y1,.5),e.r1=u(e.r1,0),e.x2=u(e.x2,.5),e.y2=u(e.y2,.5),e.r2=u(e.r2,.5),s=a):(e.x1=u(e.x1,0),e.y1=u(e.y1,0),e.x2=u(e.x2,1),e.y2=u(e.y2,0))),t[o]=e,"url("+(r||"")+"#"+s+o+")"}function u(e,t){return null!=e?e:t}t.a=function(e,t){var r,n=[];return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(e,t){return n.push({offset:e,color:t}),r}}}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(600),i=r(330),a=r(1);let o=0;const s=new n.a;function u(e,t,r,n){this.id=++o,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),r&&this.parameters(r,n)}function c(e){return function(t){const r=this.flags;return 0===arguments.length?!!(r&e):(this.flags=t?r|e:r&~e,this)}}u.prototype={targets(){return this._targets||(this._targets=Object(i.a)(a.x))},set(e){return this.value!==e?(this.value=e,1):0},skip:c(1),modified:c(2),parameters(e,t,r){t=!1!==t;const i=this._argval=this._argval||new n.a,o=this._argops=this._argops||[],s=[];let c,f,l,d;const p=(e,r,n)=>{n instanceof u?(n!==this&&(t&&n.targets().add(this),s.push(n)),o.push({op:n,name:e,index:r})):i.set(e,r,n)};for(c in e)if(f=e[c],"pulse"===c)Object(a.i)(f).forEach(e=>{e instanceof u?e!==this&&(e.targets().add(this),s.push(e)):Object(a.o)("Pulse parameters must be operator instances.")}),this.source=f;else if(Object(a.B)(f))for(i.set(c,-1,Array(l=f.length)),d=0;d<l;++d)p(c,d,f[d]);else p(c,-1,f);return this.marshall().clear(),r&&(o.initonly=!0),s},marshall(e){const t=this._argval||s,r=this._argops;let n,i,a,o;if(r){const s=r.length;for(i=0;i<s;++i)n=r[i],a=n.op,o=a.modified()&&a.stamp===e,t.set(n.name,n.index,a.value,o);if(r.initonly){for(i=0;i<s;++i)n=r[i],n.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,r,n,i;if(e)for(t=0,r=e.length;t<r;++t)n=e[t],i=n.op,i._targets&&i._targets.remove(this)},evaluate(e){const t=this._update;if(t){const r=this.marshall(e.stamp),n=t.call(this,r,e);if(r.clear(),n!==this.value)this.value=n;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}}},,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(700);function i(e){this._el=null,this._bgcolor=null,this._loader=new n.a(e)}i.prototype={initialize(e,t,r,n,i){return this._el=e,this.resize(t,r,n,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,r,n){return this._width=e,this._height=t,this._origin=r||[0,0],this._scale=n||1,this},dirty(){},render(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){var t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var r=this,n=r._loader[e](t);if(!r._ready){var i=r._call;r._ready=r._loader.ready().then(e=>{e&&i(),r._ready=null})}return n},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}}},,,,,function(e,t,r){"use strict";t.a=function(e,t){return null==e?t:e}},,function(e,t,r){"use strict";var n=r(336);r.d(t,"c",(function(){return n.a}));var i=r(337);r.d(t,"e",(function(){return i.b}));var a=r(667);r.d(t,"b",(function(){return a.b})),r.d(t,"a",(function(){return a.a})),r.d(t,"d",(function(){return a.c}))},function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return c}));var n=r(613),i=r(217);let a=NaN;function o(e,t){e=e||0,t=null==t?1:t;let r,n,o=0,s=0;if(a==a)o=a,a=NaN;else{do{o=2*Object(i.a)()-1,s=2*Object(i.a)()-1,r=o*o+s*s}while(0===r||r>1);n=Math.sqrt(-2*Math.log(r)/r),o*=n,a=s*n}return e+o*t}function s(e,t,r){const i=(e-(t||0))/(r=null==r?1:r);return Math.exp(-.5*i*i)/(r*n.b)}function u(e,t,r){const n=(e-(t=t||0))/(r=null==r?1:r),i=Math.abs(n);let a;if(i>37)a=0;else{const e=Math.exp(-i*i/2);let t;i<7.07106781186547?(t=.0352624965998911*i+.700383064443688,t=t*i+6.37396220353165,t=t*i+33.912866078383,t=t*i+112.079291497871,t=t*i+221.213596169931,t=t*i+220.206867912376,a=e*t,t=.0883883476483184*i+1.75566716318264,t=t*i+16.064177579207,t=t*i+86.7807322029461,t=t*i+296.564248779674,t=t*i+637.333633378831,t=t*i+793.826512519948,t=t*i+440.413735824752,a/=t):(t=i+.65,t=i+4/t,t=i+3/t,t=i+2/t,t=i+1/t,a=e/t/2.506628274631)}return n>0?1-a:a}function c(e,t,r){return e<0||e>1?NaN:(t||0)+(null==r?1:r)*n.a*function(e){let t,r=-Math.log((1-e)*(1+e));r<6.25?(r-=3.125,t=-364441206401782e-35,t=t*r-16850591381820166e-35,t=128584807152564e-32+t*r,t=11157877678025181e-33+t*r,t=t*r-1333171662854621e-31,t=20972767875968562e-33+t*r,t=6637638134358324e-30+t*r,t=t*r-4054566272975207e-29,t=t*r-8151934197605472e-29,t=26335093153082323e-28+t*r,t=t*r-12975133253453532e-27,t=t*r-5415412054294628e-26,t=1.0512122733215323e-9+t*r,t=t*r-4.112633980346984e-9,t=t*r-2.9070369957882005e-8,t=4.2347877827932404e-7+t*r,t=t*r-13654692000834679e-22,t=t*r-13882523362786469e-21,t=.00018673420803405714+t*r,t=t*r-.000740702534166267,t=t*r-.006033670871430149,t=.24015818242558962+t*r,t=1.6536545626831027+t*r):r<16?(r=Math.sqrt(r)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*r,t=t*r-2.7517406297064545e-7,t=1.8239629214389228e-8+t*r,t=15027403968909828e-22+t*r,t=t*r-4013867526981546e-21,t=29234449089955446e-22+t*r,t=12475304481671779e-21+t*r,t=t*r-47318229009055734e-21,t=6828485145957318e-20+t*r,t=24031110387097894e-21+t*r,t=t*r-.0003550375203628475,t=.0009532893797373805+t*r,t=t*r-.0016882755560235047,t=.002491442096107851+t*r,t=t*r-.003751208507569241,t=.005370914553590064+t*r,t=1.0052589676941592+t*r,t=3.0838856104922208+t*r):Number.isFinite(r)?(r=Math.sqrt(r)-5,t=-27109920616438573e-27,t=t*r-2.555641816996525e-10,t=1.5076572693500548e-9+t*r,t=t*r-3.789465440126737e-9,t=7.61570120807834e-9+t*r,t=t*r-1.496002662714924e-8,t=2.914795345090108e-8+t*r,t=t*r-6.771199775845234e-8,t=2.2900482228026655e-7+t*r,t=t*r-9.9298272942317e-7,t=4526062597223154e-21+t*r,t=t*r-1968177810553167e-20,t=7599527703001776e-20+t*r,t=t*r-.00021503011930044477,t=t*r-.00013871931833623122,t=1.0103004648645344+t*r,t=4.849906401408584+t*r):t=1/0;return t*e}(2*e-1)}t.b=function(e,t){let r,n;const i={mean(e){return arguments.length?(r=e||0,i):r},stdev(e){return arguments.length?(n=null==e?1:e,i):n},sample:()=>o(r,n),pdf:e=>s(e,r,n),cdf:e=>u(e,r,n),icdf:e=>c(e,r,n)};return i.mean(e).stdev(t)}},function(e,t,r){"use strict";var n=r(208);t.a=function(e,t,r,i,a){let o=0,s=0;return Object(n.b)(e,t,r,(e,t)=>{const r=t-a(e),n=t-i;o+=r*r,s+=n*n}),1-o/s}},function(e,t,r){"use strict";var n=r(669);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b}))},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(169),i=r(1);const a={};function o(e,t,r){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=r||null}function s(e,t){const r=[];return Object(i.jb)(e,t,e=>r.push(e)),r}function u(e,t){const r={};return e.visit(t,e=>{r[Object(n.g)(e)]=1}),e=>r[Object(n.g)(e)]?null:e}function c(e,t){return e?(r,n)=>e(r,n)&&t(r,n):t}o.prototype={StopPropagation:a,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new o(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new o(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const r=this;return r.stamp=e.stamp,r.encode=e.encode,!e.fields||64&t||(r.fields=e.fields),1&t?(r.addF=e.addF,r.add=e.add):(r.addF=null,r.add=[]),2&t?(r.remF=e.remF,r.rem=e.rem):(r.remF=null,r.rem=[]),4&t?(r.modF=e.modF,r.mod=e.mod):(r.modF=null,r.mod=[]),32&t?(r.srcF=null,r.source=null):(r.srcF=e.srcF,r.source=e.source,e.cleans&&(r.cleans=e.cleans)),r},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,r=this.source&&this.source.length;return r&&r!==t&&(this.mod=this.source,t&&this.filter(4,u(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Object(i.B)(e)?e.forEach(e=>t[e]=!0):t[e]=!0,this},modified(e,t){const r=this.fields;return!(!t&&!this.mod.length||!r)&&(arguments.length?Object(i.B)(e)?e.some(e=>r[e]):r[e]:!!r)},filter(e,t){const r=this;return 1&e&&(r.addF=c(r.addF,t)),2&e&&(r.remF=c(r.remF,t)),4&e&&(r.modF=c(r.modF,t)),16&e&&(r.srcF=c(r.srcF,t)),r},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=s(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=s(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=s(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const r=this,n=t;if(16&e)return Object(i.jb)(r.source,r.srcF,n),r;1&e&&Object(i.jb)(r.add,r.addF,n),2&e&&Object(i.jb)(r.rem,r.remF,n),4&e&&Object(i.jb)(r.mod,r.modF,n);const a=r.source;if(8&e&&a){const e=r.add.length+r.mod.length;e===a.length||(e?Object(i.jb)(a,u(r,5),n):Object(i.jb)(a,r.srcF,n))}return r}}},,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}const o=(e,t)=>e.parent===t.parent?1:2;Object(i.z)(a,n.g,{transform(e,t){t.source&&t.source.root||Object(i.o)(this.constructor.name+" transform requires a backing tree data source.");const r=this.layout(e.method),a=this.fields,s=t.source.root,u=e.as||a;e.field?s.sum(e.field):s.count(),e.sort&&s.sort(Object(n.q)(e.sort,e=>e.data)),function(e,t,r){for(let n,i=0,a=t.length;i<a;++i)n=t[i],n in r&&e[n](r[n])}(r,this.params,e),r.separation&&r.separation(!1!==e.separation?o:i.P);try{this.value=r(s)}catch(e){Object(i.o)(e)}return s.each(e=>function(e,t,r){const n=e.data,i=t.length-1;for(let a=0;a<i;++a)n[r[a]]=e[t[a]];n[r[i]]=e.children?e.children.length:0}(e,a,u)),t.reflow(e.modified()).modifies(u).modifies("leaf")}})},,,,,,,,,,,,,function(e,t,r){const n=r(228);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},function(e,t,r){class n{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof i)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=this.options.loose;e=e.trim();const r=t?s[u.HYPHENRANGELOOSE]:s[u.HYPHENRANGE];e=e.replace(r,x(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(s[u.COMPARATORTRIM],c),a("comparator trim",e,s[u.COMPARATORTRIM]),e=(e=(e=e.replace(s[u.TILDETRIM],f)).replace(s[u.CARETTRIM],l)).split(/\s+/).join(" ");const n=t?s[u.COMPARATORLOOSE]:s[u.COMPARATOR];return e.split(" ").map(e=>p(e,this.options)).join(" ").split(/\s+/).map(e=>$(e,this.options)).filter(this.options.loose?e=>!!e.match(n):()=>!0).map(e=>new i(e,this.options))}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some(r=>d(r,t)&&e.set.some(e=>d(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(k(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const i=r(674),a=r(672),o=r(228),{re:s,t:u,comparatorTrimReplace:c,tildeTrimReplace:f,caretTrimReplace:l}=r(501),d=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},p=(e,t)=>(a("comp",e,t),e=g(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=O(e,t),a("xrange",e),e=j(e,t),a("stars",e),e),m=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map(e=>h(e,t)).join(" "),h=(e,t)=>{const r=t.loose?s[u.TILDELOOSE]:s[u.TILDE];return e.replace(r,(t,r,n,i,o)=>{let s;return a("tilde",e,t,r,n,i,o),m(r)?s="":m(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:m(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",s),s})},g=(e,t)=>e.trim().split(/\s+/).map(e=>y(e,t)).join(" "),y=(e,t)=>{a("caret",e,t);const r=t.loose?s[u.CARETLOOSE]:s[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,o,s)=>{let u;return a("caret",e,t,r,i,o,s),m(r)?u="":m(i)?u=`>=${r}.0.0${n} <${+r+1}.0.0-0`:m(o)?u="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),u="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(a("no pr"),u="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),a("caret return",u),u})},O=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map(e=>v(e,t)).join(" ")),v=(e,t)=>{e=e.trim();const r=t.loose?s[u.XRANGELOOSE]:s[u.XRANGE];return e.replace(r,(r,n,i,o,s,u)=>{a("xRange",e,r,n,i,o,s,u);const c=m(i),f=c||m(o),l=f||m(s),d=l;return"="===n&&d&&(n=""),u=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(f&&(o=0),s=0,">"===n?(n=">=",f?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",f?i=+i+1:o=+o+1),"<"===n&&(u="-0"),r=`${n+i}.${o}.${s}${u}`):f?r=`>=${i}.0.0${u} <${+i+1}.0.0-0`:l&&(r=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),a("xRange return",r),r})},j=(e,t)=>(a("replaceStars",e,t),e.trim().replace(s[u.STAR],"")),$=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(s[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),x=e=>(t,r,n,i,a,o,s,u,c,f,l,d,p)=>`${r=m(n)?"":m(i)?`>=${n}.0.0${e?"-0":""}`:m(a)?`>=${n}.${i}.0${e?"-0":""}`:o?">="+r:`>=${r}${e?"-0":""}`} ${u=m(c)?"":m(f)?`<${+c+1}.0.0-0`:m(l)?`<${c}.${+f+1}.0-0`:d?`<=${c}.${f}.${l}-${d}`:e?`<${c}.${f}.${+l+1}-0`:"<="+u}`.trim(),k=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==i.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},,function(e,t,r){"use strict";t.a=function(e){return e[e.length-1]}},function(e,t,r){"use strict";r.d(t,"e",(function(){return s}));var n=r(1261),i=r(1086);r.d(t,"f",(function(){return i.a}));var a=r(404);r.d(t,"c",(function(){return a.a})),r.d(t,"d",(function(){return a.b})),r.d(t,"h",(function(){return a.c}));var o=r(504);r.d(t,"a",(function(){return o.a})),r.d(t,"b",(function(){return o.b})),r.d(t,"g",(function(){return o.c}));var s=Object(n.a)("undefined"!=typeof fetch&&fetch,null)},,function(e,t,r){"use strict";t.a=function(e,t){e.globalCompositeOperation=t.blend||"source-over"}},,,function(e,t,r){"use strict";r.d(t,"d",(function(){return o}));var n=r(1572),i=r(730),a=(r(607),r(731));r.d(t,"c",(function(){return a.b}));r(732);r.d(t,"a",(function(){return i.a}));const o=n.version;t.b=function(e,t){const r=new i.a(t);return e.tooltip(r.call).run(),r}},,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return s}));const n="intersect",i="union",a="vlMulti",o="or",s="and"},,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return f}));var n=r(207),i=r(509);const a=Object(i.a)("id"),o=Object(n.c)(e=>e,[],"identity"),s=Object(n.c)(()=>0,[],"zero"),u=Object(n.c)(()=>1,[],"one"),c=Object(n.c)(()=>!0,[],"true"),f=Object(n.c)(()=>!1,[],"false")},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(1);function i(e){const t=e||n.y,r=[],i={};return r.add=e=>{const n=t(e);return i[n]||(i[n]=1,r.push(e)),r},r.remove=e=>{const n=t(e);if(i[n]){i[n]=0;const t=r.indexOf(e);t>=0&&r.splice(t,1)}return r},r}},function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(150),i=r(1),a=1;function o(){a=1}t.a=function(e,t,r){var o=t.clip,s=e._defs,u=t.clip_id||(t.clip_id="clip"+a++),c=s.clipping[u]||(s.clipping[u]={id:u});return Object(i.E)(o)?c.path=o(null):Object(n.c)(r)?c.path=Object(n.e)(null,r,0,0):(c.width=r.width||0,c.height=r.height||0),"url(#"+u+")"}},function(e,t,r){"use strict";var n=r(101);const i=n.e-1e-8;let a,o,s,u,c,f,l,d;const p=(e,t)=>a.add(e,t),m=(e,t)=>p(o=e,s=t),b=e=>p(e,a.y1),h=e=>p(a.x1,e),g=(e,t)=>c*e+l*t,y=(e,t)=>f*e+d*t,O=(e,t)=>p(g(e,t),y(e,t)),v=(e,t)=>m(g(e,t),y(e,t));t.a=function(e,t){return a=e,t?(u=t*n.a,c=d=Math.cos(u),f=Math.sin(u),l=-f):(c=d=1,u=f=l=0),j};const j={beginPath(){},closePath(){},moveTo:v,lineTo:v,rect(e,t,r,n){u?(O(e+r,t),O(e+r,t+n),O(e,t+n),v(e,t)):(p(e+r,t+n),m(e,t))},quadraticCurveTo(e,t,r,n){const i=g(e,t),a=y(e,t),u=g(r,n),c=y(r,n);$(o,i,u,b),$(s,a,c,h),m(u,c)},bezierCurveTo(e,t,r,n,i,a){const u=g(e,t),c=y(e,t),f=g(r,n),l=y(r,n),d=g(i,a),p=y(i,a);x(o,u,f,d,b),x(s,c,l,p,h),m(d,p)},arc(e,t,r,a,c,f){if(a+=u,c+=u,o=r*Math.cos(c)+e,s=r*Math.sin(c)+t,Math.abs(c-a)>i)p(e-r,t-r),p(e+r,t+r);else{const i=n=>p(r*Math.cos(n)+e,r*Math.sin(n)+t);let o,s;if(i(a),i(c),c!==a)if((a%=n.e)<0&&(a+=n.e),(c%=n.e)<0&&(c+=n.e),c<a&&(f=!f,o=a,a=c,c=o),f)for(c-=n.e,o=a-a%n.c,s=0;s<4&&o>c;++s,o-=n.c)i(o);else for(o=a-a%n.c+n.c,s=0;s<4&&o<c;++s,o+=n.c)i(o)}}};function $(e,t,r,n){const i=(e-t)/(e+r-2*t);0<i&&i<1&&n(e+(t-e)*i)}function x(e,t,r,i,a){const o=i-e+3*t-3*r,s=e+r-2*t,u=e-t;let c,f=0,l=0;Math.abs(o)>n.b?(c=s*s+u*o,c>=0&&(c=Math.sqrt(c),f=(-s+c)/o,l=(-s-c)/o)):f=.5*u/s,0<f&&f<1&&a(k(f,e,t,r,i)),0<l&&l<1&&a(k(l,e,t,r,i))}function k(e,t,r,n,i){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*r+3*a*s*n+s*e*i}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o}));var n=r(1);function i(e){const t=this.context.data[e];return t?t.values.value:[]}function a(e,t,r){const n=this.context.data[e]["index:"+t],i=n?n.value.get(r):void 0;return i?i.count:i}function o(e,t){const r=this.context.dataflow,i=this.context.data[e].input;return r.pulse(i,r.changeset().remove(n.hb).insert(t)),1}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(64),i=r(28),a=r(1);function o(e,t,r,n,i){this.scope=e,this.input=t,this.output=r,this.values=n,this.aggregate=i,this.index={}}function s(e){return Object(a.I)(e)?e:null}function u(e,t,r){const n=Object(i.e)(r.op,r.field);let a;if(t.ops){for(let e=0,r=t.as.length;e<r;++e)if(t.as[e]===n)return}else t.ops=["count"],t.fields=[null],t.as=["count"];r.op&&(t.ops.push((a=r.op.signal)?e.signalRef(a):r.op),t.fields.push(e.fieldRef(r.field)),t.as.push(n))}function c(e,t,r,n,a,o,u){const c=t[r]||(t[r]={}),f=Object(i.q)(o);let l,d,p=s(a);if(null!=p&&(e=t.scope,p+=f?"|"+f:"",l=c[p]),!l){const r=o?{field:i.m,pulse:t.countsRef(e,a,o)}:{field:e.fieldRef(a),pulse:Object(i.p)(t.output)};f&&(r.sort=e.sortRef(o)),d=e.add(Object(i.h)(n,void 0,r)),u&&(t.index[a]=d),l=Object(i.p)(d),null!=p&&(c[p]=l)}return l}o.fromEntries=function(e,t){const r=t.length,n=t[r-1],a=t[r-2];let s=t[0],u=null,c=1;for(s&&"load"===s.type&&(s=t[1]),e.add(t[0]);c<r;++c)t[c].params.pulse=Object(i.p)(t[c-1]),e.add(t[c]),"aggregate"===t[c].type&&(u=t[c]);return new o(e,s,a,n,u)},o.prototype={countsRef(e,t,r){const a=this,o=a.counts||(a.counts={}),c=s(t);let f,l,d;return null!=c&&(e=a.scope,f=o[c]),f?r&&r.field&&u(e,f.agg.params,r):(d={groupby:e.fieldRef(t,"key"),pulse:Object(i.p)(a.output)},r&&r.field&&u(e,d,r),l=e.add(Object(n.a)(d)),f=e.add(Object(n.d)({pulse:Object(i.p)(l)})),f={agg:l,ref:Object(i.p)(f)},null!=c&&(o[c]=f)),f.ref},tuplesRef(){return Object(i.p)(this.values)},extentRef(e,t){return c(e,this,"extent","extent",t,!1)},domainRef(e,t){return c(e,this,"domain","values",t,!1)},valuesRef(e,t,r){return c(e,this,"vals","values",t,r||!0)},lookupRef(e,t){return c(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return c(e,this,"indata","tupleindex",t,!0,!0)}}},,function(e,t,r){"use strict";r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return m})),r.d(t,"a",(function(){return b}));var n=r(485),i=r(307),a=r(573),o=r(1656),s=r(1657),u=r(1658),c=r(659),f=r(961);function l(e){const t=Object(n.a)(e.format),r=e.formatPrefix;return{format:t,formatPrefix:r,formatFloat(e){const r=Object(a.a)(e||",");if(null==r.precision){switch(r.precision=12,r.type){case"%":r.precision-=2;break;case"e":r.precision-=1}return n=t(r),i=t(".1f")(1)[1],e=>{const t=n(e),r=t.indexOf(i);if(r<0)return t;let a=function(e,t){let r,n=e.lastIndexOf("e");if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}(t,r);const o=a<t.length?t.slice(a):"";for(;--a>r;)if("0"!==t[a]){++a;break}return t.slice(0,a)+o}}return t(r);var n,i},formatSpan(e,n,c,f){f=Object(a.a)(null==f?",f":f);const l=Object(i.c)(e,n,c),d=Math.max(Math.abs(e),Math.abs(n));let p;if(null==f.precision)switch(f.type){case"s":return isNaN(p=Object(o.a)(l,d))||(f.precision=p),r(f,d);case"":case"e":case"g":case"p":case"r":isNaN(p=Object(s.a)(l,d))||(f.precision=p-("e"===f.type));break;case"f":case"%":isNaN(p=Object(u.a)(l))||(f.precision=p-2*("%"===f.type))}return t(f)}}}let d;function p(){return d=l({format:c.a,formatPrefix:c.b})}function m(e){return l(Object(f.a)(e))}function b(e){return arguments.length?d=m(e):d}p()},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return p}));var n=r(485),i=r(90),a=r(1),o=r(583),s=r(965);function u(e,t,r){r=r||{},Object(a.G)(r)||Object(a.o)("Invalid time multi-format specifier: "+r);const n=t(i.i),o=t(i.f),s=t(i.d),u=t(i.a),c=t(i.k),f=t(i.g),l=t(i.h),d=t(i.l),p=e(r[i.e]||".%L"),m=e(r[i.i]||":%S"),b=e(r[i.f]||"%I:%M"),h=e(r[i.d]||"%I %p"),g=e(r[i.a]||r[i.b]||"%a %d"),y=e(r[i.k]||"%b %d"),O=e(r[i.g]||"%B"),v=e(r[i.h]||"%B"),j=e(r[i.l]||"%Y");return e=>(n(e)<e?p:o(e)<e?m:s(e)<e?b:u(e)<e?h:f(e)<e?c(e)<e?g:y:d(e)<e?l(e)<e?O:v:j)(e)}function c(e){const t=Object(n.a)(e.format),r=Object(n.a)(e.utcFormat);return{timeFormat:e=>Object(a.I)(e)?t(e):u(t,i.p,e),utcFormat:e=>Object(a.I)(e)?r(e):u(r,i.v,e),timeParse:Object(n.a)(e.parse),utcParse:Object(n.a)(e.utcParse)}}let f;function l(){return f=c({format:o.a,parse:o.b,utcFormat:o.c,utcParse:o.d})}function d(e){return c(Object(s.a)(e))}function p(e){return arguments.length?f=d(e):f}l()},function(e,t,r){"use strict";t.a=function(e,t,r,n){const i=n-e*e,a=Math.abs(i)<1e-24?0:(r-e*t)/i;return[t-a*e,a]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r(1);function i(e,t){return e?e.map((e,r)=>t[r]||Object(n.h)(e)):null}function a(e,t,r){const n=[],i=e=>e(u);let a,o,s,u,c,f;if(null==t)n.push(e.map(r));else for(a={},o=0,s=e.length;o<s;++o)u=e[o],c=t.map(i),f=a[c],f||(a[c]=f=[],f.dims=c,n.push(f)),f.push(r(u));return n}},function(e,t,r){"use strict";var n=r(670);r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"a",(function(){return n.a}))},,,,,function(e,t,r){"use strict";const n=Object.prototype.hasOwnProperty;t.a=function(e,t){return n.call(e,t)}},,function(e,t,r){"use strict";var n=r(745),i=[];t.a=function(e,t,r){var a=null!=(a=t.strokeWidth)?a:1;return!(a<=0)&&((r*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=r,e.strokeStyle=Object(n.a)(e,t,t.stroke),e.lineWidth=a,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||i),e.lineDashOffset=t.strokeDashOffset||0),!0))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(88),i=r(1294),a=r(314);function o(e,t){this._active=null,this._handlers={},this._loader=e||Object(a.e)(),this._tooltip=t||s}function s(e,t,r,n){e.element().setAttribute("title",n||"")}o.prototype={initialize(e,t,r){return this._el=e,this._obj=r||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,r){for(let n=e?e.length:0;--n>=0;)if(e[n].type===t&&(!r||e[n].handler===r))return n;return-1},handlers(e){const t=this._handlers,r=[];if(e)r.push.apply(r,t[this.eventName(e)]);else for(const e in t)r.push.apply(r,t[e]);return r},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,r){this._loader.sanitize(r,{context:"href"}).then(t=>{const r=new MouseEvent(e.type,e),i=Object(n.d)(null,"a");for(const e in t)i.setAttribute(e,t[e]);i.dispatchEvent(r)}).catch(()=>{})},handleTooltip(e,t,r){if(t&&null!=t.tooltip){t=Object(i.a)(t,e,this.canvas(),this._origin);const n=r&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,n)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const r=t.getBoundingClientRect(),n=this._origin,i=e.bounds,a=i.width(),o=i.height();let s=i.x1+n[0]+r.left,u=i.y1+n[1]+r.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,u+=e.y||0;return{x:s,y:u,width:a,height:o,left:s,top:u,right:s+a,bottom:u+o}}}},function(e,t,r){"use strict";function n(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function i(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function a(e){var t=e.padding(),r=e._origin;return[t.left+r[0],t.top+r[1]]}function o(e){var t=a(e),r=n(e),o=i(e);e._renderer.background(e.background()),e._renderer.resize(r,o,t),e._handler.origin(t),e._resizeListeners.forEach(t=>{try{t(r,o)}catch(t){e.error(t)}})}r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o}))},,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return g})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return O})),r.d(t,"h",(function(){return v}));var n=r(329),i=r(313),a=r(599);const o=e=>t=>e*Math.exp(t),s=e=>t=>Math.log(e*t),u=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),c=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,f=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function l(e,t,r,n){const a=r(e[0]),o=r(Object(i.a)(e)),s=(o-a)*t;return[n(a-s),n(o-s)]}function d(e,t){return l(e,t,a.a,n.c)}function p(e,t){var r=Math.sign(e[0]);return l(e,t,s(r),o(r))}function m(e,t,r){return l(e,t,f(r),f(1/r))}function b(e,t,r){return l(e,t,u(r),c(r))}function h(e,t,r,n,a){const o=n(e[0]),s=n(Object(i.a)(e)),u=null!=t?n(t):(o+s)/2;return[a(u+(o-u)*r),a(u+(s-u)*r)]}function g(e,t,r){return h(e,t,r,a.a,n.c)}function y(e,t,r){const n=Math.sign(e[0]);return h(e,t,r,s(n),o(n))}function O(e,t,r,n){return h(e,t,r,f(n),f(1/n))}function v(e,t,r,n){return h(e,t,r,u(n),c(n))}},function(e,t,r){"use strict";r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return d}));var n=r(198),i=r(1),a=r(748),o=r(505);const s=["clamp","base","constant","exponent"];function u(e,t){const r=t[0],n=Object(i.V)(t)-r;return function(t){return e(r+t*n)}}function c(e,t,r){return a.a(d(t||"rgb",r),e)}function f(e,t){const r=new Array(t),n=t+1;for(let i=0;i<t;)r[i]=e(++i/n);return r}function l(e,t,r){const a=r-t;let o,u,c;return a&&Number.isFinite(a)?(o=(u=e.type).indexOf("-"),u=o<0?u:u.slice(o+1),c=Object(n.i)(u)().domain([t,r]).range([0,1]),s.forEach(t=>e[t]?c[t](e[t]()):0),c):Object(i.m)(.5)}function d(e,t){const r=o[function(e){return"interpolate"+e.toLowerCase().split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}(e)];return null!=t&&r&&r.gamma?r.gamma(t):r}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return m}));var n=r(198),i=r(36),a=r(90),o=r(1);const s=e=>Object(o.B)(e)?e.map(e=>String(e)):String(e),u=(e,t)=>e[1]-t[1],c=(e,t)=>t[1]-e[1];function f(e,t,r){let n;return Object(o.F)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=r&&(t=Math.min(t,Math.floor(Object(o.Y)(e.domain())/r||1)))),Object(o.G)(t)&&(n=t.step,t=t.interval),Object(o.I)(t)&&(t=e.type===i.u?Object(a.p)(t):e.type==i.v?Object(a.v)(t):Object(o.o)("Only time and utc scales accept interval strings."),n&&(t=t.every(n))),t}function l(e,t,r){let n=e.range(),i=n[0],a=Object(o.V)(n),s=u;if(i>a&&(n=a,a=i,i=n,s=c),i=Math.floor(i),a=Math.ceil(a),t=t.map(t=>[t,e(t)]).filter(e=>i<=e[1]&&e[1]<=a).sort(s).map(e=>e[0]),r>0&&t.length>1){const e=[t[0],Object(o.V)(t)];for(;t.length>r&&t.length>=3;)t=t.filter((e,t)=>!(t%2));t.length<3&&(t=e)}return t}function d(e,t){return e.bins?l(e,e.bins):e.ticks?e.ticks(t):e.domain()}function p(e,t,r,a,o,u){const c=t.type;let f=s;if(c===i.u||o===i.u)f=e.timeFormat(a);else if(c===i.v||o===i.v)f=e.utcFormat(a);else if(Object(n.e)(c)){const n=e.formatFloat(a);if(u||t.bins)f=n;else{const e=m(t,r,!1);f=t=>e(t)?n(t):""}}else if(t.tickFormat){const n=t.domain();f=e.formatSpan(n[0],n[n.length-1],r,a)}else a&&(f=e.format(a));return f}function m(e,t,r){const n=d(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/n.length),s=e=>{let t=e/Math.pow(i,Math.round(Math.log(e)/a));return t*i<i-.5&&(t*=i),t<=o};return r?n.filter(s):s}},,function(e,t,r){"use strict";const n={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];t.a=function(e){const t=[];let r,a,o,s,u,c,f,l,d,p;const m=e.slice().replace(i[0],"###$1").split(i[1]).slice(1);for(f=0,d=m.length;f<d;++f){for(r=m[f],a=r.slice(1).trim().replace(i[2],"$1###$2").replace(i[3],"$1###$2").split(i[4]),u=r.charAt(0),o=[u],l=0,p=a.length;l<p;++l)(s=+a[l])===s&&o.push(s);if(c=n[u.toLowerCase()],o.length-1>c){const e=o.length;for(l=1,t.push([u].concat(o.slice(l,l+=c))),u="M"===u?"L":"m"===u?"l":u;l<e;l+=c)t.push([u].concat(o.slice(l,l+c)))}else t.push(o)}return t}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(611),i=r(235),a=r(741),o=r(14),s=r(1);function u(e){o.g.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}u.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},Object(s.z)(u,o.g,{transform(e,t){const r=this,n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return r.stamp=n.stamp,r.value&&(i||t.modified(r._inputs,!0))?(r._prev=r.value,r.value=i?r.init(e):{},t.visit(t.SOURCE,e=>r.add(e))):(r.value=r.value||r.init(e),t.visit(t.REM,e=>r.rem(e)),t.visit(t.ADD,e=>r.add(e))),n.modifies(r._outputs),r._drop=!1!==e.drop,e.cross&&r._dims.length>1&&(r._drop=!1,r.cross()),t.clean()&&r._drop&&n.clean(!0).runAfter(()=>this.clean()),r.changes(n)},cross(){const e=this,t=e.value,r=e._dnames,n=r.map(()=>({})),i=r.length;function a(e){let t,a,o,s;for(t in e)for(o=e[t].tuple,a=0;a<i;++a)n[a][s=o[r[a]]]=s}a(e._prev),a(t),function a(o,s,u){const c=r[u],f=n[u++];for(const r in f){const n=o?o+"|"+r:r;s[c]=f[r],u<i?a(n,s,u):t[n]||e.cell(n,s)}}("",{},0)},init(e){const t=this._inputs=[],r=this._outputs=[],a={};function o(e){const r=Object(s.i)(Object(s.g)(e)),n=r.length;let i,o=0;for(;o<n;++o)a[i=r[o]]||(a[i]=1,t.push(i))}this._dims=Object(s.i)(e.groupby),this._dnames=this._dims.map(e=>{var t=Object(s.h)(e);return o(e),r.push(t),t}),this.cellkey=e.key?e.key:Object(n.a)(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const u=e.fields||[null],c=e.ops||["count"],f=e.as||[],l=u.length,d={};let p,m,b,h,g,y;for(l!==c.length&&Object(s.o)("Unmatched number of fields and aggregate ops."),y=0;y<l;++y)p=u[y],m=c[y],null==p&&"count"!==m&&Object(s.o)("Null aggregate field specified."),h=Object(s.h)(p),g=Object(i.d)(m,h,f[y]),r.push(g),"count"!==m?(b=d[h],b||(o(p),b=d[h]=[],b.field=p,this._measures.push(b)),"count"!==m&&(this._countOnly=!1),b.push(Object(i.c)(m,g))):this._counts.push(g);return this._measures=this._measures.map(e=>Object(i.b)(e,e.field)),{}},cellkey:Object(n.a)(),cell(e,t){let r=this.value[e];return r?0===r.num&&this._drop&&r.stamp<this.stamp?(r.stamp=this.stamp,this._adds[this._alen++]=r):r.stamp<this.stamp&&(r.stamp=this.stamp,this._mods[this._mlen++]=r):(r=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=r),r},newcell(e,t){const r={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const e=this._measures,t=e.length;r.agg=Array(t);for(let n=0;n<t;++n)r.agg[n]=new e[n](r)}return r.store&&(r.data=new a.a),r},newtuple(e,t){const r=this._dnames,n=this._dims,i=n.length,a={};for(let t=0;t<i;++t)a[r[t]]=n[t](e);return t?Object(o.p)(t.tuple,a):Object(o.l)(a)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),r=this.cell(t,e);if(r.num+=1,this._countOnly)return;r.store&&r.data.add(e);const n=r.agg;for(let t=0,r=n.length;t<r;++t)n[t].add(n[t].get(e),e)},rem(e){const t=this.cellkey(e),r=this.cell(t,e);if(r.num-=1,this._countOnly)return;r.store&&r.data.rem(e);const n=r.agg;for(let t=0,r=n.length;t<r;++t)n[t].rem(n[t].get(e),e)},celltuple(e){const t=e.tuple,r=this._counts;e.store&&e.data.values();for(let n=0,i=r.length;n<i;++n)t[r[n]]=e.num;if(!this._countOnly){const r=e.agg;for(let e=0,n=r.length;e<n;++e)r[e].set(t)}return t},changes(e){const t=this._adds,r=this._mods,n=this._prev,i=this._drop,a=e.add,o=e.rem,s=e.mod;let u,c,f,l;if(n)for(c in n)u=n[c],i&&!u.num||o.push(u.tuple);for(f=0,l=this._alen;f<l;++f)a.push(this.celltuple(t[f])),t[f]=null;for(f=0,l=this._mlen;f<l;++f)u=r[f],(0===u.num&&i?o:s).push(this.celltuple(u)),r[f]=null;return this._alen=this._mlen=0,this._prev=null,e}})},,function(e,t,r){"use strict";var n=r(124);t.a=function(e){return e.type=n.a,e.interactive=e.interactive||!1,e}},,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a}));var n="Feature",i="FeatureCollection",a="MultiPoint"},,function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));const n=e=>new Uint8Array(e),i=e=>new Uint16Array(e),a=e=>new Uint32Array(e)},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"d",(function(){return S})),r.d(t,"b",(function(){return q})),r.d(t,"a",(function(){return z})),r.d(t,"c",(function(){return R}));var n=r(201),i=r(14),a=r(644),o=r(74),s=r(90),u=r(1),c=r(216),f=r(143),l=r(585),d=r(516),p=r(333),m=r(714),b=r(176),h=r(405),g=r(717),y=r(1355),O=r(406),v=r(718),j=r(719),$=r(517),x=r(219),k=r(720),E=r(518),w=r(519),A=r(407),_=r(218),F=r(237),D=r(161);const S={random:()=>Object(o.p)(),cumulativeNormal:o.e,cumulativeLogNormal:o.d,cumulativeUniform:o.f,densityNormal:o.h,densityLogNormal:o.g,densityUniform:o.i,quantileNormal:o.l,quantileLogNormal:o.k,quantileUniform:o.m,sampleNormal:o.G,sampleLogNormal:o.F,sampleUniform:o.H,isArray:u.B,isBoolean:u.C,isDate:u.D,isDefined:e=>void 0!==e,isNumber:u.F,isObject:u.G,isRegExp:u.H,isString:u.I,isTuple:i.n,isValid:e=>null!=e&&e==e,toBoolean:u.bb,toDate:u.cb,toNumber:u.db,toString:u.fb,flush:u.v,lerp:u.K,merge:v.a,pad:u.Q,peek:u.V,span:u.Y,inrange:u.A,truncate:u.gb,rgb:f.g,lab:l.a,hcl:l.b,hsl:f.f,luminance:d.b,contrast:d.a,sequence:c.a,format:b.c,utcFormat:b.h,utcParse:b.i,utcOffset:s.w,utcSequence:s.x,timeFormat:b.f,timeParse:b.g,timeOffset:s.q,timeSequence:s.r,timeUnitSpecifier:s.s,monthFormat:b.e,monthAbbrevFormat:b.d,dayFormat:b.b,dayAbbrevFormat:b.a,quarter:u.W,utcquarter:u.ib,week:s.A,utcweek:s.z,dayofyear:s.m,utcdayofyear:s.y,warn:O.c,info:O.b,debug:O.a,extent:u.q,inScope:g.a,intersect:y.a,clampRange:u.k,pinchDistance:$.b,pinchAngle:$.a,screen:A.b,containerSize:A.a,windowSize:A.c,bandspace:x.a,setdata:p.c,pathShape:E.b,panLinear:u.R,panLog:u.S,panPow:u.T,panSymlog:u.U,zoomLinear:u.mb,zoomLog:u.nb,zoomPow:u.ob,zoomSymlog:u.pb,encode:m.a,modify:j.a},C=["view","item","group","xy","x","y"],M={},q={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Object(u.ab)(_.d+e)}]`,functions:function(e){const t=Object(n.e)(e);C.forEach(e=>t[e]="event.vega."+e);for(const e in S)t[e]="this."+e;return Object(u.p)(t,Object(F.b)(e,S,M)),t},constants:n.d,visitors:M},z=Object(n.c)(q);function R(e,t,r){return 1===arguments.length?S[e]:(S[e]=t,r&&(M[e]=r),z&&(z.functions[e]="this."+e),this)}R("bandwidth",x.b,D.c),R("copy",x.c,D.c),R("domain",x.d,D.c),R("range",x.f,D.c),R("invert",x.e,D.c),R("scale",x.g,D.c),R("gradient",k.a,D.c),R("geoArea",h.a,D.c),R("geoBounds",h.b,D.c),R("geoCentroid",h.c,D.c),R("geoShape",E.a,D.c),R("indata",p.b,D.b),R("data",p.a,D.a),R("treePath",w.b,D.a),R("treeAncestors",w.a,D.a),R("vlSelectionTest",a.b,a.c),R("vlSelectionResolve",a.a,a.c)},function(e,t,r){"use strict";t.a=Array.isArray},function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(1);const i=e=>!(Number.isNaN(+e)||e instanceof Date),a={boolean:n.bb,integer:n.db,number:n.db,date:n.cb,string:n.fb,unknown:n.y},o=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>i(e)&&Number.isInteger(+e),i,e=>!Number.isNaN(Date.parse(e))],s=["boolean","integer","number","date"];function u(e,t){if(!e||!e.length)return"unknown";const r=e.length,n=o.length,i=o.map((e,t)=>t+1);for(let s,u,c=0,f=0;c<r;++c)for(u=t?e[c][t]:e[c],s=0;s<n;++s)if(i[s]&&(null!=(a=u)&&a==a)&&!o[s](u)&&(i[s]=0,++f,f===o.length))return"string";var a;return s[i.reduce((e,t)=>0===e?t:e,0)-1]}function c(e,t){return t.reduce((t,r)=>(t[r]=u(e,r),t),{})}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return f}));var n=r(237),i=r(446),a=r(1672),o=r(587);function s(e,t){return function(r,i,a){if(r){const t=Object(n.a)(r,(a||this).context);return t&&t.path[e](i)}return t(i)}}const u=s("area",i.c),c=s("bounds",a.a),f=s("centroid",o.a)},function(e,t,r){"use strict";function n(e,t,r){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(r)))}catch(t){e.warn(t)}return r[r.length-1]}function i(){return n(this.context.dataflow,"warn",arguments)}function a(){return n(this.context.dataflow,"info",arguments)}function o(){return n(this.context.dataflow,"debug",arguments)}r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o}));const n=()=>"undefined"!=typeof window&&window||null;function i(){const e=n();return e?e.screen:{}}function a(){const e=n();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function o(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}},,function(e,t,r){"use strict";var n=r(403);t.a=function(e){return null!=e?Object(n.a)(e)?e:[e]:[]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u}));var n=r(316),i=r(465),a=r(347),o=r(149);function s(e){return function(t,r,n){Object(o.b)(r,r=>{n&&!n.intersects(r.bounds)||c(e,t,r,r)})}}function u(e){return function(t,r,n){!r.items.length||n&&!n.intersects(r.bounds)||c(e,t,r.items[0],r.items)}}function c(e,t,r,o){var s=null==r.opacity?1:r.opacity;0!==s&&(e(t,o)||(Object(n.a)(t,r),r.fill&&Object(i.a)(t,r,s)&&t.fill(),r.stroke&&Object(a.a)(t,r,s)&&t.stroke()))}},,function(e,t,r){"use strict";var n=r(761),i=r(1375),a=r(1376),o=r(1377),s=r(765),u=r(1378),c=r(1379),f=r(764),l=r(124),d=r(69),p=r(533),m=r(766),b=r(334),h=r(28),g=r(1),y=r(64);t.a=function(e,t){const r=Object(f.a)(e),O=e.type===l.a,v=e.from&&e.from.facet,j=e.overlap;let $,x,k,E,w,A,_,F=e.layout||r===d.p||r===d.g;const D=r===d.o||F||v,S=Object(s.a)(e.from,O,t);x=t.add(Object(y.f)({key:S.key||(e.key?Object(h.i)(e.key):void 0),pulse:S.pulse,clean:!O}));const C=Object(h.p)(x);x=k=t.add(Object(y.d)({pulse:C})),x=t.add(Object(y.n)({markdef:Object(a.a)(e),interactive:Object(o.a)(e.interactive,t),clip:Object(i.a)(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Object(h.p)(x)}));const M=Object(h.p)(x);x=E=t.add(Object(y.g)(Object(n.a)(e.encode,e.type,r,e.style,t,{mod:!1,pulse:M}))),x.params.parent=t.encode(),e.transform&&e.transform.forEach(e=>{const r=Object(p.a)(e,t),n=r.metadata;(n.generates||n.changes)&&Object(g.o)("Mark transforms should not generate new data."),n.nomod||(E.params.mod=!0),r.params.pulse=Object(h.p)(x),t.add(x=r)}),e.sort&&(x=t.add(Object(y.z)({sort:t.compareRef(e.sort),pulse:Object(h.p)(x)})));const q=Object(h.p)(x);(v||F)&&(F=t.add(Object(y.B)({layout:t.objectProperty(e.layout),legends:t.legends,mark:M,pulse:q})),A=Object(h.p)(F));const z=t.add(Object(y.c)({mark:M,pulse:A||q}));_=Object(h.p)(z),O&&(D&&($=t.operators,$.pop(),F&&$.pop()),t.pushState(q,A||_,C),v?Object(u.a)(e,t,S):D?Object(c.a)(e,t,S):t.parse(e),t.popState(),D&&(F&&$.push(F),$.push(z))),j&&(_=function(e,t,r){const n=e.method,i=e.bound,a=e.separation,o={separation:Object(h.l)(a)?r.signalRef(a.signal):a,method:Object(h.l)(n)?r.signalRef(n.signal):n,pulse:t};e.order&&(o.sort=r.compareRef({field:e.order}));if(i){const e=i.tolerance;o.boundTolerance=Object(h.l)(e)?r.signalRef(e.signal):+e,o.boundScale=r.scaleRef(i.scale),o.boundOrient=i.orient}return Object(h.p)(r.add(Object(y.q)(o)))}(j,_,t));const R=t.add(Object(y.w)({pulse:_})),B=t.add(Object(y.y)({pulse:Object(h.p)(R)},void 0,t.parent()));null!=e.name&&(w=e.name,t.addData(w,new b.a(t,k,R,B)),e.on&&e.on.forEach(e=>{(e.insert||e.remove||e.toggle)&&Object(g.o)("Marks only support modify triggers."),Object(m.a)(e,t,w)}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(283),i=(i=Object(n.a)(1,1))?i.getContext("2d"):null},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));const n={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},i={fill:"none","stroke-miterlimit":10}},,,,,,,,,,,function(e,t,r){"use strict";function n(e,t,r){const n=[t].concat([].slice.call(r));console[e].apply(console,n)}r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return u}));const i=0,a=1,o=2,s=3,u=4;t.f=function(e,t){let r=e||i;return{level(e){return arguments.length?(r=+e,this):r},error(){return r>=a&&n(t||"error","ERROR",arguments),this},warn(){return r>=o&&n(t||"warn","WARN",arguments),this},info(){return r>=s&&n(t||"log","INFO",arguments),this},debug(){return r>=u&&n(t||"log","DEBUG",arguments),this}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"d",(function(){return j})),r.d(t,"b",(function(){return x})),r.d(t,"e",(function(){return k})),r.d(t,"c",(function(){return w})),r.d(t,"f",(function(){return A}));var n=r(41),i=r(496),a=r(1049),o=r(308),s=r(494),u=r(1659),c=r(1660),f=r(863),l=r(864),d=r(497),p=r(1050),m=r(309),b=r(495),h=r(1661),g=r(1662);const y={[n.l]:i.a,[n.h]:a.a.every(3),[n.g]:a.a,[n.k]:o.b,[n.a]:s.a,[n.b]:s.a,[n.c]:s.a,[n.d]:u.a,[n.f]:c.a,[n.i]:f.a,[n.e]:l.a},O={[n.l]:d.a,[n.h]:p.a.every(3),[n.g]:p.a,[n.k]:m.b,[n.a]:b.a,[n.b]:b.a,[n.c]:b.a,[n.d]:h.a,[n.f]:g.a,[n.i]:f.a,[n.e]:l.a};function v(e){return y[e]}function j(e){return O[e]}function $(e,t,r){return e?e.offset(t,r):void 0}function x(e,t,r){return $(v(e),t,r)}function k(e,t,r){return $(j(e),t,r)}function E(e,t,r,n){return e?e.range(t,r,n):void 0}function w(e,t,r,n){return E(v(e),t,r,n)}function A(e,t,r,n){return E(j(e),t,r,n)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(169),i=r(1);function a(e){return e&&e.constructor===o}function o(){const e=[],t=[],r=[],a=[],s=[];let u=null,c=!1;return{constructor:o,insert(t){const r=Object(i.i)(t),n=r.length;for(let t=0;t<n;++t)e.push(r[t]);return this},remove(e){const r=Object(i.E)(e)?a:t,n=Object(i.i)(e),o=n.length;for(let e=0;e<o;++e)r.push(n[e]);return this},modify(e,t,n){const a={field:t,value:Object(i.m)(n)};return Object(i.E)(e)?(a.filter=e,s.push(a)):(a.tuple=e,r.push(a)),this},encode(e,t){return Object(i.E)(e)?s.push({filter:e,field:t}):r.push({tuple:e,field:t}),this},clean(e){return u=e,this},reflow(){return c=!0,this},pulse(i,o){const f={},l={};let d,p,m,b,h,g;for(d=0,p=o.length;d<p;++d)f[Object(n.g)(o[d])]=1;for(d=0,p=t.length;d<p;++d)h=t[d],f[Object(n.g)(h)]=-1;for(d=0,p=a.length;d<p;++d)b=a[d],o.forEach(e=>{b(e)&&(f[Object(n.g)(e)]=-1)});for(d=0,p=e.length;d<p;++d)h=e[d],g=Object(n.g)(h),f[g]?f[g]=1:i.add.push(Object(n.b)(e[d]));for(d=0,p=o.length;d<p;++d)h=o[d],f[Object(n.g)(h)]<0&&i.rem.push(h);function y(e,t,r){r?e[t]=r(e):i.encode=t,c||(l[Object(n.g)(e)]=e)}for(d=0,p=r.length;d<p;++d)m=r[d],h=m.tuple,b=m.field,g=f[Object(n.g)(h)],g>0&&(y(h,b,m.value),i.modifies(b));for(d=0,p=s.length;d<p;++d)m=s[d],b=m.filter,o.forEach(e=>{b(e)&&f[Object(n.g)(e)]>0&&y(e,m.field,m.value)}),i.modifies(m.field);if(c)i.mod=t.length||a.length?o.filter(e=>f[Object(n.g)(e)]>0):o.slice();else for(g in l)i.mod.push(l[g]);return(u||null==u&&(t.length||a.length))&&i.clean(!0),i}}}},,function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));const n="symbol",i="discrete",a="gradient"},function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return h}));var n=r(456),i=r(36),a=r(367),o=r(1);const s={[i.n]:"quantiles",[i.o]:"thresholds",[i.t]:"domain"},u={[i.n]:"quantiles",[i.o]:"domain"};function c(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=Object(o.V)(e),t}(e.bins):e.type===i.j?Object(a.c)(e,t,!0):s[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[s[e.type]]()):Object(a.d)(e,t)}function f(e,t,r,o,c,f,d){const b=u[t.type]&&f!==i.u&&f!==i.v?function(e,t,r){const n=t[u[t.type]](),i=n.length;let a,o=i>1?n[1]-n[0]:n[0];for(a=1;a<i;++a)o=Math.min(o,n[a]-n[a-1]);return e.formatSpan(0,o,30,r)}(e,t,c):Object(a.b)(e,t,r,c,f,d);return o===n.c&&(e=>s[e.type]||e.bins)(t)?l(b):o===n.a?p(b):m(b)}const l=e=>(t,r,n)=>{const i=d(n[r+1],d(n.max,1/0)),a=b(t,e),o=b(i,e);return a&&o?a+" – "+o:o?"< "+o:"≥ "+a},d=(e,t)=>null!=e?e:t,p=e=>(t,r)=>r?e(t):null,m=e=>t=>e(t),b=(e,t)=>Number.isFinite(e)?t(e):null;function h(e){const t=e.domain(),r=t.length-1;let n=+t[0],a=+Object(o.V)(t),s=a-n;if(e.type===i.t){const e=r?s/r:.1;n-=e,a+=e,s=a-n}return e=>(e-n)/s}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));const n=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function i(){let e="",t="",r="";const i=[],a=()=>t=r="",o=(e,r)=>{var i;return null!=r&&(t+=` ${e}="${i=r,n(i).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")}"`),s},s={open(n,...u){(n=>{t&&(e+=`${t}>${r}`,a()),i.push(n)})(n),t="<"+n;for(const e of u)for(const t in e)o(t,e[t]);return s},close(){const n=i.pop();return e+=t?t+(r?`>${r}</${n}>`:"/>"):`</${n}>`,a(),s},attr:o,text:e=>(r+=n(e),s),toString:()=>e};return s}const a=e=>function e(t,r){if(t.open(r.tagName),r.hasAttributes()){const e=r.attributes,n=e.length;for(let r=0;r<n;++r)t.attr(e[r].name,e[r].value)}if(r.hasChildNodes()){const n=r.childNodes,i=n.length;for(let r=0;r<i;r++){const i=n[r];3===i.nodeType?t.text(i.nodeValue):e(t,i)}}return t.close()}(i(),e)+""},,function(e,t,r){"use strict";t.a=function(e){return e===Object(e)}},,function(e,t,r){"use strict";var n=r(969),i=["l",0,0,0,0,0,0,0];function a(e,t,r){var n=i[0]=e[0];if("a"===n||"A"===n)i[1]=t*e[1],i[2]=r*e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=t*e[6],i[7]=r*e[7];else if("h"===n||"H"===n)i[1]=t*e[1];else if("v"===n||"V"===n)i[1]=r*e[1];else for(var a=1,o=e.length;a<o;++a)i[a]=(a%2==1?t:r)*e[a];return i}function o(e,t,r,i){for(var a=Object(n.b)(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,r),o=0;o<a.length;++o){var s=Object(n.a)(a[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}t.a=function(e,t,r,n,i,s){var u,c,f,l,d,p=null,m=0,b=0,h=0,g=0;null==r&&(r=0),null==n&&(n=0),null==i&&(i=1),null==s&&(s=i),e.beginPath&&e.beginPath();for(var y=0,O=t.length;y<O;++y){switch(u=t[y],1===i&&1===s||(u=a(u,i,s)),u[0]){case"l":m+=u[1],b+=u[2],e.lineTo(m+r,b+n);break;case"L":m=u[1],b=u[2],e.lineTo(m+r,b+n);break;case"h":m+=u[1],e.lineTo(m+r,b+n);break;case"H":m=u[1],e.lineTo(m+r,b+n);break;case"v":b+=u[1],e.lineTo(m+r,b+n);break;case"V":b=u[1],e.lineTo(m+r,b+n);break;case"m":m+=u[1],b+=u[2],e.moveTo(m+r,b+n);break;case"M":m=u[1],b=u[2],e.moveTo(m+r,b+n);break;case"c":c=m+u[5],f=b+u[6],h=m+u[3],g=b+u[4],e.bezierCurveTo(m+u[1]+r,b+u[2]+n,h+r,g+n,c+r,f+n),m=c,b=f;break;case"C":m=u[5],b=u[6],h=u[3],g=u[4],e.bezierCurveTo(u[1]+r,u[2]+n,h+r,g+n,m+r,b+n);break;case"s":c=m+u[3],f=b+u[4],h=2*m-h,g=2*b-g,e.bezierCurveTo(h+r,g+n,m+u[1]+r,b+u[2]+n,c+r,f+n),h=m+u[1],g=b+u[2],m=c,b=f;break;case"S":c=u[3],f=u[4],h=2*m-h,g=2*b-g,e.bezierCurveTo(h+r,g+n,u[1]+r,u[2]+n,c+r,f+n),m=c,b=f,h=u[1],g=u[2];break;case"q":c=m+u[3],f=b+u[4],h=m+u[1],g=b+u[2],e.quadraticCurveTo(h+r,g+n,c+r,f+n),m=c,b=f;break;case"Q":c=u[3],f=u[4],e.quadraticCurveTo(u[1]+r,u[2]+n,c+r,f+n),m=c,b=f,h=u[1],g=u[2];break;case"t":c=m+u[1],f=b+u[2],null===p[0].match(/[QqTt]/)?(h=m,g=b):"t"===p[0]?(h=2*m-l,g=2*b-d):"q"===p[0]&&(h=2*m-h,g=2*b-g),l=h,d=g,e.quadraticCurveTo(h+r,g+n,c+r,f+n),b=f,h=(m=c)+u[1],g=b+u[2];break;case"T":c=u[1],f=u[2],h=2*m-h,g=2*b-g,e.quadraticCurveTo(h+r,g+n,c+r,f+n),m=c,b=f;break;case"a":o(e,m+r,b+n,[u[1],u[2],u[3],u[4],u[5],u[6]+m+r,u[7]+b+n]),m+=u[6],b+=u[7];break;case"A":o(e,m+r,b+n,[u[1],u[2],u[3],u[4],u[5],u[6]+r,u[7]+n]),m=u[6],b=u[7];break;case"z":case"Z":e.closePath()}p=u}}},function(e,t,r){"use strict";t.a=function(e,t){let r="";for(;--t>=0;)r+=e;return r}},,function(e,t,r){"use strict";var n=r(745);t.a=function(e,t,r){return(r*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=r,e.fillStyle=Object(n.a)(e,t,t.fill),!0)}},function(e,t,r){"use strict";t.a={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"}},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r(1);const i=Object(n.eb)(["rule"]),a=Object(n.eb)(["group","image","rect"]);function o(e,t){let r="";return i[t]||(e.x2&&(e.x?(a[t]&&(r+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),r+="o.width=o.x2-o.x;"):r+="o.x=o.x2-(o.width||0);"),e.xc&&(r+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(a[t]&&(r+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),r+="o.height=o.y2-o.y;"):r+="o.y=o.y2-(o.height||0);"),e.yc&&(r+="o.y=o.yc-(o.height||0)/2;")),r}function s(e){return(e+"").toLowerCase()}function u(e){return"operator"===s(e)}function c(e){return"collect"===s(e)}},,,,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e){const t={};return r=>t[r]||(t[r]=e(r))}},,,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"f",(function(){return c})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return m}));var n=r(288),i=r(689),a=r(527),o=r(330),s=r(1);async function u(e,t,r){const i=this,u=[];if(i._pulse)return d(i);if(i._pending&&await i._pending,t&&await Object(a.a)(i,t),!i._touched.length)return i.debug("Dataflow invoked, but nothing to do."),i;const c=++i._clock;i._pulse=new n.b(i,c,e),i._touched.forEach(e=>i._enqueue(e,!0)),i._touched=Object(o.a)(s.x);let f,l,p,m=0;try{for(;i._heap.size()>0;)f=i._heap.pop(),f.rank===f.qrank?(l=f.run(i._getPulse(f,e)),l.then?l=await l:l.async&&(u.push(l.async),l=n.a),l!==n.a&&f._targets&&f._targets.forEach(e=>i._enqueue(e)),++m):i._enqueue(f,!0)}catch(e){i._heap.clear(),p=e}if(i._input={},i._pulse=null,i.debug(`Pulse ${c}: ${m} operators`),p&&(i._postrun=[],i.error(p)),i._postrun.length){const e=i._postrun.sort((e,t)=>t.priority-e.priority);i._postrun=[];for(let t=0;t<e.length;++t)await Object(a.a)(i,e[t].callback)}return r&&await Object(a.a)(i,r),u.length&&Promise.all(u).then(e=>i.runAsync(null,()=>{e.forEach(e=>{try{e(i)}catch(e){i.error(e)}})})),i}async function c(e,t,r){for(;this._running;)await this._running;const n=()=>this._running=null;return(this._running=this.evaluate(e,t,r)).then(n,n),this._running}function f(e,t,r){return this._pulse?d(this):(this.evaluate(e,t,r),this)}function l(e,t,r){if(this._pulse||t)this._postrun.push({priority:r||0,callback:e});else try{e(this)}catch(e){this.error(e)}}function d(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function p(e,t){const r=e.stamp<this._clock;r&&(e.stamp=this._clock),(r||t)&&(e.qrank=e.rank,this._heap.push(e))}function m(e,t){const r=e.source,a=this._clock;return r&&Object(s.B)(r)?new i.a(this,a,r.map(e=>e.pulse),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==n.a&&(e.source=t.source);return e}(this._pulse,r&&r.pulse)}},,function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return c}));var n=r(14),i=r(1);function a(e,t){var r=e._runtime.data;return Object(i.w)(r,t)||Object(i.o)("Unrecognized data set: "+t),r[t]}function o(e,t){return arguments.length<2?a(this,e).values.value:s.call(this,e,Object(n.i)().remove(i.hb).insert(t))}function s(e,t){Object(n.m)(t)||Object(i.o)("Second argument to changes must be a changeset.");var r=a(this,e);return r.modified=!0,this.pulse(r.input,t)}function u(e,t){return s.call(this,e,Object(n.i)().insert(t))}function c(e,t){return s.call(this,e,Object(n.i)().remove(t))}},,,,,function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return u}));var n=r(281),i=r(613);function a(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+Object(n.e)()*t)}function o(e,t,r){if(e<=0)return 0;t=t||0,r=null==r?1:r;const n=(Math.log(e)-t)/r;return Math.exp(-.5*n*n)/(r*i.b*e)}function s(e,t,r){return Object(n.a)(Math.log(e),t,r)}function u(e,t,r){return Math.exp(Object(n.d)(e,t,r))}t.b=function(e,t){let r,n;const i={mean(e){return arguments.length?(r=e||0,i):r},stdev(e){return arguments.length?(n=null==e?1:e,i):n},sample:()=>a(r,n),pdf:e=>o(e,r,n),cdf:e=>s(e,r,n),icdf:e=>u(e,r,n)};return i.mean(e).stdev(t)}},function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return s}));var n=r(217);function i(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*Object(n.a)()}function a(e,t,r){return null==r&&(r=null==t?1:t,t=0),e>=t&&e<=r?1/(r-t):0}function o(e,t,r){return null==r&&(r=null==t?1:t,t=0),e<t?0:e>r?1:(e-t)/(r-t)}function s(e,t,r){return null==r&&(r=null==t?1:t,t=0),e>=0&&e<=1?t+e*(r-t):NaN}t.b=function(e,t){let r,n;const u={min(e){return arguments.length?(r=e||0,u):r},max(e){return arguments.length?(n=null==e?1:e,u):n},sample:()=>i(r,n),pdf:e=>a(e,r,n),cdf:e=>o(e,r,n),icdf:e=>s(e,r,n)};return null==t&&(t=null==e?1:e,e=0),u.min(e).max(t)}},,function(e,t,r){const{MAX_SAFE_COMPONENT_LENGTH:n}=r(671),i=r(672),a=(t=e.exports={}).re=[],o=t.src=[],s=t.t={};let u=0;const c=(e,t,r)=>{const n=u++;i(n,t),s[e]=n,o[n]=t,a[n]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),c("FULL",`^${o[s.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),c("LOOSE",`^${o[s.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",o[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),c("XRANGEIDENTIFIER",o[s.NUMERICIDENTIFIER]+"|x|X|\\*"),c("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),c("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",o[s.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,r){const{MAX_LENGTH:n}=r(671),{re:i,t:a}=r(501),o=r(228);e.exports=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?i[a.LOOSE]:i[a.FULL]).test(e))return null;try{return new o(e,t)}catch(e){return null}}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r(838),i=r(737),a=r(1262),o=r(1);const s={dsv:n.a,csv:Object(n.b)(","),tsv:Object(n.b)("\t"),json:i.a,topojson:a.a};function u(e,t){return arguments.length>1?(s[e]=t,this):Object(o.w)(s,e)?s[e]:null}function c(e){const t=u(e);return t&&t.responseType||"text"}},,,,,function(e,t,r){"use strict";var n=r(207),i=r(736),a=r(510);t.a=function(e,t,r){const o=Object(a.a)(e);return e=1===o.length?o[0]:e,Object(n.c)((r&&r.get||i.a)(o),[e],t||e)}},function(e,t,r){"use strict";var n=r(526);t.a=function(e){const t=[],r=e.length;let i,a,o,s=null,u=0,c="";function f(){t.push(c+e.substring(i,a)),c="",i=a+1}for(e+="",i=a=0;a<r;++a)if(o=e[a],"\\"===o)c+=e.substring(i,a),c+=e.substring(++a,++a),i=a;else if(o===s)f(),s=null,u=-1;else{if(s)continue;i===u&&'"'===o||i===u&&"'"===o?(i=a+1,s=o):"."!==o||u?"["===o?(a>i&&f(),u=i=a+1):"]"===o&&(u||Object(n.a)("Access path missing open bracket: "+e),u>0&&f(),u=0,i=a+1):a>i?f():i=a+1}return u&&Object(n.a)("Access path missing closing bracket: "+e),s&&Object(n.a)("Access path missing closing quote: "+e),a>i&&(a++,f()),t}},function(e,t,r){"use strict";t.a=function(e){return"function"==typeof e}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(701),i=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function a(e,t){return JSON.stringify(e,i,t)}function o(e){return function e(t){var r,i,a,o=t.marktype,s=t.items;if(s)for(i=0,a=s.length;i<a;++i)r=o?"mark":"group",s[i][r]=t,s[i].zindex&&(s[i][r].zdirty=!0),"group"===(o||r)&&e(s[i]);o&&Object(n.a)(t);return t}("string"==typeof e?JSON.parse(e):e)}},function(e,t,r){"use strict";t.a=function(e,t){var r=t.getBoundingClientRect();return[e.clientX-r.left-(t.clientLeft||0),e.clientY-r.top-(t.clientTop||0)]}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(143);function i(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function a(e){const t=Object(n.g)(e);return.2126*i(t.r)+.7152*i(t.g)+.0722*i(t.b)}function o(e,t){const r=a(e),n=a(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}},function(e,t,r){"use strict";function n(e){const t=e.touches,r=t[0].clientX-t[1].clientX,n=t[0].clientY-t[1].clientY;return Math.sqrt(r*r+n*n)}function i(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(237),i=r(77);function a(e,t,r){const i=Object(n.a)(e,(r||this).context);return function(e){return i?i.path.context(e)(t):""}}function o(e){let t=null;return function(r){return r?Object(i.N)(r,t=t||Object(i.L)(e)):e}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r(333);const i=e=>e.data;function a(e,t){const r=n.a.call(t,e);return r.root&&r.root.lookup||{}}function o(e,t,r){const n=a(e,this),o=n[t],s=n[r];return o&&s?o.path(s).map(i):void 0}function s(e,t){const r=a(e,this)[t];return r?r.ancestors().map(i):void 0}},function(e,t,r){"use strict";var n=r(1);const i=["value","update","init","react","bind"];function a(e,t){Object(n.o)(e+' for "outer" push: '+Object(n.ab)(t))}t.a=function(e,t){const r=e.name;if("outer"===e.push)t.signals[r]||a("No prior signal definition",r),i.forEach(t=>{void 0!==e[t]&&a("Invalid property ",t)});else{const n=t.addSignal(r,e.value);!1===e.react&&(n.react=!1),e.bind&&t.addBinding(r,e.bind)}}},,,,,,function(e,t,r){"use strict";t.a=function(e){throw Error(e)}},function(e,t,r){"use strict";t.a=async function(e,t){try{await t(e)}catch(t){e.error(t)}}},function(e,t,r){"use strict";var n=r(253),i=r(332),a=r(155),o=r(410),s=r(199),u=r(231),c=r(101);t.a=function(e,t,r){function f(e,r){var n=r.x||0,i=r.y||0,a=r.angle||0;e.translate(n,i),a&&e.rotate(a*=c.a),e.beginPath(),t(e,r),a&&e.rotate(-a),e.translate(-n,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,r){e("transform",Object(u.b)(r)),e("d",t(null,r))},bound:function(e,r){return t(Object(i.a)(e,r.angle),r),Object(n.a)(e,r).translate(r.x||0,r.y||0)},draw:Object(o.a)(f),pick:Object(s.c)(f),isect:r||Object(a.b)(f)}}},function(e,t,r){"use strict";function n(e,t){for(var r,n,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,s=1/0;--o>=0;)!1!==e[o].defined&&(n=Math.abs(e[o][a]-i))<s&&(s=n,r=e[o]);return r}function i(e,t){for(var r,n,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(r=e[a].x-t[0])*r+(n=e[a].y-t[1])*n<i)return e[a];return null}function a(e,t){for(var r,n,i=e.length;--i>=0;)if(!1!==e[i].defined&&(r=e[i].x-t[0])*r+(n=e[i].y-t[1])*n<(r=e[i].size||1)*r)return e[i];return null}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a}))},function(e,t,r){"use strict";var n=r(253),i=r(332),a=r(155),o=r(410),s=r(199);t.a=function(e,t,r){function u(e,r){e.beginPath(),t(e,r)}var c=Object(s.a)(u);return{type:e,tag:"path",nested:!0,attr:function(e,r){var n=r.mark.items;n.length&&e("d",t(null,n))},bound:function(e,r){var a=r.items;return 0===a.length?e:(t(Object(i.a)(e),a),Object(n.a)(e,a[0]))},draw:Object(o.b)(u),pick:function(e,t,r,n,i,a){var o=t.items,s=t.bounds;return!o||!o.length||s&&!s.contains(i,a)?null:(r*=e.pixelRatio,n*=e.pixelRatio,c(e,o,r,n)?o[0]:null)},isect:a.c,tip:r}}},,function(e,t,r){"use strict";var n=r(760),i=r(77),a=r(1);t.a=async function(e,t,r,o){const s=Object(i.R)(t),u=s&&s.headless;return u||Object(a.o)("Unrecognized renderer type: "+t),await e.runAsync(),Object(n.a)(e,null,null,u,r,o).renderAsync(e._scenegraph.root)}},function(e,t,r){"use strict";var n=r(64),i=r(28),a=r(14),o=r(168),s=r(1);function u(e,t,r){const n={},i=e.params.length;for(let a=0;a<i;++a){const i=e.params[a];n[i.name]=c(i,t,r)}return n}function c(e,t,r){const n=e.type,a=t[e.name];return"index"===n?function(e,t,r){Object(s.I)(t.from)||Object(s.o)('Lookup "from" parameter must be a string literal.');return r.getData(t.from).lookupRef(r,t.key)}(0,t,r):void 0!==a?"param"===n?function(e,t,r){const n=t[e.name];return e.array?(Object(s.B)(n)||Object(s.o)("Expected an array of sub-parameters. Instead: "+Object(s.ab)(n)),n.map(t=>l(e,t,r))):l(e,n,r)}(e,t,r):"projection"===n?r.projectionRef(t[e.name]):e.array&&!Object(i.l)(a)?a.map(t=>f(e,t,r)):f(e,a,r):void(e.required&&Object(s.o)("Missing required "+Object(s.ab)(t.type)+" parameter: "+Object(s.ab)(e.name)))}function f(e,t,r){const n=e.type;if(Object(i.l)(t))return b(n)?Object(s.o)("Expression references can not be signals."):h(n)?r.fieldRef(t):g(n)?r.compareRef(t):r.signalRef(t.signal);{const a=e.expr||h(n);return a&&d(t)?r.exprRef(t.expr,t.as):a&&p(t)?Object(i.i)(t.field,t.as):b(n)?Object(o.c)(t,r):m(n)?Object(i.p)(r.getData(t).values):h(n)?Object(i.i)(t):g(n)?r.compareRef(t):t}}function l(e,t,r){const a=e.params.length;let o;for(let r=0;r<a;++r){o=e.params[r];for(const e in o.key)if(o.key[e]!==t[e]){o=null;break}if(o)break}o||Object(s.o)("Unsupported parameter: "+Object(s.ab)(t));const c=Object(s.p)(u(o,t,r),o.key);return Object(i.p)(r.add(Object(n.r)(c)))}t.a=function(e,t){const r=Object(a.j)(e.type);r||Object(s.o)("Unrecognized transform type: "+Object(s.ab)(e.type));const n=Object(i.h)(r.type.toLowerCase(),null,u(r,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(n)),n.metadata=r.metadata||{},n};const d=e=>e&&e.expr,p=e=>e&&e.field,m=e=>"data"===e,b=e=>"expr"===e,h=e=>"field"===e,g=e=>"compare"===e},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return f}));var n=r(47),i=r(1);const a=(e,t,r)=>({role:e,"aria-roledescription":t,"aria-label":r||void 0}),o=Object(i.eb)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),s={axis:{desc:"axis",caption:function(e){const t=e.datum,r=e.orient,i=t.title?d(e):null,a=e.context,o=a.scales[t.scale].value,s=a.dataflow.locale(),u=o.type;return("left"===r||"right"===r?"Y":"X")+"-axis"+(i?` titled '${i}'`:"")+` for a ${Object(n.y)(u)?"discrete":u} scale with `+Object(n.t)(s,o,e)}},legend:{desc:"legend",caption:function(e){const t=e.datum,r=t.title?d(e):null,a=((t.type||"")+" legend").trim(),o=t.scales,s=Object.keys(o),u=e.context,c=u.scales[o[s[0]]].value,f=u.dataflow.locale();return l=a,(l.length?l[0].toUpperCase()+l.slice(1):l)+(r?` titled '${r}'`:"")+" for "+function(e){return(e=e.map(e=>e+("fill"===e||"stroke"===e?" color":""))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(i.V)(e)}(s)+" with "+Object(n.t)(f,c,e);var l}},"title-text":{desc:"title",caption:e=>`Title text '${l(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${l(e)}'`}},u={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function c(e,t){const r=!1===t.aria;if(e("aria-hidden",r||void 0),r||null==t.description)for(const t in u)e(u[t],void 0);else{const r=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===r?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||r+" mark")}}function f(e){return!1===e.aria?{"aria-hidden":!0}:o[e.role]?null:s[e.role]?function(e,t){try{const r=e.items[0],n=t.caption||(()=>"");return a(t.role||"graphics-symbol",t.desc,r.description||n(r))}catch(e){return null}}(e,s[e.role]):function(e){const t=e.marktype,r="group"===t||"text"===t||e.items.some(e=>null!=e.description&&!1!==e.aria);return a(r?"graphics-object":"graphics-symbol",t+" mark container",e.description)}(e)}function l(e){return Object(i.i)(e.text).join(" ")}function d(e){try{return Object(i.i)(Object(i.V)(e.items).items[0].text).join(" ")}catch(e){return null}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e){return null==e||""===e?null:+e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(1);function i(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}i.prototype={set(e,t,r,i){const a=this,o=a[e],s=a["_:mod:_"];return null!=t&&t>=0?(o[t]!==r||i)&&(o[t]=r,s[t+":"+e]=-1,s[e]=-1):(o!==r||i)&&(a[e]=r,s[e]=Object(n.B)(r)?1+r.length:-1),a},modified(e,t){const r=this["_:mod:_"];if(!arguments.length){for(const e in r)if(r[e])return!0;return!1}if(Object(n.B)(e)){for(let t=0;t<e.length;++t)if(r[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},clear(){return this["_:mod:_"]={},this}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(695),i=r(14),a=r(1);function o(e){i.g.call(this,{},e),this._keys=Object(a.t)();const t=this._targets=[];t.active=0,t.forEach=e=>{for(let r=0,n=t.active;r<n;++r)e(t[r],r,t)}}Object(a.z)(o,i.g,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,r,i){const o=this.value;let s,u,c=Object(a.w)(o,e)&&o[e];return c?c.value.stamp<r.stamp&&(c.init(r),this.activate(c)):(u=i||(u=this._group[e])&&u.tuple,s=r.dataflow,c=new n.a(r.fork(r.NO_SOURCE),this),s.add(c).connect(t(s,e,u)),o[e]=c,this.activate(c)),c},clean(){const e=this.value;for(const t in e)if(0===e[t].count){const r=e[t].detachSubflow;r&&r(),delete e[t]}},initTargets(){const e=this._targets,t=e.length;for(let r=0;r<t&&null!=e[r];++r)e[r]=null;e.active=0},transform(e,t){const r=t.dataflow,n=e.key,a=e.subflow,o=this._keys,s=e.modified("key"),u=e=>this.subflow(e,a,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,e=>{const t=Object(i.t)(e),r=o.get(t);void 0!==r&&(o.delete(t),u(r).rem(e))}),t.visit(t.ADD,e=>{const t=n(e);o.set(Object(i.t)(e),t),u(t).add(e)}),s||t.modified(n.fields)?t.visit(t.MOD,e=>{const t=Object(i.t)(e),r=o.get(t),a=n(e);r===a?u(a).mod(e):(o.set(t,a),u(r).rem(e),u(a).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,e=>{u(o.get(Object(i.t)(e))).mod(e)}),s&&t.visit(t.REFLOW,e=>{const t=Object(i.t)(e),r=o.get(t),a=n(e);r!==a&&(o.set(t,a),u(r).rem(e),u(a).add(e))}),t.clean()?r.runAfter(()=>{this.clean(),o.clean()}):o.empty>r.cleanThreshold&&r.runAfter(o.clean),t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(1),i=r(425),a=r(1979),o=r(1980),s=r(1981),u=r(464),c=r(967),f=r(968),l=r(615),d=r(1982),p=r(1983),m=r(616),b=r(1984),h=r(1664),g=r(1985),y=r(1051);const O={basis:{curve:i.b},"basis-closed":{curve:a.a},"basis-open":{curve:o.a},bundle:{curve:s.a,tension:"beta",value:.85},cardinal:{curve:u.b,tension:"tension",value:0},"cardinal-open":{curve:c.b,tension:"tension",value:0},"cardinal-closed":{curve:f.b,tension:"tension",value:0},"catmull-rom":{curve:l.a,tension:"alpha",value:.5},"catmull-rom-closed":{curve:d.a,tension:"alpha",value:.5},"catmull-rom-open":{curve:p.a,tension:"alpha",value:.5},linear:{curve:m.a},"linear-closed":{curve:b.a},monotone:{horizontal:h.b,vertical:h.a},natural:{curve:g.a},step:{curve:y.a},"step-after":{curve:y.b},"step-before":{curve:y.c}};function v(e,t,r){var i=Object(n.w)(O,e)&&O[e],a=null;return i&&(a=i.curve||i[t||"vertical"],i.tension&&null!=r&&(a=a[i.tension](r))),a}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(167);function i(e){this.mark=e,this.bounds=this.bounds||new n.a}},function(e,t,r){"use strict";var n=r(167),i=r(177);t.a=function(e,t,r){var a=i.a[e.mark.marktype],o=t||a.bound;return a.nested&&(e=e.mark),o(e.bounds||(e.bounds=new n.a),e,r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(273),i=r(167),a=r(177),o=r(88),s=r(746),u=r(1295),c=r(283),f=r(1);function l(e){n.a.call(this,e),this._options={},this._redraw=!1,this._dirty=new i.a,this._tempb=new i.a}const d=n.a.prototype;Object(f.z)(l,n.a,{initialize(e,t,r,n,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:Object(c.a)(1,1,this._options.type),e&&this._canvas&&(Object(o.c)(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),d.initialize.call(this,e,t,r,n,i)},resize(e,t,r,n){if(d.resize.call(this,e,t,r,n),this._canvas)Object(u.a)(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||Object(f.o)("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let r=e.mark.group;for(;r;)t.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),r=this._origin,n=this._width,a=this._height,o=this._dirty,s=(u=r,c=n,f=a,(new i.a).set(0,0,c,f).translate(-u[0],-u[1]));var u,c,f;t.save();const l=this._redraw||o.empty()?(this._redraw=!1,s.expand(1)):function(e,t,r){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-r[0]%1,-r[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,s.intersect(o),r);return this.clear(-r[0],-r[1],n,a),this.draw(t,e,l),t.restore(),o.clear(),this},draw(e,t,r){const n=a.a[t.marktype];t.clip&&Object(s.b)(e,t),n.draw.call(this,e,t,r),t.clip&&e.restore()},clear(e,t,r,n){const i=this._options,a=this.context();"pdf"===i.type||i.externalContext||a.clearRect(e,t,r,n),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,r,n))}})},,function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(1573);const i="vg-tooltip-element",a={offsetX:10,offsetY:10,id:i,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function o(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return n.a.toString().replace(i,e)}},,,,function(e,t,r){"use strict";function n(e){return e&&e.length?1===e.length?e[0]:(t=e,e=>{const r=t.length;let n=1,i=String(t[0](e));for(;n<r;++n)i+="|"+t[n](e);return i}):function(){return""};var t}r.d(t,"a",(function(){return n}))},,function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));const n=Math.sqrt(2*Math.PI),i=Math.SQRT2},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(1);function i(e,t,r,i){const o=a[e](t,r);return{init:o.init||n.lb,update:function(e,t){t[i]=o.next(e)}}}const a={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const r=t.index,n=t.data;return r&&t.compare(n[r-1],n[r])?e=r+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const r=t.index,n=t.data;return r&&t.compare(n[r-1],n[r])?++e:e}}},percent_rank:function(){const e=a.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const r=t.data,n=t.compare;let i=t.index;if(e<i){for(;i+1<r.length&&!n(r[i],r[i+1]);)++i;e=i}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(n.o)("ntile num must be greater than zero.");const r=a.cume_dist(),i=r.next;return{init:r.init,next:e=>Math.ceil(t*i(e))}},lag:function(e,t){return t=+t||1,{next:r=>{const n=r.index-t;return n>=0?e(r.data[n]):null}}},lead:function(e,t){return t=+t||1,{next:r=>{const n=r.index+t,i=r.data;return n<i.length?e(i[n]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Object(n.o)("nth_value nth must be greater than zero."),{next:r=>{const n=r.i0+(t-1);return n<r.i1?e(r.data[n]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:r=>{const n=e(r.data[r.index]);return null!=n?t=n:t}}},next_value:function(e){let t,r;return{init:()=>(t=null,r=-1),next:n=>{const i=n.data;return n.index<=r?t:(r=function(e,t,r){for(let n=t.length;r<n;++r){if(null!=e(t[r]))return r}return-1}(e,i,n.index))<0?(r=i.length,t=null):t=e(i[r])}}}};const o=Object.keys(a)},,,,,,,,,function(e,t,r){"use strict";t.a=function(e,t,r){var n={};return e.each(e=>{var i=e.data;r(i)&&(n[t(i)]=e)}),e.lookup=n,e}},,function(e,t,r){"use strict";t.a=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}},,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e){const[t,r]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:r}}},,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return u}));var n=r(314),i=r(1);function a(e,t){const r=this.locale();return Object(n.f)(e,t,r.timeParse,r.utcParse)}function o(e,t,r){return t=this.parse(t,r),this.pulse(e,this.changeset().insert(t))}async function s(e,t){const r=this;let i,a=0;try{i=await r.loader().load(e,{context:"dataflow",response:Object(n.g)(t&&t.type)});try{i=r.parse(i,t)}catch(t){a=-2,r.warn("Data ingestion failed",e,t)}}catch(t){a=-1,r.warn("Loading failed",e,t)}return{data:i,status:a}}async function u(e,t,r){const n=this,a=n._pending||function(e){let t;const r=new Promise(e=>t=e);return r.requests=0,r.done=()=>{0==--r.requests&&(e._pending=null,t(e))},e._pending=r}(n);a.requests+=1;const o=await n.request(t,r);return n.pulse(e,n.changeset().remove(i.hb).insert(o.data||[])),a.done(),o}},function(e,t,r){"use strict";var n=r(1194);r.d(t,"b",(function(){return n.a}));var i=r(1195);r.d(t,"a",(function(){return i.a}));var a=r(1196);r.d(t,"c",(function(){return a.a}))},function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n={skip:!0};function i(e,t){var r=e.autosize(),n=e.padding();return t-(r&&"padding"===r.contains?n.left+n.right:0)}function a(e,t){var r=e.autosize(),n=e.padding();return t-(r&&"padding"===r.contains?n.top+n.bottom:0)}function o(e){var t=e._signals,r=t.width,n=t.height,o=t.padding;function s(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,t=>{e._width=t.size,e._viewWidth=i(e,t.size),s()},{size:r}),e._resizeHeight=e.add(null,t=>{e._height=t.size,e._viewHeight=a(e,t.size),s()},{size:n});var u=e.add(null,s,{pad:o});e._resizeWidth.rank=r.rank+1,e._resizeHeight.rank=n.rank+1,u.rank=o.rank+1}function s(e,t,r,i,a,o){this.runAfter(s=>{var u=0;s._autosize=0,s.width()!==r&&(u=1,s.signal("width",r,n),s._resizeWidth.skip(!0)),s.height()!==i&&(u=1,s.signal("height",i,n),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),s._origin[0]===a[0]&&s._origin[1]===a[1]||(s._resize=1,s._origin=a),u&&s.run("enter"),o&&s.runAfter(e=>e.resize())},!1,1)}},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r(336),i=r(337),a=r(1);const o=(e,t)=>Object(a.p)({},e,t);function s(e,t){const r=e?Object(n.b)(e):Object(n.a)(),a=t?Object(i.c)(t):Object(i.b)();return o(r,a)}function u(e,t){const r=arguments.length;return r&&2!==r&&Object(a.o)("defaultLocale expects either zero or two arguments."),r?o(Object(n.a)(e),Object(i.b)(t)):o(Object(n.a)(),Object(i.b)())}function c(){return Object(n.c)(),Object(i.a)(),u()}},function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(1);const i={};function a(e){const t=o(e);return t&&t.Definition||null}function o(e){return e=e&&e.toLowerCase(),Object(n.w)(i,e)?i[e]:null}},function(e,t,r){"use strict";function n(e,t){if("undefined"!=typeof document&&document.createElement){const r=document.createElement("canvas");if(r&&r.getContext)return r.width=e,r.height=t,r}return null}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));const i=()=>"undefined"!=typeof Image?Image:null},function(e,t,r){"use strict";r.d(t,"c",(function(){return $})),r.d(t,"b",(function(){return k})),r.d(t,"a",(function(){return E}));var n=r(1668),i=r(983),a=r(1993),o=r(865),s=r(586),u=r(1994),c=r(559),f=r(1995),l=r(1996),d=r(841),p=r(661),m=r(1997),b=r(622),h=r(1998),g=r(1669),y=r(1999),O=r(2e3),v=r(178);const j=Object(n.a)(),$=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function x(e,t){return function r(){const i=t();return i.type=e,i.path=Object(n.a)().projection(i),i.copy=i.copy||function(){const e=r();return $.forEach(t=>{i[t]&&e[t](i[t]())}),e.path.pointRadius(i.path.pointRadius()),e},i}}function k(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(w[e]=x(e,t),this):w[e]||null}function E(e){return e&&e.path||j}const w={albers:i.a,albersusa:a.a,azimuthalequalarea:o.b,azimuthalequidistant:s.b,conicconformal:u.a,conicequalarea:c.a,conicequidistant:f.a,equalEarth:l.a,equirectangular:d.a,gnomonic:p.a,identity:m.a,mercator:b.a,mollweide:v.a,naturalEarth1:h.a,orthographic:g.a,stereographic:y.a,transversemercator:O.a};for(const e in w)k(e,w[e])},function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,r){(function(t){const r="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=r}).call(this,r(500))},function(e,t,r){const n=r(310);e.exports=(e,t,r)=>n(e,t,r)>0},function(e,t,r){const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?a[o.COMPARATORLOOSE]:a[o.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new f(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new f(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),u=s(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=s(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||a&&o||u||c}}e.exports=i;const{re:a,t:o}=r(501),s=r(1212),u=r(672),c=r(228),f=r(311)},function(e,t,r){const n=r(311);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},,,,,,,function(e,t,r){"use strict";t.a=function(e){for(let t,r,n=1,i=arguments.length;n<i;++n)for(r in t=arguments[n],t)e[r]=t[r];return e}},function(e,t,r){"use strict";t.a=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";t.a=function(e){return"number"==typeof e}},function(e,t,r){"use strict";t.a=function(e){return"string"==typeof e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r(330),i=r(1);let a=0;function o(e,t,r){this.id=++a,this.value=null,r&&(this.receive=r),e&&(this._filter=e),t&&(this._apply=t)}function s(e,t,r){return new o(e,t,r)}o.prototype={_filter:i.hb,_apply:i.y,targets(){return this._targets||(this._targets=Object(n.a)(i.x))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),r=this._targets,n=r?r.length:0;for(let e=0;e<n;++e)r[e].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=s(e);return this.targets().add(t),t},apply(e){const t=s(null,e);return this.targets().add(t),t},merge(){const e=s();this.targets().add(e);for(let t=0,r=arguments.length;t<r;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const r=Date.now();return r-t>e?(t=r,1):0})},debounce(e){const t=s();return this.targets().add(s(null,null,Object(i.n)(e,e=>{const r=e.dataflow;t.receive(e),r&&r.run&&r.run()}))),t},between(e,t){let r=!1;return e.targets().add(s(null,null,()=>r=!0)),t.targets().add(s(null,null,()=>r=!1)),this.filter(()=>r)},detach(){}}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(288),i=r(1);function a(e,t,r,n){const i=this,a=r.length;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=n||null,this.pulses=r;for(let e=0;e<a;++e){const n=r[e];if(n.stamp===t){if(n.fields){const e=i.fields||(i.fields={});for(const t in n.fields)e[t]=1}n.changed(i.ADD)&&(o|=i.ADD),n.changed(i.REM)&&(o|=i.REM),n.changed(i.MOD)&&(o|=i.MOD)}}this.changes=o}Object(i.z)(a,n.b,{fork(e){const t=new n.b(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,e=>t.add.push(e)),e&t.REM&&this.visit(t.REM,e=>t.rem.push(e)),e&t.MOD&&this.visit(t.MOD,e=>t.mod.push(e))),t},changed(e){return this.changes&e},modified(e){const t=this,r=t.fields;return r&&t.changes&t.MOD?Object(i.B)(e)?e.some(e=>r[e]):r[e]:0},filter(){Object(i.o)("MultiPulse does not support filtering.")},materialize(){Object(i.o)("MultiPulse does not support materialization.")},visit(e,t){const r=this,n=r.pulses,i=n.length;let a=0;if(e&r.SOURCE)for(;a<i;++a)n[a].visit(e,t);else for(;a<i;++a)n[a].stamp===r.stamp&&n[a].visit(e,t);return r}})},function(e,t,r){"use strict";var n=r(691),i=r(1977);t.a=function(e,t){const r=e.length,a=Object(i.a)(e,t),o=Object(n.a)(e,t),s=(o[2]-o[0])/1.34;return 1.06*(Math.min(a,s)||a||Math.abs(o[0])||1)*Math.pow(r,-.2)}},function(e,t,r){"use strict";var n=r(692);t.a=function(e,t){return Object(n.a)(e,[.25,.5,.75],t)}},function(e,t,r){"use strict";var n=r(742),i=r(379),a=r(575);t.a=function(e,t,r){const o=Float64Array.from(Object(n.a)(e,r));return o.sort(i.a),t.map(e=>Object(a.b)(o,e))}},function(e,t,r){"use strict";var n=r(338),i=r(208),a=r(282);t.a=function(e,t,r){let o=0,s=0,u=0,c=0,f=0;Object(i.b)(e,t,r,(e,t)=>{++f,o+=(e-o)/f,s+=(t-s)/f,u+=(e*t-u)/f,c+=(e*e-c)/f});const l=Object(n.a)(o,s,u,c),d=e=>l[0]+l[1]*e;return{coef:l,predict:d,rSquared:Object(a.a)(e,t,r,s,d)}}},function(e,t,r){"use strict";var n=r(208),i=r(282);t.a=function(e,t,r){const[a,o,s,u]=Object(n.a)(e,t,r),c=a.length;let f,l,d,p,m=0,b=0,h=0,g=0,y=0;for(f=0;f<c;)l=a[f],d=o[f++],p=l*l,m+=(p-m)/f,b+=(p*l-b)/f,h+=(p*p-h)/f,g+=(l*d-g)/f,y+=(p*d-y)/f;const O=h-m*m,v=m*O-b*b,j=(y*m-g*b)/v,$=(g*O-y*b)/v,x=-j*m,k=e=>j*(e-=s)*e+$*e+x+u;return{coef:[x-$*s+j*s*s+u,$-2*j*s,j],predict:k,rSquared:Object(i.a)(e,t,r,u,k)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e,t){n.d.call(this,e),this.parent=t,this.count=0}Object(i.z)(a,n.d,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(369),i=r(462),a=r(101),o=r(1),s=.5773502691896257,u={circle:{draw:function(e,t){var r=Math.sqrt(t)/2;e.moveTo(r,0),e.arc(0,0,r,0,a.e)}},cross:{draw:function(e,t){var r=Math.sqrt(t)/2,n=r/2.5;e.moveTo(-r,-n),e.lineTo(-r,n),e.lineTo(-n,n),e.lineTo(-n,r),e.lineTo(n,r),e.lineTo(n,n),e.lineTo(r,n),e.lineTo(r,-n),e.lineTo(n,-n),e.lineTo(n,-r),e.lineTo(-n,-r),e.lineTo(-n,-n),e.closePath()}},diamond:{draw:function(e,t){var r=Math.sqrt(t)/2;e.moveTo(-r,0),e.lineTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.closePath()}},square:{draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}},arrow:{draw:function(e,t){var r=Math.sqrt(t)/2,n=r/7,i=r/2.5,a=r/8;e.moveTo(-n,r),e.lineTo(n,r),e.lineTo(n,-a),e.lineTo(i,-a),e.lineTo(0,-r),e.lineTo(-i,-a),e.lineTo(-n,-a),e.closePath()}},wedge:{draw:function(e,t){var r=Math.sqrt(t)/2,n=a.d*r,i=n-r*s,o=r/4;e.moveTo(0,-n-i),e.lineTo(-o,n-i),e.lineTo(o,n-i),e.closePath()}},triangle:{draw:function(e,t){var r=Math.sqrt(t)/2,n=a.d*r,i=n-r*s;e.moveTo(0,-n-i),e.lineTo(-r,n-i),e.lineTo(r,n-i),e.closePath()}},"triangle-up":{draw:function(e,t){var r=Math.sqrt(t)/2,n=a.d*r;e.moveTo(0,-n),e.lineTo(-r,n),e.lineTo(r,n),e.closePath()}},"triangle-down":{draw:function(e,t){var r=Math.sqrt(t)/2,n=a.d*r;e.moveTo(0,n),e.lineTo(-r,-n),e.lineTo(r,-n),e.closePath()}},"triangle-right":{draw:function(e,t){var r=Math.sqrt(t)/2,n=a.d*r;e.moveTo(n,0),e.lineTo(-n,-r),e.lineTo(-n,r),e.closePath()}},"triangle-left":{draw:function(e,t){var r=Math.sqrt(t)/2,n=a.d*r;e.moveTo(-n,0),e.lineTo(n,-r),e.lineTo(n,r),e.closePath()}},stroke:{draw:function(e,t){var r=Math.sqrt(t)/2;e.moveTo(-r,0),e.lineTo(r,0)}}};function c(e){return Object(o.w)(u,e)?u[e]:function(e){if(!Object(o.w)(f,e)){var t=Object(n.a)(e);f[e]={draw:function(e,r){Object(i.a)(e,t,0,0,Math.sqrt(r)/2)}}}return f[e]}(e)}var f={}},function(e,t,r){"use strict";var n=r(584);const i=.448084975506;function a(e){return e.x}function o(e){return e.y}function s(e){return e.width}function u(e){return e.height}function c(e){return"function"==typeof e?e:()=>+e}function f(e,t,r){return Math.max(t,Math.min(e,r))}t.a=function(){var e=a,t=o,r=s,l=u,d=c(0),p=d,m=d,b=d,h=null;function g(a,o,s){var u,c=null!=o?o:+e.call(this,a),g=null!=s?s:+t.call(this,a),y=+r.call(this,a),O=+l.call(this,a),v=Math.min(y,O)/2,j=f(+d.call(this,a),0,v),$=f(+p.call(this,a),0,v),x=f(+m.call(this,a),0,v),k=f(+b.call(this,a),0,v);if(h||(h=u=Object(n.a)()),j<=0&&$<=0&&x<=0&&k<=0)h.rect(c,g,y,O);else{var E=c+y,w=g+O;h.moveTo(c+j,g),h.lineTo(E-$,g),h.bezierCurveTo(E-i*$,g,E,g+i*$,E,g+$),h.lineTo(E,w-k),h.bezierCurveTo(E,w-i*k,E-i*k,w,E-k,w),h.lineTo(c+x,w),h.bezierCurveTo(c+i*x,w,c,w-i*x,c,w-x),h.lineTo(c,g+j),h.bezierCurveTo(c,g+i*j,c+i*j,g,c+j,g),h.closePath()}if(u)return h=null,u+""||null}return g.x=function(t){return arguments.length?(e=c(t),g):e},g.y=function(e){return arguments.length?(t=c(e),g):t},g.width=function(e){return arguments.length?(r=c(e),g):r},g.height=function(e){return arguments.length?(l=c(e),g):l},g.cornerRadius=function(e,t,r,n){return arguments.length?(d=c(e),p=null!=t?c(t):d,b=null!=r?c(r):d,m=null!=n?c(n):p,g):d},g.context=function(e){return arguments.length?(h=null==e?null:e,g):h},g}},function(e,t,r){"use strict";var n=r(101),i=r(584);t.a=function(){var e,t,r,a,o,s,u,c,f=null;function l(e,t,r){var i=r/2;if(o){var a=u-t,l=e-s;if(a||l){var d=Math.sqrt(a*a+l*l),p=(a/=d)*c,m=(l/=d)*c,b=Math.atan2(l,a);f.moveTo(s-p,u-m),f.lineTo(e-a*i,t-l*i),f.arc(e,t,i,b-Math.PI,b),f.lineTo(s+p,u+m),f.arc(s,u,c,b,b+Math.PI)}else f.arc(e,t,i,0,n.e);f.closePath()}else o=1;s=e,u=t,c=i}function d(n){var s,u,c,d=n.length,p=!1;for(null==f&&(f=c=Object(i.a)()),s=0;s<=d;++s)!(s<d&&a(u=n[s],s,n))===p&&(p=!p)&&(o=0),p&&l(+e(u,s,n),+t(u,s,n),+r(u,s,n));if(c)return f=null,c+""||null}return d.x=function(t){return arguments.length?(e=t,d):e},d.y=function(e){return arguments.length?(t=e,d):t},d.size=function(e){return arguments.length?(r=e,d):r},d.defined=function(e){return arguments.length?(a=e,d):a},d.context=function(e){return arguments.length?(f=null==e?null:e,d):f},d}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(603),i=r(1);function a(e){n.a.call(this,e),this.items=this.items||[]}Object(i.z)(a,n.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(283),i=r(314),a=r(1);function o(e){this._pending=0,this._loader=e||Object(i.e)()}function s(e){e._pending+=1}function u(e){e._pending-=1}o.prototype={pending(){return this._pending},sanitizeURL(e){var t=this;return s(t),t._loader.sanitize(e,{context:"href"}).then(e=>(u(t),e)).catch(()=>(u(t),null))},loadImage(e){const t=this,r=Object(n.b)();return s(t),t._loader.sanitize(e,{context:"image"}).then(e=>{const n=e.href;if(!n||!r)throw{url:n};const i=new r,o=Object(a.w)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=()=>u(t),i.onerror=()=>u(t),i.src=n,i}).catch(e=>(u(t),{complete:!1,width:0,height:0,src:e&&e.url||""}))},ready(){var e=this;return new Promise(t=>{!function r(n){e.pending()?setTimeout(()=>{r(!0)},10):t(n)}(!1)})}}},function(e,t,r){"use strict";var n=r(167),i=r(604),a=r(177),o={mark:null};t.a=function(e,t,r){var s,u,c,f,l=a.a[e.marktype],d=l.bound,p=e.items,m=p&&p.length;if(l.nested)return m?c=p[0]:(o.mark=e,c=o),f=Object(i.a)(c,d,r),t=t&&t.union(f)||f;if(t=t||e.bounds&&e.bounds.clear()||new n.a,m)for(s=0,u=p.length;s<u;++s)t.union(Object(i.a)(p[s],d,r));return e.bounds=t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(348),i=r(177),a=r(103),o=r(514),s=r(88),u=r(1);function c(e,t){n.a.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function f(e,t){(e=>e===a.p||e===a.o||e===a.n?[a.p,a.o,a.n]:[e])(t).forEach(t=>function(e,t){const r=e.canvas();r&&!e._events[t]&&(e._events[t]=1,r.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}(e,t))}function l(e,t,r){return function(n){const i=this._active,a=this.pickEvent(n);a===i||(i&&i.exit||this.fire(r,n),this._active=a,this.fire(t,n)),this.fire(e,n)}}function d(e){return function(t){this.fire(e,t),this._active=null}}Object(u.z)(c,n.a,{initialize(e,t,r){return this._canvas=e&&Object(s.e)(e,"canvas"),[a.a,a.g,a.h,a.i,a.c].forEach(e=>f(this,e)),n.a.prototype.initialize.call(this,e,t,r)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:a.e,DOMMouseScroll(e){this.fire(a.k,e)},mousemove:l(a.h,a.j,a.i),dragover:l(a.d,a.b,a.c),mouseout:d(a.i),dragleave:d(a.c),mousedown(e){this._down=this._active,this.fire(a.g,e)},click(e){this._down===this._active&&(this.fire(a.a,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(a.p,e,!0)},touchmove(e){this.fire(a.o,e,!0)},touchend(e){this.fire(a.n,e,!0),this._touch=null},fire(e,t,r){const n=r?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===a.f&&n&&n.href?this.handleHref(t,n,n.href):e!==a.m&&e!==a.l||this.handleTooltip(t,n,e!==a.l),i)for(let e=0,r=i.length;e<r;++e)i[e].handler.call(this._obj,t,n)},on(e,t){const r=this.eventName(e),n=this._handlers;return this._handlerIndex(n[r],e,t)<0&&(f(this,e),(n[r]||(n[r]=[])).push({type:e,handler:t})),this},off(e,t){const r=this.eventName(e),n=this._handlers[r],i=this._handlerIndex(n,e,t);return i>=0&&n.splice(i,1),this},pickEvent(e){const t=Object(o.a)(e,this._canvas),r=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-r[0],t[1]-r[1])},pick(e,t,r,n,a){const o=this.context();return i.a[e.marktype].pick.call(this,o,e,t,r,n,a)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(348),i=r(88),a=r(103),o=r(1);function s(e,t){n.a.call(this,e,t);const r=this;r._hrefHandler=u(r,(e,t)=>{t&&t.href&&r.handleHref(e,t,t.href)}),r._tooltipHandler=u(r,(e,t)=>{r.handleTooltip(e,t,e.type!==a.l)})}const u=(e,t)=>r=>{let n=r.target.__data__;n=Array.isArray(n)?n[0]:n,r.vegaType=r.type,t.call(e._obj,r,n)};Object(o.z)(s,n.a,{initialize(e,t,r){let o=this._svg;return o&&(o.removeEventListener(a.f,this._hrefHandler),o.removeEventListener(a.m,this._tooltipHandler),o.removeEventListener(a.l,this._tooltipHandler)),this._svg=o=e&&Object(i.e)(e,"svg"),o&&(o.addEventListener(a.f,this._hrefHandler),o.addEventListener(a.m,this._tooltipHandler),o.addEventListener(a.l,this._tooltipHandler)),n.a.prototype.initialize.call(this,e,t,r)},canvas(){return this._svg},on(e,t){const r=this.eventName(e),n=this._handlers;if(this._handlerIndex(n[r],e,t)<0){const i={type:e,handler:t,listener:u(this,t)};(n[r]||(n[r]=[])).push(i),this._svg&&this._svg.addEventListener(r,i.listener)}return this},off(e,t){const r=this.eventName(e),n=this._handlers[r],i=this._handlerIndex(n,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(r,n[i].listener),n.splice(i,1)),this}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(273),i=r(257),a=r(177),o=r(553),s=r(88),u=r(458),c=r(113),f=r(149),l=r(331),d=r(466),p=r(441),m=r(1);const b=d.a.xmlns;function h(e){n.a.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const g=n.a.prototype;function y(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function O(e,t,r){let n,a,o;if("radial"===t.gradient){let n=Object(s.b)(e,r++,"pattern",b);A(n,{id:i.d+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),n=Object(s.b)(n,0,"rect",b),A(n,{width:1,height:1,fill:`url(${F()}#${t.id})`}),A(e=Object(s.b)(e,r++,"radialGradient",b),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else A(e=Object(s.b)(e,r++,"linearGradient",b),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(n=0,a=t.stops.length;n<a;++n)o=Object(s.b)(e,n,"stop",b),o.setAttribute("offset",t.stops[n].offset),o.setAttribute("stop-color",t.stops[n].color);return Object(s.c)(e,n),r}function v(e,t,r){let n;return(e=Object(s.b)(e,r,"clipPath",b)).setAttribute("id",t.id),t.path?(n=Object(s.b)(e,0,"path",b),n.setAttribute("d",t.path)):(n=Object(s.b)(e,0,"rect",b),A(n,{x:0,y:0,width:t.width,height:t.height})),Object(s.c)(e,1),r+1}function j(e,t,r,n,i){let a,o=e._svg;if(!o&&(a=t.ownerDocument,o=Object(s.d)(a,n,b),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===n))){const t=Object(s.d)(a,"path",b);o.appendChild(t),t.__data__=e;const r=Object(s.d)(a,"g",b);o.appendChild(r),r.__data__=e;const n=Object(s.d)(a,"path",b);o.appendChild(n),n.__data__=e,n.__values__={fill:"default"}}return(o.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,r))&&t.insertBefore(o,r?r.nextSibling:t.firstChild),o}Object(m.z)(h,n.a,{initialize(e,t,r,n,i){return this._defs={},this._clearDefs(),e&&(this._svg=Object(s.b)(e,0,"svg",b),A(this._svg,d.a),this._svg.setAttribute("class","marks"),Object(s.c)(e,1),this._root=Object(s.b)(this._svg,0,"g",b),A(this._root,p.a),Object(s.c)(this._svg,1)),this.background(this._bgcolor),g.initialize.call(this,e,t,r,n,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),g.background.apply(this,arguments)},resize(e,t,r,n){return g.resize.call(this,e,t,r,n),this._svg&&(A(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let r;t&&(e.removeAttribute("style"),r=Object(s.b)(e,0,"rect",b),A(r,{width:this._width,height:this._height,fill:t}));const n=Object(u.b)(e);return t&&(e.removeChild(r),this._svg.style.setProperty("background-color",t)),n},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Object(s.c)(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let r,n,i,o,s,u,c;for(s=0,u=e.length;s<u;++s)r=e[s],n=r.mark,n.marktype!==i&&(i=n.marktype,o=a.a[i]),n.zdirty&&n.dirty!==t&&(this._dirtyAll=!1,y(r,t),n.items.forEach(e=>{e.dirty=t})),n.zdirty||(r.exit?(o.nested&&n.items.length?(c=n.items[0],c._svg&&this._update(o,c._svg,c)):r._svg&&(c=r._svg.parentNode,c&&c.removeChild(r._svg)),r._svg=null):(r=o.nested?n.items[0]:r,r._update!==t&&(r._svg&&r._svg.ownerSVGElement?this._update(o,r._svg,r):(this._dirtyAll=!1,y(r,t)),r._update=t)));return!this._dirtyAll},mark(e,t,r){if(!this.isDirty(t))return t._svg;const n=this._svg,i=a.a[t.marktype],u=!1===t.interactive?"none":null,c="g"===i.tag;let d=null,p=0;const m=j(t,e,r,"g",n);m.setAttribute("class",Object(s.a)(t));const b=Object(o.b)(t);for(const e in b)_(m,e,b[e]);c||_(m,"pointer-events",u),_(m,"clip-path",t.clip?Object(l.a)(this,t,t.group):null);const h=e=>{const t=this.isDirty(e),r=j(e,m,d,i.tag,n);t&&(this._update(i,r,e),c&&function(e,t,r){t=t.lastChild.previousSibling;let n,i=0;Object(f.b)(r,r=>{n=e.mark(t,r,n),++i}),Object(s.c)(t,1+i)}(this,r,e)),d=r,++p};return i.nested?t.items.length&&h(t.items[0]):Object(f.b)(t,h),Object(s.c)(m,p),m},_update(e,t,r){$=t,x=t.__values__,Object(o.a)(E,r),e.attr(E,r,this);const n=k[e.type];n&&n.call(this,e,t,r),$&&this.style($,r)},style(e,t){if(null!=t)for(const r in p.b){let n="font"===r?Object(c.b)(t):t[r];if(n===x[r])continue;const a=p.b[r];null==n?e.removeAttribute(a):(Object(i.c)(n)&&(n=Object(i.b)(n,this._defs.gradient,F())),e.setAttribute(a,n+"")),x[r]=n}},defs(){const e=this._svg,t=this._defs;let r=t.el,n=0;for(const i in t.gradient)r||(t.el=r=Object(s.b)(e,1,"defs",b)),n=O(r,t.gradient[i],n);for(const i in t.clipping)r||(t.el=r=Object(s.b)(e,1,"defs",b)),n=v(r,t.clipping[i],n);r&&(0===n?(e.removeChild(r),t.el=null):Object(s.c)(r,n))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let $=null,x=null;const k={group(e,t,r){const n=$=t.childNodes[2];x=n.__values__,e.foreground(E,r,this),x=t.__values__,$=t.childNodes[1],e.content(E,r,this);const i=$=t.childNodes[0];e.background(E,r,this);const a=!1===r.mark.interactive?"none":null;if(a!==x.events&&(_(n,"pointer-events",a),_(i,"pointer-events",a),x.events=a),r.strokeForeground&&r.stroke){const e=r.fill;_(n,"display",null),this.style(i,r),_(i,"stroke",null),e&&(r.fill=null),x=n.__values__,this.style(n,r),e&&(r.fill=e),$=null}else _(n,"display","none")},image(e,t,r){!1===r.smooth?(w(t,"image-rendering","optimizeSpeed"),w(t,"image-rendering","pixelated")):w(t,"image-rendering",null)},text(e,t,r){const n=Object(c.g)(r);let i,a,o,u;Object(m.B)(n)?(a=n.map(e=>Object(c.i)(r,e)),i=a.join("\n"),i!==x.text&&(Object(s.c)(t,0),o=t.ownerDocument,u=Object(c.d)(r),a.forEach((e,n)=>{const i=Object(s.d)(o,"tspan",b);i.__data__=r,i.textContent=e,n&&(i.setAttribute("x",0),i.setAttribute("dy",u)),t.appendChild(i)}),x.text=i)):(a=Object(c.i)(r,n),a!==x.text&&(t.textContent=a,x.text=a)),_(t,"font-family",Object(c.b)(r)),_(t,"font-size",Object(c.c)(r)+"px"),_(t,"font-style",r.fontStyle),_(t,"font-variant",r.fontVariant),_(t,"font-weight",r.fontWeight)}};function E(e,t,r){t!==x[e]&&(r?function(e,t,r,n){null!=r?e.setAttributeNS(n,t,r):e.removeAttributeNS(n,t)}($,e,t,r):_($,e,t),x[e]=t)}function w(e,t,r){r!==x[t]&&(null==r?e.style.removeProperty(t):e.style.setProperty(t,r+""),x[t]=r)}function A(e,t){for(const r in t)_(e,r,t[r])}function _(e,t,r){null!=r?e.setAttribute(t,r):e.removeAttribute(t)}function F(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}},function(e,t,r){"use strict";t.a=function(e,t,r){const n=e-t+2*r;return e?n>0?n:1:0}},,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(273),i=r(257),a=r(177),o=r(553),s=r(88),u=r(458),c=r(113),f=r(149),l=r(331),d=r(466),p=r(441),m=r(1);function b(e){n.a.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Object(m.z)(b,n.a,{svg(){return this._text},_render(e){const t=Object(u.a)();t.open("svg",Object(m.p)({},d.a,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&"transparent"!==r&&"none"!==r&&t.open("rect",{width:this._width,height:this._height,fill:r}).close(),t.open("g",p.a,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const r=a.a[t.marktype],n=r.tag,i=[o.a,r.attr];e.open("g",{class:Object(s.a)(t),"clip-path":t.clip?Object(l.a)(this,t,t.group):null},Object(o.b)(t),{"pointer-events":"g"!==n&&!1===t.interactive?"none":null});const u=a=>{const o=this.href(a);if(o&&e.open("a",o),e.open(n,this.attr(t,a,i,"g"!==n?n:null)),"text"===n){const t=Object(c.g)(a);if(Object(m.B)(t)){const r={x:0,dy:Object(c.d)(a)};for(let n=0;n<t.length;++n)e.open("tspan",n?r:null).text(Object(c.i)(a,t[n])).close()}else e.text(Object(c.i)(a,t))}else if("g"===n){const n=a.strokeForeground,i=a.fill,o=a.stroke;n&&o&&(a.stroke=null),e.open("path",this.attr(t,a,r.background,"bgrect")).close(),e.open("g",this.attr(t,a,r.content)),Object(f.b)(a,t=>this.mark(e,t)),e.close(),n&&o?(i&&(a.fill=null),a.stroke=o,e.open("path",this.attr(t,a,r.foreground,"bgrect")).close(),i&&(a.fill=i)):e.open("path",this.attr(t,a,r.foreground,"bgfore")).close()}e.close(),o&&e.close()};return r.nested?t.items&&t.items.length&&u(t.items[0]):Object(f.b)(t,u),e.close()},href(e){const t=e.href;let r;if(t){if(r=this._hrefs&&this._hrefs[t])return r;this.sanitizeURL(t).then(e=>{e["xlink:href"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e})}return null},attr(e,t,r,n){const a={},o=(e,t,r,n)=>{a[n||e]=t};return Array.isArray(r)?r.forEach(e=>e(o,t,this)):r(o,t,this),n&&function(e,t,r,n,a){if(null==t)return e;"bgrect"===n&&!1===r.interactive&&(e["pointer-events"]="none");if("bgfore"===n&&(!1===r.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===n&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===n&&(e["font-family"]=Object(c.b)(t),e["font-size"]=Object(c.c)(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const r in p.b){let n=t[r];const o=p.b[r];("transparent"!==n||"fill"!==o&&"stroke"!==o)&&null!=n&&(Object(i.c)(n)&&(n=Object(i.b)(n,a.gradient,"")),e[o]=n)}}(a,t,e,n,this._defs),a},defs(e){const t=this._defs.gradient,r=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(r).length){e.open("defs");for(const r in t){const n=t[r],a=n.stops;"radial"===n.gradient?(e.open("pattern",{id:i.d+r,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+r+")"}).close(),e.close(),e.open("radialGradient",{id:r,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):e.open("linearGradient",{id:r,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2});for(let t=0;t<a.length;++t)e.open("stop",{offset:a[t].offset,"stop-color":a[t].color}).close();e.close()}for(const t in r){const n=r[t];e.open("clipPath",{id:t}),n.path?e.open("path",{d:n.path}).close():e.open("rect",{x:0,y:0,width:n.width,height:n.height}).close(),e.close()}e.close()}}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(445),i=r(14),a=r(1),o=r(749),s=r(750);function u(e){i.g.call(this,null,e)}function c(e,t,r,n,i){const a=e.x1||0,o=e.y1||0,s=t*r<0;function u(e){e.forEach(c)}function c(e){s&&e.reverse(),e.forEach(f)}function f(e){e[0]=(e[0]-a)*t+n,e[1]=(e[1]-o)*r+i}return function(e){return e.coordinates.forEach(u),e}}u.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(a.z)(u,i.g,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=t.materialize(t.SOURCE).source,f=e.field||a.y,l=Object(o.a)().smooth(!1!==e.smooth),d=e.thresholds||function(e,t,r){const i=Object(s.a)(r.levels||10,r.nice,!1!==r.zero);return"shared"!==r.resolve?i:i(e.map(e=>Object(n.a)(t(e).values)))}(u,f,e),p=null===e.as?null:e.as||"contour",m=[];return u.forEach(t=>{const r=f(t),n=l.size([r.width,r.height])(r.values,Object(a.B)(d)?d:d(r.values));!function(e,t,r,n){let i=n.scale||t.scale,o=n.translate||t.translate;Object(a.E)(i)&&(i=i(r,n));Object(a.E)(o)&&(o=o(r,n));if((1===i||null==i)&&!o)return;const s=(Object(a.F)(i)?i:i[0])||1,u=(Object(a.F)(i)?i:i[1])||1,f=o&&o[0]||0,l=o&&o[1]||0;e.forEach(c(t,s,u,f,l))}(n,r,t,e),n.forEach(e=>{m.push(Object(i.o)(t,Object(i.l)(null!=p?{[p]:e}:e)))})}),this.value&&(r.rem=this.value),this.value=r.source=r.add=m,r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return u}));var n=r(751),i=r(14),a=r(1);function o(e){i.g.call(this,null,e)}o.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const s=["x","y","weight","size","cellSize","bandwidth"];function u(e,t){return s.forEach(r=>null!=t[r]?e[r](t[r]):0),e}Object(a.z)(o,i.g,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r,o=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=function(e,t){var r,n,i,a,o,s,u=[],c=e=>e(a);if(null==t)u.push(e);else for(r={},n=0,i=e.length;n<i;++n)a=e[n],o=t.map(c),(s=r[o])||(r[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u}(t.materialize(t.SOURCE).source,e.groupby),c=(e.groupby||[]).map(a.h),f=u(Object(n.a)(),e),l=e.as||"grid";return r=s.map(t=>Object(i.l)(function(e,t){for(let r=0;r<c.length;++r)e[c[r]]=t[r];return e}({[l]:f(t,e.counts)},t.dims))),this.value&&(o.rem=this.value),this.value=o.source=o.add=r,o}})},function(e,t,r){"use strict";t.a=function(e,t,r){if(e){const r=this.context.dataflow,n=e.mark.source;r.pulse(n,r.changeset().encode(e,t))}return void 0!==r?r:e}},function(e,t,r){"use strict";t.a={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"}},function(e,t,r){"use strict";var n=r(1);t.a=function(e){function t(t,r,n){return i=>function(t,r,n,i){let a=e(r[0]);return n&&(a=n+"("+a+")",0===n.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+r.slice(1).map(e).join(",")+")")}(t,i,r,n)}const r="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(n.o)("Missing arguments to clamp function."),t.length>3&&Object(n.o)("Too many arguments to clamp function.");const r=t.map(e);return"Math.max("+r[1]+", Math.min("+r[2]+","+r[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:t("getDate",r,0),day:t("getDay",r,0),year:t("getFullYear",r,0),month:t("getMonth",r,0),hours:t("getHours",r,0),minutes:t("getMinutes",r,0),seconds:t("getSeconds",r,0),milliseconds:t("getMilliseconds",r,0),time:t("getTime",r,0),timezoneoffset:t("getTimezoneOffset",r,0),utcdate:t("getUTCDate",r,0),utcday:t("getUTCDay",r,0),utcyear:t("getUTCFullYear",r,0),utcmonth:t("getUTCMonth",r,0),utchours:t("getUTCHours",r,0),utcminutes:t("getUTCMinutes",r,0),utcseconds:t("getUTCSeconds",r,0),utcmilliseconds:t("getUTCMilliseconds",r,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(n.o)("Missing arguments to if function."),t.length>3&&Object(n.o)("Too many arguments to if function.");const r=t.map(e);return"("+r[0]+"?"+r[1]+":"+r[2]+")"}}}},function(e,t,r){"use strict";t.a=function(e){const t=this.context.group;let r=!1;if(t)for(;e;){if(e===t){r=!0;break}e=e.mark.group}return r}},function(e,t,r){"use strict";var n=r(1);t.a=function(){const e=[].slice.call(arguments);return e.unshift({}),n.p.apply(null,e)}},function(e,t,r){"use strict";var n=r(14),i=r(1);function a(e,t){return e===t||e!=e&&t!=t||(Object(i.B)(e)?!(!Object(i.B)(t)||e.length!==t.length)&&function(e,t){for(let r=0,n=e.length;r<n;++r)if(!a(e[r],t[r]))return!1;return!0}(e,t):!(!Object(i.G)(e)||!Object(i.G)(t))&&o(e,t))}function o(e,t){for(const r in e)if(!a(e[r],t[r]))return!1;return!0}function s(e){return t=>o(e,t)}t.a=function(e,t,r,a,o,u){const c=this.context.dataflow,f=this.context.data[e],l=f.input,d=c.stamp();let p,m,b=f.changes;if(!1===c._trigger||!(l.value.length||t||a))return 0;if((!b||b.stamp<d)&&(f.changes=b=c.changeset(),b.stamp=d,c.runAfter(()=>{f.modified=!0,c.pulse(l,b).run()},!0,1)),r&&(p=!0===r?i.hb:Object(i.B)(r)||Object(n.n)(r)?r:s(r),b.remove(p)),t&&b.insert(t),a&&(p=s(a),l.value.some(p)?b.remove(p):b.insert(a)),o)for(m in u)b.modify(o,m,u[m]);return 1}},function(e,t,r){"use strict";var n=r(237),i=r(47),a=r(77),o=r(1);t.a=function(e,t,r,s,u){e=Object(n.a)(e,(u||this).context);const c=Object(a.d)(t,r);let f=e.domain(),l=f[0],d=Object(o.V)(f),p=o.y;return d-l?p=Object(i.J)(e,l,d):e=(e.interpolator?Object(i.I)("sequential")().interpolator(e.interpolator()):Object(i.I)("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,d=1]),e.ticks&&(f=e.ticks(+s||15),l!==f[0]&&f.unshift(l),d!==Object(o.V)(f)&&f.push(d)),f.forEach(t=>c.stop(p(t),e(t))),c}},function(e,t,r){"use strict";var n=r(1198);r.d(t,"a",(function(){return n.a}))},function(e,t,r){"use strict";var n=r(1369),i=r(168),a=r(1);t.a=function(e,t){const r=t.getSignal(e.name);let o=e.update;e.init&&(o?Object(a.o)("Signals can not include both init and update expressions."):(o=e.init,r.initonly=!0)),o&&(o=Object(i.c)(o,t),r.update=o.$expr,r.params=o.$params),e.on&&e.on.forEach(e=>Object(n.a)(e,t,r.id))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(28),i=r(168),a=r(1);function o(e,t){return(e.merge?s:e.stream?u:e.type?c:Object(a.o)("Invalid stream specification: "+Object(a.ab)(e)))(e,t)}function s(e,t){const r=f({merge:e.merge.map(e=>o(e,t))},e,t);return t.addStream(r).id}function u(e,t){const r=f({stream:o(e.stream,t)},e,t);return t.addStream(r).id}function c(e,t){let r;var i;"timer"===e.type?(r=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):r=t.event((i=e.source)===n.c?n.d:i||n.d,e.type);const a=f({stream:r},e,t);return 1===Object.keys(a).length?r:t.addStream(a).id}function f(e,t,r){let s=t.between;return s&&(2!==s.length&&Object(a.o)('Stream "between" parameter must have 2 entries: '+Object(a.ab)(t)),e.between=[o(s[0],r),o(s[1],r)]),s=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&s.push(function(e,t,r){const n="event.item";return n+(e&&"*"!==e?"&&"+n+".mark.marktype==='"+e+"'":"")+(r?"&&"+n+".mark.role==='"+r+"'":"")+(t?"&&"+n+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===n.c&&s.push("inScope(event.item)"),s.length&&(e.filter=Object(i.c)("("+s.join(")&&(")+")",r).$expr),null!=(s=t.throttle)&&(e.throttle=+s),null!=(s=t.debounce)&&(e.debounce=+s),t.consume&&(e.consume=!0),e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(334),i=r(64),a=r(28),o=r(763),s=r(168),u=r(1);function c(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function f(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function l(e){return(Object(u.B)(e)?d:p)(e)}function d(e){const t=e.length;let r="[";for(let n=0;n<t;++n){const t=e[n];r+=(n>0?",":"")+(Object(u.G)(t)?t.signal||l(t):Object(u.ab)(t))}return r+"]"}function p(e){let t,r,n="{",i=0;for(t in e)r=e[t],n+=(++i>1?",":"")+Object(u.ab)(t)+":"+(Object(u.G)(r)?r.signal||l(r):Object(u.ab)(r));return n+"}"}c.prototype=f.prototype={parse(e){return Object(o.a)(e,this)},fork(){return new f(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof a.b?Object(a.p)(e):e;return this.add(Object(i.u)({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function r(e,t,r){let n,i;e&&(n=e.data||(e.data={}),i=n[t]||(n[t]=[]),i.push(r))}for(e in this.data){t=this.data[e],r(t.input,e,"input"),r(t.output,e,"output"),r(t.values,e,"values");for(const n in t.index)r(t.index[n],e,"index:"+n)}return this},pushState(e,t,r){this._encode.push(Object(a.p)(this.add(Object(i.y)({pulse:e})))),this._parent.push(t),this._lookup.push(r?Object(a.p)(this.proxy(r)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Object(u.V)(this._parent)},encode(){return Object(u.V)(this._encode)},lookup(){return Object(u.V)(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Object(u.I)(e))return Object(a.i)(e,t);e.signal||Object(u.o)("Unsupported field reference: "+Object(u.ab)(e));const r=e.signal;let n=this.field[r];if(!n){const e={name:this.signalRef(r)};t&&(e.as=t),this.field[r]=n=Object(a.p)(this.add(Object(i.j)(e)))}return n},compareRef(e){let t=!1;const r=e=>Object(a.l)(e)?(t=!0,this.signalRef(e.signal)):Object(a.k)(e)?(t=!0,this.exprRef(e.expr)):e,n=Object(u.i)(e.field).map(r),o=Object(u.i)(e.order).map(r);return t?Object(a.p)(this.add(Object(i.e)({fields:n,orders:o}))):Object(a.f)(n,o)},keyRef(e,t){let r=!1;const n=this.signals;return e=Object(u.i)(e).map(e=>Object(a.l)(e)?(r=!0,Object(a.p)(n[e.signal])):e),r?Object(a.p)(this.add(Object(i.k)({fields:e,flat:t}))):Object(a.n)(e,t)},sortRef(e){if(!e)return e;const t=Object(a.e)(e.op,e.field),r=e.order||a.a;return r.signal?Object(a.p)(this.add(Object(i.e)({fields:t,orders:this.signalRef(r.signal)}))):Object(a.f)(t,r)},event(e,t){const r=e+":"+t;if(!this.events[r]){const n=this.id();this.streams.push({id:n,source:e,type:t}),this.events[r]=n}return this.events[r]},hasOwnSignal(e){return Object(u.w)(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Object(u.o)("Duplicate signal name: "+Object(u.ab)(e));const r=t instanceof a.b?t:this.add(Object(a.o)(t));return this.signals[e]=r},getSignal(e){return this.signals[e]||Object(u.o)("Unrecognized signal name: "+Object(u.ab)(e)),this.signals[e]},signalRef(e){return this.signals[e]?Object(a.p)(this.signals[e]):(Object(u.w)(this.lambdas,e)||(this.lambdas[e]=this.add(Object(a.o)(null))),Object(a.p)(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,r=e.length;t<r;++t){const r=e[t],n=Object(s.c)(r,this),i=this.lambdas[r];i.params=n.$params,i.update=n.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&Object(u.G)(e)?this.signalRef(e.signal||l(e)):e},exprRef(e,t){const r={expr:Object(s.c)(e,this)};return t&&(r.expr.$name=t),Object(a.p)(this.add(Object(i.h)(r)))},addBinding(e,t){this.bindings||Object(u.o)("Nested signals do not support binding: "+Object(u.ab)(e)),this.bindings.push(Object(u.p)({signal:e},t))},addScaleProj(e,t){Object(u.w)(this.scales,e)&&Object(u.o)("Duplicate scale or projection name: "+Object(u.ab)(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Object(i.x)(t))},addProjection(e,t){this.addScaleProj(e,Object(i.t)(t))},getScale(e){return this.scales[e]||Object(u.o)("Unrecognized scale name: "+Object(u.ab)(e)),this.scales[e]},scaleRef(e){return Object(a.p)(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Object(u.w)(this.data,e)&&Object(u.o)("Duplicate data set name: "+Object(u.ab)(e)),this.data[e]=t},getData(e){return this.data[e]||Object(u.o)("Undefined data set name: "+Object(u.ab)(e)),this.data[e]},addDataPipeline(e,t){return Object(u.w)(this.data,e)&&Object(u.o)("Duplicate data set name: "+Object(u.ab)(e)),this.addData(e,n.a.fromEntries(this,t))}}},function(e,t,r){"use strict";t.a=function(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(607),i=r(731),a=r(732);class o{constructor(e){this.options=Object.assign(Object.assign({},n.a),e);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=Object(n.b)(t);const r=document.head;r.childNodes.length>0?r.insertBefore(e,r.childNodes[0]):r.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(e,t,r,n){if(null==n||""===n)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=Object(i.a)(n,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:o,y:s}=Object(a.a)(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${s}px; left: ${o}px`)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(1),i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function a(e,t,r){if(Object(n.B)(e))return`[${e.map(e=>t(Object(n.I)(e)?e:o(e,r))).join(", ")}]`;if(Object(n.G)(e)){let a="";const s=e,{title:u,image:c}=s,f=i(s,["title","image"]);u&&(a+=`<h2>${t(u)}</h2>`),c&&(a+=`<img src="${t(c)}">`);const l=Object.keys(f);if(l.length>0){a+="<table>";for(const e of l){let i=f[e];void 0!==i&&(Object(n.G)(i)&&(i=o(i,r)),a+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`)}a+="</table>"}return a||"{}"}return t(e)}function o(e,t){return JSON.stringify(e,function(e){const t=[];return function(r,n){if("object"!=typeof n||null===n)return n;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(n)>=0?"[Circular]":(t.push(n),n)}}(t))}},function(e,t,r){"use strict";function n(e,t,r,n){let i=e.clientX+r;i+t.width>window.innerWidth&&(i=+e.clientX-r-t.width);let a=e.clientY+n;return a+t.height>window.innerHeight&&(a=+e.clientY-n-t.height),{x:i,y:a}}r.d(t,"a",(function(){return n}))},,,,function(e,t,r){"use strict";t.a=function(e){return 1===e.length?n(e[0]):i(e)};const n=e=>function(t){return t[e]},i=e=>{const t=e.length;return function(r){for(let n=0;n<t;++n)r=r[e[n]];return r}}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i}));var n=r(1);function i(t,r){const i=r&&r.property?Object(n.u)(r.property):n.y;return!Object(n.G)(t)||(a=t,"function"==typeof e&&Object(n.E)(e.isBuffer)&&e.isBuffer(a))?i(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(i(t));var a}i.responseType="json"}).call(this,r(1087).Buffer)},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(74),a=r(1);function o(e){this._key=e?Object(a.u)(e):n.t,this.reset()}const s=o.prototype;s.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},s.add=function(e){this._add.push(e)},s.rem=function(e){this._rem.push(e)},s.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,r=this._key,n=e.length,i=t.length,a=Array(n-i),o={};let s,u,c;for(s=0;s<i;++s)o[r(t[s])]=1;for(s=0,u=0;s<n;++s)o[r(c=e[s])]?o[r(c)]=0:a[u++]=c;return this._rem=[],this._add=a},s.distinct=function(e){const t=this.values(),r={};let n,i=t.length,o=0;for(;--i>=0;)n=e(t[i])+"",Object(a.w)(r,n)||(r[n]=1,++o);return o},s.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),r=Object(a.r)(t,e);this._ext=[t[r[0]],t[r[1]]],this._get=e}return this._ext},s.argmin=function(e){return this.extent(e)[0]||{}},s.argmax=function(e){return this.extent(e)[1]||{}},s.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},s.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},s.quartile=function(e){return this._get===e&&this._q||(this._q=Object(i.o)(this.values(),e),this._get=e),this._q},s.q1=function(e){return this.quartile(e)[0]},s.q2=function(e){return this.quartile(e)[1]},s.q3=function(e){return this.quartile(e)[2]},s.ci=function(e){return this._get===e&&this._ci||(this._ci=Object(i.c)(this.values(),1e3,.05,e),this._get=e),this._ci},s.ci0=function(e){return this.ci(e)[0]},s.ci1=function(e){return this.ci(e)[1]}},function(e,t,r){"use strict";t.a=function*(e,t){if(null==t)for(let t of e)null!=t&&""!==t&&(t=+t)>=t&&(yield t);else{let r=-1;for(let n of e)n=t(n,++r,e),null!=n&&""!==n&&(n=+n)>=n&&(yield n)}}},function(e,t,r){"use strict";var n=r(1);t.a=function(e,t,r){const i=e;let a=t||[],o=r||[],s={},u=0;return{add:e=>o.push(e),remove:e=>s[i(e)]=++u,size:()=>a.length,data:(e,t)=>(u&&(a=a.filter(e=>!s[i(e)]),s={},u=0),t&&e&&a.sort(e),o.length&&(a=e?Object(n.N)(e,a,o.sort(e)):a.concat(o),o=[]),a)}}},,function(e,t,r){"use strict";var n=r(257),i=r(1282);t.a=function(e,t,r){return Object(n.c)(r)?Object(i.a)(e,r,t.bounds):r}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(150),i=r(1);function a(e,t){e.beginPath(),Object(n.c)(t)?Object(n.e)(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}t.b=function(e,t){var r=t.clip;e.save(),Object(i.E)(r)?(e.beginPath(),r(e),e.clip()):a(e,t.group)}},,,function(e,t,r){"use strict";var n=r(1);function i(){}const a=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function o(e,t){for(var r,n=-1,i=t.length;++n<i;)if(r=s(e,t[n]))return r;return 0}function s(e,t){for(var r=t[0],n=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var c=e[a],f=c[0],l=c[1],d=e[s],p=d[0],m=d[1];if(u(c,d,t))return 0;l>n!=m>n&&r<(p-f)*(n-l)/(m-l)+f&&(i=-i)}return i}function u(e,t,r){var n,i,a,o;return function(e,t,r){return(t[0]-e[0])*(r[1]-e[1])==(r[0]-e[0])*(t[1]-e[1])}(e,t,r)&&(i=e[n=+(e[0]===t[0])],a=r[n],o=t[n],i<=a&&a<=o||o<=a&&a<=i)}t.a=function(){var e=1,t=1,r=f;function s(e,t){return t.map(t=>u(e,t))}function u(n,i){var s=[],u=[];return function(r,n,i){var o,s,u,f,l,d,p=new Array,m=new Array;o=s=-1,f=r[0]>=n,a[f<<1].forEach(b);for(;++o<e-1;)u=f,f=r[o+1]>=n,a[u|f<<1].forEach(b);a[f<<0].forEach(b);for(;++s<t-1;){for(o=-1,f=r[s*e+e]>=n,l=r[s*e]>=n,a[f<<1|l<<2].forEach(b);++o<e-1;)u=f,f=r[s*e+e+o+1]>=n,d=l,l=r[s*e+o+1]>=n,a[u|f<<1|l<<2|d<<3].forEach(b);a[f|l<<3].forEach(b)}o=-1,l=r[s*e]>=n,a[l<<2].forEach(b);for(;++o<e-1;)d=l,l=r[s*e+o+1]>=n,a[l<<2|d<<3].forEach(b);function b(e){var t,r,n=[e[0][0]+o,e[0][1]+s],a=[e[1][0]+o,e[1][1]+s],u=c(n),f=c(a);(t=m[u])?(r=p[f])?(delete m[t.end],delete p[r.start],t===r?(t.ring.push(a),i(t.ring)):p[t.start]=m[r.end]={start:t.start,end:r.end,ring:t.ring.concat(r.ring)}):(delete m[t.end],t.ring.push(a),m[t.end=f]=t):(t=p[f])?(r=m[u])?(delete p[t.start],delete m[r.end],t===r?(t.ring.push(a),i(t.ring)):p[r.start]=m[t.end]={start:r.start,end:t.end,ring:r.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(n),p[t.start=u]=t):p[u]=m[f]={start:u,end:f,ring:[n,a]}}a[l<<3].forEach(b)}(n,i,e=>{r(e,n,i),function(e){var t=0,r=e.length,n=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];for(;++t<r;)n+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return n}(e)>0?s.push([e]):u.push(e)}),u.forEach(e=>{for(var t,r=0,n=s.length;r<n;++r)if(-1!==o((t=s[r])[0],e))return void t.push(e)}),{type:"MultiPolygon",value:i,coordinates:s}}function c(t){return 2*t[0]+t[1]*(e+1)*4}function f(r,n,i){r.forEach(r=>{var a,o=r[0],s=r[1],u=0|o,c=0|s,f=n[c*e+u];o>0&&o<e&&u===o&&(a=n[c*e+u-1],r[0]=o+(i-a)/(f-a)-.5),s>0&&s<t&&c===s&&(a=n[(c-1)*e+u],r[1]=s+(i-a)/(f-a)-.5)})}return s.contour=u,s.size=function(r){if(!arguments.length)return[e,t];var i=Math.floor(r[0]),a=Math.floor(r[1]);return i>=0&&a>=0||Object(n.o)("invalid size"),e=i,t=a,s},s.smooth=function(e){return arguments.length?(r=e?f:i,s):r===f},s}},function(e,t,r){"use strict";var n=r(307),i=r(216),a=r(1);t.a=function(e,t,r){return function(o){var s=Object(a.q)(o),u=r?Math.min(s[0],0):s[0],c=s[1],f=c-u,l=t?Object(n.c)(u,c,e):f/(e+1);return Object(i.a)(l,c,l)}}},function(e,t,r){"use strict";var n=r(74),i=r(1),a=r(1667);function o(e,t,r){const i=e>=0?e:Object(n.a)(t,r);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function s(e){return Object(i.E)(e)?e:Object(i.m)(+e)}function u(e,t,r,n,i){const a=1+(i<<1);for(let o=0;o<t;++o)for(let t=0,s=0;t<e+i;++t)t<e&&(s+=r[t+o*e]),t>=i&&(t>=a&&(s-=r[t-a+o*e]),n[t-i+o*e]=s/Math.min(t+1,e-1+a-t,a))}function c(e,t,r,n,i){const a=1+(i<<1);for(let o=0;o<e;++o)for(let s=0,u=0;s<t+i;++s)s<t&&(u+=r[o+s*e]),s>=i&&(s>=a&&(u-=r[o+(s-a)*e]),n[o+(s-i)*e]=u/Math.min(s+1,t-1+a-s,a))}t.a=function(){var e=e=>e[0],t=e=>e[1],r=i.P,n=[-1,-1],f=960,l=500,d=2;function p(i,s){const p=o(n[0],i,e)>>d,m=o(n[1],i,t)>>d,b=p?p+2:0,h=m?m+2:0,g=2*b+(f>>d),y=2*h+(l>>d),O=new Float32Array(g*y),v=new Float32Array(g*y);let j=O;i.forEach(n=>{const i=b+(+e(n)>>d),a=h+(+t(n)>>d);i>=0&&i<g&&a>=0&&a<y&&(O[i+a*g]+=+r(n))}),p>0&&m>0?(u(g,y,O,v,p),c(g,y,v,O,m),u(g,y,O,v,p),c(g,y,v,O,m),u(g,y,O,v,p),c(g,y,v,O,m)):p>0?(u(g,y,O,v,p),u(g,y,v,O,p),u(g,y,O,v,p),j=v):m>0&&(c(g,y,O,v,m),c(g,y,v,O,m),c(g,y,O,v,m),j=v);const $=s?Math.pow(2,-2*d):1/Object(a.a)(j);for(let e=0,t=g*y;e<t;++e)j[e]*=$;return{values:j,scale:1<<d,width:g,height:y,x1:b,y1:h,x2:b+(f>>d),y2:h+(l>>d)}}return p.x=function(t){return arguments.length?(e=s(t),p):e},p.y=function(e){return arguments.length?(t=s(e),p):t},p.weight=function(e){return arguments.length?(r=s(e),p):r},p.size=function(e){if(!arguments.length)return[f,l];var t=+e[0],r=+e[1];return t>=0&&r>=0||Object(i.o)("invalid size"),f=t,l=r,p},p.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(i.o)("invalid cell size"),d=Math.floor(Math.log(e)/Math.LN2),p):1<<d},p.bandwidth=function(e){return arguments.length?(1===(e=Object(i.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(i.o)("invalid bandwidth"),n=e,p):n},p}},,,,,,,function(e,t,r){"use strict";t.a=function(e,t){var r,n,i,a,o,s,u=[],c=function(e){return e(a)};if(null==t)u.push(e);else for(r={},n=0,i=e.length;n<i;++n)a=e[n],(s=r[o=t.map(c)])||(r[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u}},function(e,t,r){"use strict";function n(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),i(t,e.description()))}function i(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n=r(349);t.a=function(e,t,r,i,a,o){return(t=t||new i(e.loader())).initialize(r,Object(n.d)(e),Object(n.a)(e),Object(n.b)(e),a,o).background(e.background())}},function(e,t,r){"use strict";var n=r(1367),i=r(762),a=r(1368),o=r(168),s=r(1);function u(e,t,r,n){const o={},u={};for(const t in e)null!=e[t]&&(o[t]=c((f=e[t],Object(s.B)(f)?Object(a.a)(f):Object(i.a)(f)),n,r,u));var f;return{$expr:{marktype:t,channels:o},$fields:Object.keys(u),$output:Object.keys(e)}}function c(e,t,r,n){const i=Object(o.c)(e,t);return i.$fields.forEach(e=>n[e]=1),Object(s.p)(r,i.$params),i.$expr}t.a=function(e,t,r,i,a,o){const s={};(o=o||{}).encoders={$encode:s},e=Object(n.a)(e,t,r,i,a.config);for(const r in e)s[r]=u(e[r],t,o,a);return o}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1);const i=e=>Object(n.I)(e)?Object(n.ab)(e):e.signal?`(${e.signal})`:u(e);function a(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map(e=>null==e?null:Object(n.ab)(e));for(;t.length&&null==Object(n.V)(t);)t.pop();return t.unshift(i(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(e){return e.c?o("hcl",e.h,e.c,e.l):e.h||e.s?o("hsl",e.h,e.s,e.l):e.l||e.a?o("lab",e.l,e.a,e.b):e.r||e.g||e.b?o("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?u(e.field):void 0!==e.value?Object(n.ab)(e.value):void 0;return null!=e.scale&&(t=function(e,t){const r=i(e.scale);null!=e.range?t=`lerp(_range(${r}), ${+e.range})`:(void 0!==t&&(t=`_scale(${r}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${r})`+(1==+e.band?"":"*"+s(e.band)),e.extra&&(t=`(datum.extra ? _scale(${r}, datum.extra.value) : ${t})`)),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${s(e.exponent)})`),null!=e.mult&&(t+="*"+s(e.mult)),null!=e.offset&&(t+="+"+s(e.offset)),e.round&&(t=`round(${t})`),t}const o=(e,t,r,n)=>`(${e}(${[t,r,n].map(a).join(",")})+'')`;function s(e){return Object(n.G)(e)?"("+a(e)+")":e}function u(e){return function e(t){let r,i,a;if(t.signal)r="datum",a=t.signal;else if(t.group||t.parent){for(i=Math.max(1,t.level||1),r="item";i-- >0;)r+=".mark.group";t.parent?(a=t.parent,r+=".datum"):a=t.group}else t.datum?(r="datum",a=t.datum):Object(n.o)("Invalid field reference: "+Object(n.ab)(t));t.signal||(a=Object(n.I)(a)?Object(n.Z)(a).map(n.ab).join("]["):e(a));return r+"["+a+"]"}(Object(n.G)(e)?e:{datum:e})}},function(e,t,r){"use strict";var n=r(722),i=r(999),a=r(1370),o=r(1371),s=r(520),u=r(1380),c=r(1381),f=r(412),l=r(1382),d=r(1);t.a=function(e,t,r){const p=Object(d.i)(e.signals),m=Object(d.i)(e.scales);return r||p.forEach(e=>Object(s.a)(e,t)),Object(d.i)(e.projections).forEach(e=>Object(a.a)(e,t)),m.forEach(e=>Object(i.a)(e,t)),Object(d.i)(e.data).forEach(e=>Object(c.a)(e,t)),m.forEach(e=>Object(i.b)(e,t)),(r||p).forEach(e=>Object(n.a)(e,t)),Object(d.i)(e.axes).forEach(e=>Object(l.a)(e,t)),Object(d.i)(e.marks).forEach(e=>Object(f.a)(e,t)),Object(d.i)(e.legends).forEach(e=>Object(o.a)(e,t)),e.title&&Object(u.a)(e.title,t),t.parseLambdas(),t}},function(e,t,r){"use strict";var n=r(124),i=r(69);t.a=function(e){const t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===n.a?i.p:t||i.o:t}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n=r(533),i=r(64),a=r(28),o=r(1);function s(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Object(a.p)(t.getData(e.data).output)}t.a=function(e,t,r){let u,c,f,l,d;return e?(u=e.facet)&&(t||Object(o.o)("Only group marks can be faceted."),null!=u.field?l=d=s(u,r):(e.data?d=Object(a.p)(r.getData(e.data).aggregate):(f=Object(n.a)(Object(o.p)({type:"aggregate",groupby:Object(o.i)(u.groupby)},u.aggregate),r),f.params.key=r.keyRef(u.groupby),f.params.pulse=s(u,r),l=d=Object(a.p)(r.add(f))),c=r.keyRef(u.groupby,!0))):l=Object(a.p)(r.add(Object(i.d)(null,[{}]))),l||(l=s(e,r)),{key:c,pulse:l,parent:d}}},function(e,t,r){"use strict";var n=r(28),i=r(168);t.a=function(e,t,r){const a=e.remove,o=e.insert,s=e.toggle,u=e.modify,c=e.values,f=t.add(Object(n.o)()),l="if("+e.trigger+',modify("'+r+'",'+[o,a,s,u,c].map(e=>null==e?"null":e).join(",")+"),0)",d=Object(i.c)(l,t);f.update=d.$expr,f.params=d.$params}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"version",(function(){return p}));var n=r(1571),i=r(1213);r.d(t,"dark",(function(){return i.a}));var a=r(1214);r.d(t,"excel",(function(){return a.a}));var o=r(1215);r.d(t,"fivethirtyeight",(function(){return o.a}));var s=r(1216);r.d(t,"ggplot2",(function(){return s.a}));var u=r(1217);r.d(t,"latimes",(function(){return u.a}));var c=r(1218);r.d(t,"quartz",(function(){return c.a}));var f=r(1219);r.d(t,"vox",(function(){return f.a}));var l=r(1220);r.d(t,"urbaninstitute",(function(){return l.a}));var d=r(1221);r.d(t,"googlecharts",(function(){return d.a}));const p=n.version},,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(1976),i=r(1);function a(e){const t=function(t,r){const n={delimiter:e};return o(t,r?Object(i.p)(r,n):n)};return t.responseType="text",t}function o(e,t){return t.header&&(e=t.header.map(i.ab).join(t.delimiter)+"\n"+e),Object(n.a)(t.delimiter).parse(e+"")}o.responseType="text"},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r(288);const i={skip:!1,force:!1};function a(e,t){const r=t||i;return this._pulse?this._enqueue(e):this._touched.add(e),r.skip&&e.skip(!0),this}function o(e,t,r){const n=r||i;return(e.set(t)||n.force)&&this.touch(e,n),this}function s(e,t,r){this.touch(e,r||i);const a=new n.b(this,this._clock+(this._pulse?0:1)),o=e.pulse&&e.pulse.source||[];return a.target=e,this._input[e.id]=t.pulse(a,o),this}},,,,,function(e,t,r){"use strict";r.d(t,"b",(function(){return i}));var n=r(1);function i(e,t){const r=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(r)return null==t?r.style.removeProperty("cursor"):r.style.cursor=t}t.a=function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:"default",item:null}));e.on(e.events("view","mousemove"),t,(e,r)=>{const i=t.value,a=i?Object(n.I)(i)?i:i.user:"default",o=r.item&&r.item.cursor||null;return i&&a===i.user&&o==i.item?i:{user:a,item:o}}),e.add(null,(function(t){let r=t.cursor,a=this.value;return Object(n.I)(r)||(a=r.item,r=r.user),i(e,r&&"default"!==r?r:a||r),a}),{cursor:t})}},,,,,,,,,,,,,,function(e,t,r){"use strict";t.a='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'},,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r(403),i=r(460);const a=e=>"__proto__"!==e;function o(...e){return e.reduce((e,t)=>{for(const r in t)if("signals"===r)e.signals=u(e.signals,t.signals);else{const n="legend"===r?{layout:1}:"style"===r||null;s(e,r,t[r],n)}return e},{})}function s(e,t,r,o){if(!a(t))return;let u,c;if(Object(i.a)(r)&&!Object(n.a)(r))for(u in c=Object(i.a)(e[t])?e[t]:e[t]={},r)o&&(!0===o||o[u])?s(c,u,r[u]):a(u)&&(c[u]=r[u]);else e[t]=r}function u(e,t){if(null==e)return t;const r={},n=[];function i(e){r[e.name]||(r[e.name]=1,n.push(e))}return t.forEach(i),e.forEach(i),n}},function(e,t,r){"use strict";function n(e){return 1+~~(new Date(e).getMonth()/3)}function i(e){return 1+~~(new Date(e).getUTCMonth()/3)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(207),i=r(409),a=r(509),o=r(511);t.b=function(e,t,r){r=r||{},t=Object(i.a)(t)||[];const s=[],c=[],f={},l=r.comparator||u;return Object(i.a)(e).forEach((e,i)=>{null!=e&&(s.push("descending"===t[i]?-1:1),c.push(e=Object(o.a)(e)?e:Object(a.a)(e,null,r)),(Object(n.a)(e)||[]).forEach(e=>f[e]=1))}),0===c.length?null:Object(n.c)(l(c,s),Object.keys(f))};const s=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),u=(e,t)=>1===e.length?c(e[0],t[0]):f(e,t,e.length),c=(e,t)=>function(r,n){return s(e(r),e(n))*t},f=(e,t,r)=>(t.push(0),function(n,i){let a,o=0,u=-1;for(;0===o&&++u<r;)a=e[u],o=s(a(n),a(i));return o*t[u]})},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return p}));var n=r(41),i=r(183),a=r(1);function o(e,t,r,i,o){const s=t||1,u=Object(a.V)(e),c=(e,t,n)=>function(e,t,r,n){const i=r<=1?e:n?(t,i)=>n+r*Math.floor((e(t,i)-n)/r):(t,n)=>r*Math.floor(e(t,n)/r);return t?(e,r)=>t(i(e,r),r):i}(r[n=n||e],i[n],e===u&&s,t),f=new Date,l=Object(a.eb)(e),d=l[n.l]?c(n.l):Object(a.m)(2012),p=l[n.g]?c(n.g):l[n.h]?c(n.h):a.lb,m=l[n.k]&&l[n.b]?c(n.b,1,n.k+n.b):l[n.k]?c(n.k,1):l[n.b]?c(n.b,1):l[n.a]?c(n.a,1):l[n.c]?c(n.c,1):a.P,b=l[n.d]?c(n.d):a.lb,h=l[n.f]?c(n.f):a.lb,g=l[n.i]?c(n.i):a.lb,y=l[n.e]?c(n.e):a.lb;return function(e){f.setTime(+e);const t=d(f);return o(t,p(f),m(f,t),b(f),h(f),g(f),y(f))}}function s(e,t,r){return t+7*e-(r+6)%7}const u={[n.l]:e=>e.getFullYear(),[n.h]:e=>Math.floor(e.getMonth()/3),[n.g]:e=>e.getMonth(),[n.a]:e=>e.getDate(),[n.d]:e=>e.getHours(),[n.f]:e=>e.getMinutes(),[n.i]:e=>e.getSeconds(),[n.e]:e=>e.getMilliseconds(),[n.c]:e=>Object(i.c)(e),[n.k]:e=>Object(i.e)(e),[n.k+n.b]:(e,t)=>s(Object(i.e)(e),e.getDay(),Object(i.d)(t)),[n.b]:(e,t)=>s(1,e.getDay(),Object(i.d)(t))},c={[n.h]:e=>3*e,[n.k]:(e,t)=>s(e,0,Object(i.d)(t))};function f(e,t){return o(e,t||1,u,c,i.b)}const l={[n.l]:e=>e.getUTCFullYear(),[n.h]:e=>Math.floor(e.getUTCMonth()/3),[n.g]:e=>e.getUTCMonth(),[n.a]:e=>e.getUTCDate(),[n.d]:e=>e.getUTCHours(),[n.f]:e=>e.getUTCMinutes(),[n.i]:e=>e.getUTCSeconds(),[n.e]:e=>e.getUTCMilliseconds(),[n.c]:e=>Object(i.g)(e),[n.k]:e=>Object(i.i)(e),[n.b]:(e,t)=>s(1,e.getUTCDay(),Object(i.h)(t)),[n.k+n.b]:(e,t)=>s(Object(i.i)(e),e.getUTCDay(),Object(i.h)(t))},d={[n.h]:e=>3*e,[n.k]:(e,t)=>s(e,0,Object(i.h)(t))};function p(e,t){return o(e,t||1,l,d,i.f)}},,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return f}));var n=r(702),i=r(605),a=r(703),o=r(704),s=r(711),u={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},c={};function f(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(c[e]=t,this):c[e]}c.canvas=c.png={renderer:i.a,headless:i.a,handler:n.a},c.svg={renderer:o.a,headless:s.a,handler:a.a},c.none={}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(369),i=r(1);function a(e,t,r){return e===t||("path"===r?o(e,t):e instanceof Date&&t instanceof Date?+e==+t:Object(i.F)(e)&&Object(i.F)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(i.G)(e)||Object(i.G)(t))?function(e,t){var r,n,i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),n=i.length-1;n>=0;n--)if(i[n]!=o[n])return!1;for(n=i.length-1;n>=0;n--)if(r=i[n],!a(e[r],t[r],r))return!1;return typeof e==typeof t}(e,t):e==t)}function o(e,t){return a(Object(n.a)(e),Object(n.a)(t))}},,,function(e,t){const r=/^[0-9]+$/,n=(e,t)=>{const n=r.test(e),i=r.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},function(e,t,r){const n=r(310);e.exports=(e,t,r)=>0===n(e,t,r)},function(e,t,r){const n=r(228);e.exports=(e,t,r)=>{const i=new n(e,r),a=new n(t,r);return i.compare(a)||i.compareBuild(a)}},function(e,t,r){const n=r(310);e.exports=(e,t,r)=>n(e,t,r)<0},function(e,t,r){const n=r(310);e.exports=(e,t,r)=>n(e,t,r)>=0},function(e,t,r){const n=r(310);e.exports=(e,t,r)=>n(e,t,r)<=0},function(e,t,r){const n=r(228),i=r(674),{ANY:a}=i,o=r(311),s=r(675),u=r(673),c=r(886),f=r(888),l=r(887);e.exports=(e,t,r,d)=>{let p,m,b,h,g;switch(e=new n(e,d),t=new o(t,d),r){case">":p=u,m=f,b=c,h=">",g=">=";break;case"<":p=c,m=l,b=u,h="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,s=null;if(n.forEach(e=>{e.semver===a&&(e=new i(">=0.0.0")),o=o||e,s=s||e,p(e.semver,o.semver,d)?o=e:b(e.semver,s.semver,d)&&(s=e)}),o.operator===h||o.operator===g)return!1;if((!s.operator||s.operator===h)&&m(e,s.semver))return!1;if(s.operator===g&&b(e,s.semver))return!1}return!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n=r(1);function i(e){e.rank=++this._rank}function a(e){const t=[e];let r,i,a;for(;t.length;)if(this.rank(r=t.pop()),i=r._targets)for(a=i.length;--a>=0;)t.push(r=i[a]),r===e&&Object(n.o)("Cycle detected in dataflow graph.")}},,,function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u}));var n=r(101),i={},a={},o=[].join;function s(e,t,r,a,s,u,c,f,l){var d=o.call(arguments);if(i[d])return i[d];var p=c*n.a,m=Math.sin(p),b=Math.cos(p),h=b*(f-e)*.5+m*(l-t)*.5,g=b*(l-t)*.5-m*(f-e)*.5,y=h*h/((r=Math.abs(r))*r)+g*g/((a=Math.abs(a))*a);y>1&&(r*=y=Math.sqrt(y),a*=y);var O=b/r,v=m/r,j=-m/a,$=b/a,x=O*f+v*l,k=j*f+$*l,E=O*e+v*t,w=j*e+$*t,A=(E-x)*(E-x)+(w-k)*(w-k),_=1/A-.25;_<0&&(_=0);var F=Math.sqrt(_);u==s&&(F=-F);var D=.5*(x+E)-F*(w-k),S=.5*(k+w)+F*(E-x),C=Math.atan2(k-S,x-D),M=Math.atan2(w-S,E-D),q=M-C;q<0&&1===u?q+=n.e:q>0&&0===u&&(q-=n.e);for(var z=Math.ceil(Math.abs(q/(n.c+.001))),R=[],B=0;B<z;++B){var T=C+B*q/z,I=C+(B+1)*q/z;R[B]=[D,S,T,I,r,a,m,b]}return i[d]=R}function u(e){var t=o.call(e);if(a[t])return a[t];var r=e[0],n=e[1],i=e[2],s=e[3],u=e[4],c=e[5],f=e[6],l=e[7],d=l*u,p=-f*c,m=f*u,b=l*c,h=Math.cos(i),g=Math.sin(i),y=Math.cos(s),O=Math.sin(s),v=.5*(s-i),j=Math.sin(.5*v),$=8/3*j*j/Math.sin(v),x=r+h-$*g,k=n+g+$*h,E=r+y,w=n+O,A=E+$*O,_=w-$*y;return a[t]=[d*x+p*k,m*x+b*k,d*A+p*_,m*A+b*_,d*E+p*w,m*E+b*w]}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u}));var n=r(705),i=r(216),a=r(398),o=r(617);function s(){const e=Object(o.a)().unknown(void 0),t=e.domain,r=e.range;let u,c,f=[0,1],l=!1,d=0,p=0,m=.5;function b(){const e=t().length,a=f[1]<f[0],o=f[1-a],s=Object(n.a)(e,d,p);let b=f[a-0];u=(o-b)/(s||1),l&&(u=Math.floor(u)),b+=(o-b-u*(e-d))*m,c=u*(1-d),l&&(b=Math.round(b),c=Math.round(c));const h=Object(i.a)(e).map(e=>b+u*e);return r(a?h.reverse():h)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),b()):t()},e.range=function(e){return arguments.length?(f=[+e[0],+e[1]],b()):f.slice()},e.rangeRound=function(e){return f=[+e[0],+e[1]],l=!0,b()},e.bandwidth=function(){return c},e.step=function(){return u},e.round=function(e){return arguments.length?(l=!!e,b()):l},e.padding=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),d=p,b()):d},e.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),b()):d},e.paddingOuter=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),b()):p},e.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),b()):m},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const n=f[1]<f[0],i=n?r().reverse():r(),o=i.length-1;let s,u,l,d=+e[0],p=+e[1];return d!=d||p!=p||(p<d&&(l=d,d=p,p=l),p<i[0]||d>f[1-n])?void 0:(s=Math.max(0,Object(a.b)(i,d)-1),u=d===p?s:Object(a.b)(i,p)-1,d-i[s]>c+1e-10&&++s,n&&(l=s,s=o-u,u=o-l),s>u?void 0:t().slice(s,u+1))},e.invert=function(t){const r=e.invertRange([t,t]);return r?r[0]:r},e.copy=function(){return s().domain(t()).range(f).round(l).paddingInner(d).paddingOuter(p).align(m)},b()}function u(){return function e(t){const r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(r())},t}(s().paddingInner(1))}},,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));const n={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},i={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"}},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r(35),i=r(154),a=r(77);function o(e){var t=e.items[0].orient;return t===n.r||t===n.x}function s(e,t,r,o){var s,c,f=t.items[0],l=f.datum,d=null!=f.translate?f.translate:.5,p=f.orient,m=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(l),b=f.range,h=f.offset,g=f.position,y=f.minExtent,O=f.maxExtent,v=l.title&&f.items[m[2]].items[0],j=f.titlePadding,$=f.bounds,x=v&&Object(a.I)(v),k=0,E=0;switch(i.b.clear().union($),$.clear(),(s=m[0])>-1&&$.union(f.items[s].bounds),(s=m[1])>-1&&$.union(f.items[s].bounds),p){case n.G:k=g||0,E=-h,c=Math.max(y,Math.min(O,-$.y1)),$.add(0,-c).add(b,0),v&&u(e,v,c,j,x,0,-1,$);break;case n.r:k=-h,E=g||0,c=Math.max(y,Math.min(O,-$.x1)),$.add(-c,0).add(0,b),v&&u(e,v,c,j,x,1,-1,$);break;case n.x:k=r+h,E=g||0,c=Math.max(y,Math.min(O,$.x2)),$.add(0,0).add(c,b),v&&u(e,v,c,j,x,1,1,$);break;case n.c:k=g||0,E=o+h,c=Math.max(y,Math.min(O,$.y2)),$.add(0,0).add(b,c),v&&u(e,v,c,j,0,0,1,$);break;default:k=f.x,E=f.y}return Object(a.t)($.translate(k,E),f),Object(i.a)(f,"x",k+d)|Object(i.a)(f,"y",E+d)&&(f.bounds=i.b,e.dirty(f),f.bounds=$,e.dirty(f)),f.mark.bounds.clear().union($)}function u(e,t,r,n,i,a,o,s){const u=t.bounds;if(t.auto){const s=o*(r+i+n);let c=0,f=0;e.dirty(t),a?c=(t.x||0)-(t.x=s):f=(t.y||0)-(t.y=s),t.mark.bounds.clear().union(u.translate(-c,-f)),e.dirty(t)}s.union(u)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return m}));var n=r(35),i=r(154),a=r(77),o=r(1);const s=(e,t)=>Math.floor(Math.min(e,t)),u=(e,t)=>Math.ceil(Math.max(e,t));function c(e){return(new a.a).set(0,0,e.width||0,e.height||0)}function f(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function l(e,t,r){var n=Object(o.G)(e)?e[t]:e;return null!=n?n:void 0!==r?r:0}function d(e){return e<0?Math.ceil(-e):0}function p(e,t,r){var a,o,s,u,p,m,b,h,g,y,O,v=!r.nodirty,j=r.bounds===n.o?c:f,$=i.b.set(0,0,0,0),x=l(r.align,n.i),k=l(r.align,n.y),E=l(r.padding,n.i),w=l(r.padding,n.y),A=r.columns||t.length,_=A<=0?1:Math.ceil(t.length/A),F=t.length,D=Array(F),S=Array(A),C=0,M=Array(F),q=Array(_),z=0,R=Array(F),B=Array(F),T=Array(F);for(o=0;o<A;++o)S[o]=0;for(o=0;o<_;++o)q[o]=0;for(o=0;o<F;++o)m=t[o],p=T[o]=j(m),m.x=m.x||0,R[o]=0,m.y=m.y||0,B[o]=0,s=o%A,u=~~(o/A),C=Math.max(C,b=Math.ceil(p.x2)),z=Math.max(z,h=Math.ceil(p.y2)),S[s]=Math.max(S[s],b),q[u]=Math.max(q[u],h),D[o]=E+d(p.x1),M[o]=w+d(p.y1),v&&e.dirty(t[o]);for(o=0;o<F;++o)o%A==0&&(D[o]=0),o<A&&(M[o]=0);if(x===n.j)for(s=1;s<A;++s){for(O=0,o=s;o<F;o+=A)O<D[o]&&(O=D[o]);for(o=s;o<F;o+=A)D[o]=O+S[s-1]}else if(x===n.a){for(O=0,o=0;o<F;++o)o%A&&O<D[o]&&(O=D[o]);for(o=0;o<F;++o)o%A&&(D[o]=O+C)}else for(x=!1,s=1;s<A;++s)for(o=s;o<F;o+=A)D[o]+=S[s-1];if(k===n.j)for(u=1;u<_;++u){for(O=0,a=(o=u*A)+A;o<a;++o)O<M[o]&&(O=M[o]);for(o=u*A;o<a;++o)M[o]=O+q[u-1]}else if(k===n.a){for(O=0,o=A;o<F;++o)O<M[o]&&(O=M[o]);for(o=A;o<F;++o)M[o]=O+z}else for(k=!1,u=1;u<_;++u)for(a=(o=u*A)+A;o<a;++o)M[o]+=q[u-1];for(g=0,o=0;o<F;++o)g=D[o]+(o%A?g:0),R[o]+=g-t[o].x;for(s=0;s<A;++s)for(y=0,o=s;o<F;o+=A)y+=M[o],B[o]+=y-t[o].y;if(x&&l(r.center,n.i)&&_>1)for(o=0;o<F;++o)(g=(p=x===n.a?C:S[o%A])-T[o].x2-t[o].x-R[o])>0&&(R[o]+=g/2);if(k&&l(r.center,n.y)&&1!==A)for(o=0;o<F;++o)(y=(p=k===n.a?z:q[~~(o/A)])-T[o].y2-t[o].y-B[o])>0&&(B[o]+=y/2);for(o=0;o<F;++o)$.union(T[o].translate(R[o],B[o]));switch(g=l(r.anchor,n.J),y=l(r.anchor,n.K),l(r.anchor,n.i)){case n.k:g-=$.width();break;case n.t:g-=$.width()/2}switch(l(r.anchor,n.y)){case n.k:y-=$.height();break;case n.t:y-=$.height()/2}for(g=Math.round(g),y=Math.round(y),$.clear(),o=0;o<F;++o)t[o].mark.bounds.clear();for(o=0;o<F;++o)(m=t[o]).x+=R[o]+=g,m.y+=B[o]+=y,$.union(m.mark.bounds.union(m.bounds.translate(R[o],B[o]))),v&&e.dirty(m);return $}function m(e,t,r){var i,a,o,c,f,d,m,O=function(e){for(var t,r,i=e.items,a=i.length,o=0,s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};o<a;++o)if(r=(t=i[o]).items,t.marktype===n.q)switch(t.role){case n.b:case n.s:case n.F:break;case n.A:s.rowheaders.push(...r);break;case n.z:s.rowfooters.push(...r);break;case n.g:s.colheaders.push(...r);break;case n.f:s.colfooters.push(...r);break;case n.B:s.rowtitle=r[0];break;case n.h:s.coltitle=r[0];break;default:s.marks.push(...r)}return s}(t),v=O.marks,j=r.bounds===n.o?b:h,$=r.offset,x=r.columns||v.length,k=x<=0?1:Math.ceil(v.length/x),E=k*x;const w=p(e,v,r);w.empty()&&w.set(0,0,0,0),O.rowheaders&&(d=l(r.headerBand,n.y,null),i=g(e,O.rowheaders,v,x,k,-l($,"rowHeader"),s,0,j,"x1",0,x,1,d)),O.colheaders&&(d=l(r.headerBand,n.i,null),a=g(e,O.colheaders,v,x,x,-l($,"columnHeader"),s,1,j,"y1",0,1,x,d)),O.rowfooters&&(d=l(r.footerBand,n.y,null),o=g(e,O.rowfooters,v,x,k,l($,"rowFooter"),u,0,j,"x2",x-1,x,1,d)),O.colfooters&&(d=l(r.footerBand,n.i,null),c=g(e,O.colfooters,v,x,x,l($,"columnFooter"),u,1,j,"y2",E-x,1,x,d)),O.rowtitle&&(f=l(r.titleAnchor,n.y),m=l($,"rowTitle"),m=f===n.k?o+m:i-m,d=l(r.titleBand,n.y,.5),y(e,O.rowtitle,m,0,w,d)),O.coltitle&&(f=l(r.titleAnchor,n.i),m=l($,"columnTitle"),m=f===n.k?c+m:a-m,d=l(r.titleBand,n.i,.5),y(e,O.coltitle,m,1,w,d))}function b(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function h(e,t){return e.bounds[t]}function g(e,t,r,n,i,a,o,s,u,c,f,l,d,p){var m,b,h,g,y,O,v,j,$,x=r.length,k=0,E=0;if(!x)return k;for(m=f;m<x;m+=l)r[m]&&(k=o(k,u(r[m],c)));if(!t.length)return k;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),k+=a,b=0,g=t.length;b<g;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(m=f,b=0,g=t.length;b<g;++b,m+=l){for(y=(O=t[b]).mark.bounds,h=m;h>=0&&null==(v=r[h]);h-=d);s?(j=null==p?v.x:Math.round(v.bounds.x1+p*v.bounds.width()),$=k):(j=k,$=null==p?v.y:Math.round(v.bounds.y1+p*v.bounds.height())),y.union(O.bounds.translate(j-(O.x||0),$-(O.y||0))),O.x=j,O.y=$,e.dirty(O),E=o(E,y[c])}return E}function y(e,t,r,n,i,a){if(t){e.dirty(t);var o=r,s=r;n?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var n=r(35),i=r(77);function a(e,t,r,i,a,o,s){const u=function(e,t){const r=e[t]||{};return(t,n)=>null!=r[t]?r[t]:null!=e[t]?e[t]:n}(r,t),c=(d=e,p=u("offset",0),m=-1/0,d.forEach(e=>{null!=e.offset&&(m=Math.max(m,e.offset))}),m>-1/0?m:p),f=u("anchor",n.D),l=f===n.k?1:f===n.t?.5:0;var d,p,m;const b={align:n.j,bounds:u("bounds",n.o),columns:"vertical"===u("direction")?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case n.r:b.anchor={x:Math.floor(i.x1)-c,column:n.k,y:l*(s||i.height()+2*i.y1),row:f};break;case n.x:b.anchor={x:Math.ceil(i.x2)+c,y:l*(s||i.height()+2*i.y1),row:f};break;case n.G:b.anchor={y:Math.floor(a.y1)-c,row:n.k,x:l*(o||a.width()+2*a.x1),column:f};break;case n.c:b.anchor={y:Math.ceil(a.y2)+c,x:l*(o||a.width()+2*a.x1),column:f};break;case n.H:b.anchor={x:c,y:c};break;case n.I:b.anchor={x:o-c,y:c,column:n.k};break;case n.d:b.anchor={x:c,y:s-c,row:n.k};break;case n.e:b.anchor={x:o-c,y:s-c,column:n.k,row:n.k}}return b}function o(e,t){var r,a,o,c,f=t.items[0],l=f.datum,d=f.orient,p=f.bounds,m=f.x,b=f.y;return f._bounds?f._bounds.clear().union(p):f._bounds=p.clone(),p.clear(),function(e,t,r){var i=t.padding,a=i-r.x,o=i-r.y;if(t.datum.title){var c=t.items[1].items[0],f=c.anchor,l=t.titlePadding||0,d=i-c.x,p=i-c.y;switch(c.orient){case n.r:a+=Math.ceil(c.bounds.width())+l;break;case n.x:case n.c:break;default:o+=c.bounds.height()+l}switch((a||o)&&u(e,r,a,o),c.orient){case n.r:p+=s(t,r,c,f,1,1);break;case n.x:d+=s(t,r,c,n.k,0,0)+l,p+=s(t,r,c,f,1,1);break;case n.c:d+=s(t,r,c,f,0,0),p+=s(t,r,c,n.k,-1,0,1)+l;break;default:d+=s(t,r,c,f,0,0)}(d||p)&&u(e,c,d,p),(d=Math.round(c.bounds.x1-i))<0&&(u(e,r,-d,0),u(e,c,-d,0))}else(a||o)&&u(e,r,a,o)}(e,f,f.items[0].items[0]),p=function(e,t){return e.items.forEach(e=>t.union(e.bounds)),t.x1=e.padding,t.y1=e.padding,t}(f,p),r=2*f.padding,a=2*f.padding,p.empty()||(r=Math.ceil(p.width()+r),a=Math.ceil(p.height()+a)),l.type===n.E&&(o=f.items[0].items[0].items[0].items,c=o.reduce((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e),{}),o.forEach(e=>{e.width=c[e.column],e.height=e.bounds.y2-e.y})),d!==n.u&&(f.x=m=0,f.y=b=0),f.width=r,f.height=a,Object(i.t)(p.set(m,b,m+r,b+a),f),f.mark.bounds.clear().union(p),f}function s(e,t,r,a,o,s,u){const c="symbol"!==e.datum.type,f=r.datum.vgrad,l=(!c||!s&&f||u?t:t.items[0]).bounds[o?"y2":"x2"]-e.padding,d=f&&s?l:0,p=f&&s?0:l,m=o<=0?0:Object(i.I)(r);return Math.round(a===n.D?d:a===n.k?p-m:.5*(l-m))}function u(e,t,r,n){t.x+=r,t.y+=n,t.bounds.translate(r,n),t.mark.bounds.translate(r,n),e.dirty(t)}},,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e,t,r){const n=1<<t;return{one:n,zero:~n,range:r.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(e,t){const r=this.bisect(this.range,e.value),i=e.index,a=r[0],o=r[1],s=i.length;let u;for(u=0;u<a;++u)t[i[u]]|=n;for(u=o;u<s;++u)t[i[u]]|=n;return this}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(391),i=r(398),a=r(2018);function o(){let e=Object(n.b)(0),t=[],r=0;return{insert:function(i,o,s){if(!o.length)return[];const u=r,c=o.length,f=Object(n.b)(c);let l,d,p,m=Array(c);for(p=0;p<c;++p)m[p]=i(o[p]),f[p]=p;if(m=function(e,t){return e.sort.call(t,(t,r)=>{const n=e[t],i=e[r];return n<i?-1:n>i?1:0}),Object(a.a)(e,t)}(m,f),u)l=t,d=e,t=Array(u+c),e=Object(n.b)(u+c),function(e,t,r,n,i,a,o,s,u){let c,f=0,l=0;for(c=0;f<n&&l<o;++c)t[f]<i[l]?(s[c]=t[f],u[c]=r[f++]):(s[c]=i[l],u[c]=a[l++]+e);for(;f<n;++f,++c)s[c]=t[f],u[c]=r[f];for(;l<o;++l,++c)s[c]=i[l],u[c]=a[l]+e}(s,l,d,u,m,f,c,t,e);else{if(s>0)for(p=0;p<c;++p)f[p]+=s;t=m,e=f}return r=u+c,{index:f,value:m}},remove:function(n,i){const a=r;let o,s,u;for(s=0;!i[e[s]]&&s<a;++s);for(u=s;s<a;++s)i[o=e[s]]||(e[u]=o,t[u]=t[s],++u);r=a-n},bisect:function(e,n){let a;return n?a=n.length:(n=t,a=r),[Object(i.a)(n,e[0],0,a),Object(i.b)(n,e[1],0,a)]},reindex:function(t){for(let n=0,i=r;n<i;++n)e[n]=t[e[n]]},index:()=>e,size:()=>r}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c}));var n=r(1345),i=r(14),a=r(1);const o={trap:!1};function s(e){const t=Object(a.p)({defaults:{}},e),r=(e,t)=>{t.forEach(t=>{Object(a.B)(e[t])&&(e[t]=Object(a.eb)(e[t]))})};return r(t.defaults,["prevent","allow"]),r(t,["view","window","selector"]),t}function u(e,t,r){const n=e._eventConfig&&e._eventConfig[t];return!(!1===n||Object(a.G)(n)&&!n[r])||(e.warn(`Blocked ${t} ${r} event listener.`),!1)}function c(e,t,r){var a,s=this,c=new i.b(r),f=function(r,i){s.runAsync(null,()=>{"view"===e&&function(e,t){var r=e._eventConfig.defaults,n=r.prevent,i=r.allow;return!1!==n&&!0!==i&&(!0===n||!1===i||(n?n[t]:i?!i[t]:e.preventDefault()))}(s,t)&&r.preventDefault(),c.receive(Object(n.a)(s,r,i))})};if("timer"===e)u(s,"timer",t)&&s.timer(f,t);else if("view"===e)u(s,"view",t)&&s.addEventListener(t,f,o);else if("window"===e?u(s,"window",t)&&"undefined"!=typeof window&&(a=[window]):"undefined"!=typeof document&&u(s,"selector",t)&&(a=document.querySelectorAll(e)),a){for(var l=0,d=a.length;l<d;++l)a[l].addEventListener(t,f);s._eventListeners.push({type:t,sources:a,handler:f})}else s.warn("Can not resolve event source: "+e);return c}},function(e,t,r){"use strict";var n=r(1);const i=e=>+e||0;t.a=function(e){return Object(n.G)(e)?{top:i(e.top),bottom:i(e.bottom),left:i(e.left),right:i(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(i(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(470),i=r(1);function a(e){const t=this;Object(n.d)(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function o(e){const t=this;if(e.params){const r=t.get(e.id);r||Object(i.o)("Invalid operator id: "+e.id),t.dataflow.connect(r,r.parameters(t.parseParameters(e.params),e.react,e.initonly))}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(1),i={skip:!0};function a(e){var t=this,r={};if(e.signals){var n=r.signals={};Object.keys(t.signals).forEach(r=>{var i=t.signals[r];e.signals(r,i)&&(n[r]=i.value)})}if(e.data){var i=r.data={};Object.keys(t.data).forEach(r=>{var n=t.data[r];e.data(r,n)&&(i[r]=n.input.value)})}return t.subcontext&&!1!==e.recurse&&(r.subcontext=t.subcontext.map(t=>t.getState(e))),r}function o(e){var t=this,r=t.dataflow,a=e.data,o=e.signals;Object.keys(o||{}).forEach(e=>{r.update(t.signals[e],o[e],i)}),Object.keys(a||{}).forEach(e=>{r.pulse(t.data[e].input,r.changeset().remove(n.hb).insert(a[e]))}),(e.subcontext||[]).forEach((e,r)=>{var n=t.subcontext[r];n&&n.setState(e)})}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return u}));var n=r(14),i=r(1);function a(e){return this._runtime.getState(e||{data:o,signals:s,recurse:!0})}function o(e,t){return t.modified&&Object(i.B)(t.input.value)&&e.indexOf("_:vega:_")}function s(e,t){return!("parent"===e||t instanceof n.s.proxy)}function u(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},e=>{e._trigger=!0}),this}},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return f}));var n=r(64),i=r(28),a=r(47),o=r(1);let s=0;const u={min:"min",max:"max",count:"sum"};function c(e,t){const r=e.type||"linear";Object(a.D)(r)||Object(o.o)("Unrecognized scale type: "+Object(o.ab)(r)),t.addScale(e.name,{type:r,domain:void 0})}function f(e,t){const r=t.getScale(e.name).params;let n;var i;for(n in r.domain=m(e.domain,e,t),null!=e.range&&(r.range=function e(t,r,n){const i=r.config.range;let s=t.range;if(s.signal)return r.signalRef(s.signal);if(Object(o.I)(s)){if(i&&Object(o.w)(i,s))return t=Object(o.p)({},t,{range:i[s]}),e(t,r,n);"width"===s?s=[0,{signal:"width"}]:"height"===s?s=Object(a.y)(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(o.o)("Unrecognized scale range value: "+Object(o.ab)(s))}else{if(s.scheme)return n.scheme=Object(o.B)(s.scheme)?d(s.scheme,r):l(s.scheme,r),s.extent&&(n.schemeExtent=d(s.extent,r)),void(s.count&&(n.schemeCount=l(s.count,r)));if(s.step)return void(n.rangeStep=l(s.step,r));if(Object(a.y)(t.type)&&!Object(o.B)(s))return m(s,t,r);Object(o.B)(s)||Object(o.o)("Unsupported range type: "+Object(o.ab)(s))}return s.map(e=>(Object(o.B)(e)?d:l)(e,r))}(e,t,r)),null!=e.interpolate&&function(e,t){t.interpolate=l(e.type||e),null!=e.gamma&&(t.interpolateGamma=l(e.gamma))}(e.interpolate,r),null!=e.nice&&(r.nice=(i=e.nice,Object(o.G)(i)?{interval:l(i.interval),step:l(i.step)}:l(i))),null!=e.bins&&(r.bins=function(e,t){return e.signal||Object(o.B)(e)?d(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(o.w)(r,n)||"name"===n||(r[n]=l(e[n],t))}function l(e,t){return Object(o.G)(e)?e.signal?t.signalRef(e.signal):Object(o.o)("Unsupported object: "+Object(o.ab)(e)):e}function d(e,t){return e.signal?t.signalRef(e.signal):e.map(e=>l(e,t))}function p(e){Object(o.o)("Can not find data set: "+Object(o.ab)(e))}function m(e,t,r){if(e)return e.signal?r.signalRef(e.signal):(Object(o.B)(e)?b:e.fields?g:h)(e,t,r);null==t.domainMin&&null==t.domainMax||Object(o.o)("No scale domain defined for domainMin/domainMax to override.")}function b(e,t,r){return e.map(e=>l(e,r))}function h(e,t,r){const n=r.getData(e.data);return n||p(e.data),Object(a.y)(t.type)?n.valuesRef(r,e.field,O(e.sort,!1)):Object(a.C)(t.type)?n.domainRef(r,e.field):n.extentRef(r,e.field)}function g(e,t,r){const i=e.data,u=e.fields.reduce((e,t)=>(t=Object(o.I)(t)?{data:i,field:t}:Object(o.B)(t)||t.signal?function(e,t){const r="_:vega:_"+s++,i=Object(n.d)({});if(Object(o.B)(e))i.value={$ingest:e};else if(e.signal){const n="setdata("+Object(o.ab)(r)+","+e.signal+")";i.params.input=t.signalRef(n)}return t.addDataPipeline(r,[i,Object(n.y)({})]),{data:r,field:"data"}}(t,r):t,e.push(t),e),[]);return(Object(a.y)(t.type)?y:Object(a.C)(t.type)?v:j)(e,r,u)}function y(e,t,r){const a=O(e.sort,!0);let o,s;const c=r.map(e=>{const r=t.getData(e.data);return r||p(e.data),r.countsRef(t,e.field,a)}),f={groupby:i.m,pulse:c};a&&(o=a.op||"count",s=a.field?Object(i.e)(o,a.field):"count",f.ops=[u[o]],f.fields=[t.fieldRef(s)],f.as=[s]),o=t.add(Object(n.a)(f));const l=t.add(Object(n.d)({pulse:Object(i.p)(o)}));return s=t.add(Object(n.A)({field:i.m,sort:t.sortRef(a),pulse:Object(i.p)(l)})),Object(i.p)(s)}function O(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!u[e.op]&&Object(o.o)("Multiple domain scales can not be sorted using "+e.op):Object(o.o)("No field provided for sort aggregate op: "+e.op):Object(o.G)(e)?e.field="key":e={field:"key"}),e}function v(e,t,r){const a=r.map(e=>{const r=t.getData(e.data);return r||p(e.data),r.domainRef(t,e.field)});return Object(i.p)(t.add(Object(n.p)({values:a})))}function j(e,t,r){const a=r.map(e=>{const r=t.getData(e.data);return r||p(e.data),r.extentRef(t,e.field)});return Object(i.p)(t.add(Object(n.o)({extents:a})))}},function(e,t,r){"use strict";var n=r(26),i=r(156),a=r(106),o=r(63),s=r(124),u=r(69),c=r(28);const f=`datum.${n.p}<=0?"${n.l}":datum.${n.p}>=1?"${n.r}":"${n.b}"`,l=`datum.${n.p}<=0?"${n.a}":datum.${n.p}>=1?"${n.w}":"${n.n}"`;t.a=function(e,t,r,d){const p=Object(a.f)(e,t),m=p.isVertical(),b=Object(o.b)(p.gradientThickness()),h=p.gradientLength();let g,y,O,v,j=p("labelOverlap"),$="";const x={enter:g={opacity:n.A},update:y={opacity:n.z,text:{field:n.k}},exit:{opacity:n.A}};return Object(o.a)(x,{fill:p("labelColor"),fillOpacity:p("labelOpacity"),font:p("labelFont"),fontSize:p("labelFontSize"),fontStyle:p("labelFontStyle"),fontWeight:p("labelFontWeight"),limit:Object(c.r)(e.labelLimit,t.gradientLabelLimit)}),m?(g.align={value:"left"},g.baseline=y.baseline={signal:l},O="y",v="x",$="1-"):(g.align=y.align={signal:f},g.baseline={value:"top"},O="x",v="y"),g[O]=y[O]={signal:$+"datum."+n.p,mult:h},g[v]=y[v]=b,b.offset=Object(c.r)(e.labelOffset,t.gradientLabelOffset)||0,j=j?{separation:p("labelSeparation"),method:j,order:"datum."+n.j}:void 0,Object(i.a)({type:s.e,role:u.k,style:n.h,key:n.x,from:d,encode:x,overlap:j},r)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return f}));var n=r(26),i=r(373),a=r(156),o=r(106),s=r(63),u=r(124),c=r(69);function f(e,t){const r=Object(o.f)(e,t);return{align:r("gridAlign"),columns:r.entryColumns(),center:{row:!0,column:!1},padding:{row:r("rowPadding"),column:r("columnPadding")}}}t.a=function(e,t,r,f,l){const d=Object(o.f)(e,t),p=r.entries,m=!(!p||!p.interactive),b=p?p.name:void 0,h=d("clipHeight"),g=d("symbolOffset"),y={data:"value"},O=`(${l}) ? datum.${n.o} : datum.${n.s}`,v=h?Object(s.b)(h):{field:n.s},j="datum."+n.j,$=`max(1, ${l})`;let x,k,E,w,A;v.mult=.5,x={enter:k={opacity:n.A,x:{signal:O,mult:.5,offset:g},y:v},update:E={opacity:n.z,x:k.x,y:k.y},exit:{opacity:n.A}};let _=null,F=null;e.fill||(_=t.symbolBaseFillColor,F=t.symbolBaseStrokeColor),Object(s.a)(x,{fill:d("symbolFillColor",_),shape:d("symbolType"),size:d("symbolSize"),stroke:d("symbolStrokeColor",F),strokeDash:d("symbolDash"),strokeDashOffset:d("symbolDashOffset"),strokeWidth:d("symbolStrokeWidth")},{opacity:d("symbolOpacity")}),n.m.forEach(t=>{e[t]&&(E[t]=k[t]={scale:e[t],field:n.x})});const D=Object(a.a)({type:u.d,role:c.m,key:n.x,from:y,clip:!!h||void 0,encode:x},r.symbols),S=Object(s.b)(g);S.offset=d("labelOffset"),x={enter:k={opacity:n.A,x:{signal:O,offset:S},y:v},update:E={opacity:n.z,text:{field:n.k},x:k.x,y:k.y},exit:{opacity:n.A}},Object(s.a)(x,{align:d("labelAlign"),baseline:d("labelBaseline"),fill:d("labelColor"),fillOpacity:d("labelOpacity"),font:d("labelFont"),fontSize:d("labelFontSize"),fontStyle:d("labelFontStyle"),fontWeight:d("labelFontWeight"),limit:d("labelLimit")});const C=Object(a.a)({type:u.e,role:c.k,style:n.h,key:n.x,from:y,encode:x},r.labels);return x={enter:{noBound:{value:!h},width:n.A,height:h?Object(s.b)(h):n.A,opacity:n.A},exit:{opacity:n.A},update:E={opacity:n.z,row:{signal:null},column:{signal:null}}},d.isVertical(!0)?(w=`ceil(item.mark.items.length / ${$})`,E.row.signal=`${j}%${w}`,E.column.signal=`floor(${j} / ${w})`,A={field:["row",j]}):(E.row.signal=`floor(${j} / ${$})`,E.column.signal=`${j} % ${$}`,A={field:j}),E.column.signal=`(${l})?${E.column.signal}:${j}`,f={facet:{data:f,name:"value",groupby:n.j}},Object(i.a)({role:c.p,from:f,encode:Object(s.c)(x,p,n.t),marks:[D,C],name:b,interactive:m,sort:A})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){const n=r(501);e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(671).SEMVER_SPEC_VERSION,SemVer:r(228),compareIdentifiers:r(883).compareIdentifiers,rcompareIdentifiers:r(883).rcompareIdentifiers,parse:r(502),valid:r(1872),clean:r(1873),inc:r(1874),diff:r(1875),major:r(1876),minor:r(1877),patch:r(1878),prerelease:r(1879),compare:r(310),rcompare:r(1880),compareLoose:r(1881),compareBuild:r(885),sort:r(1882),rsort:r(1883),gt:r(673),lt:r(886),eq:r(884),neq:r(1211),gte:r(887),lte:r(888),cmp:r(1212),coerce:r(1884),Comparator:r(674),Range:r(311),satisfies:r(675),toComparators:r(1885),maxSatisfying:r(1886),minSatisfying:r(1887),minVersion:r(1888),validRange:r(1889),outside:r(889),gtr:r(1890),ltr:r(1891),intersects:r(1892),simplifyRange:r(1893),subset:r(1894)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(83);function i(e,...t){for(const r of t)a(e,r);return e}function a(e,t){for(const r of Object.keys(t))Object(n.writeConfig)(e,r,t[r],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e})},,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.a=function(e,t,r){let n,i=e[0],a=e[1];return a<i&&(n=a,a=i,i=n),n=a-i,n>=r-t?[t,r]:[i=Math.min(Math.max(i,t),r-n),i+n]}},function(e,t,r){"use strict";var n=r(511);t.a=function(e){return Object(n.a)(e)?e:()=>e}},function(e,t,r){"use strict";t.a=function(e,t){let r;return n=>{r&&clearTimeout(r),r=setTimeout(()=>(t(n),r=null),e)}}},function(e,t,r){"use strict";t.a=function(e,t){let r,n,i,a,o=0;if(e&&(r=e.length))if(null==t){for(n=e[o];o<r&&(null==n||n!=n);n=e[++o]);for(i=a=n;o<r;++o)n=e[o],null!=n&&(n<i&&(i=n),n>a&&(a=n))}else{for(n=t(e[o]);o<r&&(null==n||n!=n);n=t(e[++o]));for(i=a=n;o<r;++o)n=t(e[o]),null!=n&&(n<i&&(i=n),n>a&&(a=n))}return[i,a]}},function(e,t,r){"use strict";t.a=function(e,t){const r=e.length;let n,i,a,o,s,u=-1;if(null==t){for(;++u<r;)if(i=e[u],null!=i&&i>=i){n=a=i;break}if(u===r)return[-1,-1];for(o=s=u;++u<r;)i=e[u],null!=i&&(n>i&&(n=i,o=u),a<i&&(a=i,s=u))}else{for(;++u<r;)if(i=t(e[u],u,e),null!=i&&i>=i){n=a=i;break}if(u===r)return[-1,-1];for(o=s=u;++u<r;)i=t(e[u],u,e),null!=i&&(n>i&&(n=i,o=u),a<i&&(a=i,s=u))}return[o,s]}},function(e,t,r){"use strict";var n=r(345);const i={};t.a=function(e){let t,r={};function a(e){return Object(n.a)(r,e)&&r[e]!==i}const o={size:0,empty:0,object:r,has:a,get:e=>a(e)?r[e]:void 0,set(e,t){return a(e)||(++o.size,r[e]===i&&--o.empty),r[e]=t,this},delete(e){return a(e)&&(--o.size,++o.empty,r[e]=i),this},clear(){o.size=o.empty=0,o.object=r={}},test(e){return arguments.length?(t=e,o):t},clean(){const e={};let n=0;for(const a in r){const o=r[a];o===i||t&&t(o)||(e[a]=o,++n)}o.size=n,o.empty=0,o.object=r=e}};return e&&Object.keys(e).forEach(t=>{o.set(t,e[t])}),o}},function(e,t,r){"use strict";var n=r(313);t.a=function(e,t,r,i,a,o){if(!r&&0!==r)return o;const s=+r;let u,c=e[0],f=Object(n.a)(e);f<c&&(u=c,c=f,f=u),u=Math.abs(t-c);const l=Math.abs(f-t);return u<l&&u<=s?i:l<=s?a:o}},function(e,t,r){"use strict";var n=r(682);t.a=function(e,t,r){const i=e.prototype=Object.create(t.prototype);return i.constructor=e,Object(n.a)(i,r)}},function(e,t,r){"use strict";t.a=function(e,t,r,n){let i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),n=void 0===n||n,((r=void 0===r||r)?a<=e:a<e)&&(n?e<=o:e<o)}},function(e,t,r){"use strict";t.a=function(e){return"boolean"==typeof e}},function(e,t,r){"use strict";t.a=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=r(207),i=r(409),a=r(736),o=r(510);t.a=function(e,t,r){e&&(e=t?Object(i.a)(e).map(e=>e.replace(/\\(.)/g,"$1")):Object(i.a)(e));const s=e&&e.length,u=r&&r.get||a.a,c=e=>u(t?[e]:Object(o.a)(e));let f;if(s)if(1===s){const t=c(e[0]);f=function(e){return""+t(e)}}else{const t=e.map(c);f=function(e){let r=""+t[0](e),n=0;for(;++n<s;)r+="|"+t[n](e);return r}}else f=function(){return""};return Object(n.c)(f,e,"key")}},function(e,t,r){"use strict";var n=r(313);t.a=function(e,t){const r=e[0],i=Object(n.a)(e),a=+t;return a?1===a?i:r+a*(i-r):r}},function(e,t,r){"use strict";var n=r(345);t.a=function(e){let t,r,i;e=+e||1e4;const a=()=>{t={},r={},i=0},o=(n,a)=>(++i>e&&(r=t,t={},i=1),t[n]=a);return a(),{clear:a,has:e=>Object(n.a)(t,e)||Object(n.a)(r,e),get:e=>Object(n.a)(t,e)?t[e]:Object(n.a)(r,e)?o(e,r[e]):void 0,set:(e,r)=>Object(n.a)(t,e)?t[e]=r:o(e,r)}}},function(e,t,r){"use strict";t.a=function(e,t,r,n){const i=t.length,a=r.length;if(!a)return t;if(!i)return r;const o=n||new t.constructor(i+a);let s=0,u=0,c=0;for(;s<i&&u<a;++c)o[c]=e(t[s],r[u])>0?r[u++]:t[s++];for(;s<i;++s,++c)o[c]=t[s];for(;u<a;++u,++c)o[c]=r[u];return o}},function(e,t,r){"use strict";var n=r(463);t.a=function(e,t,r,i){const a=r||" ",o=e+"",s=t-o.length;return s<=0?o:"left"===i?Object(n.a)(a,s)+o:"center"===i?Object(n.a)(a,~~(s/2))+o+Object(n.a)(a,Math.ceil(s/2)):o+Object(n.a)(a,s)}},function(e,t,r){"use strict";var n=r(313);t.a=function(e){return e&&Object(n.a)(e)-e[0]||0}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(403),i=r(460),a=r(685);function o(e){return Object(n.a)(e)?"["+e.map(o)+"]":Object(i.a)(e)||Object(a.a)(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}},function(e,t,r){"use strict";t.a=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}},function(e,t,r){"use strict";var n=r(683),i=r(684);const a=e=>Object(i.a)(e)||Object(n.a)(e)?e:Date.parse(e);t.a=function(e,t){return t=t||a,null==e||""===e?null:t(e)}},function(e,t,r){"use strict";t.a=function(e){return null==e||""===e?null:e+""}},function(e,t,r){"use strict";t.a=function(e){const t={},r=e.length;for(let n=0;n<r;++n)t[e[n]]=!0;return t}},function(e,t,r){"use strict";t.a=function(e,t,r,n){const i=null!=n?n:"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===r?i+a.slice(o-s):"center"===r?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i}},function(e,t,r){"use strict";t.a=function(e,t,r){if(e)if(t){const n=e.length;for(let i=0;i<n;++i){const n=t(e[i]);n&&r(n,i,e)}}else e.forEach(r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(1258),i=r(1259),a=r(1260),o=r(643),s=r(1267),u=r(966),c=r(491),f=r(839),l=r(454),d=r(1268),p=r(330),m=r(280),b=r(314),h=r(1);function g(){this.logger(Object(h.L)()),this.logLevel(h.b),this._clock=0,this._rank=0,this._locale=Object(m.a)();try{this._loader=Object(b.e)()}catch(e){}this._touched=Object(p.a)(h.x),this._input={},this._pulse=null,this._heap=Object(d.a)((e,t)=>e.qrank-t.qrank),this._postrun=[]}function y(e){return function(){return this._log[e].apply(this,arguments)}}g.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:y("error"),warn:y("warn"),info:y("info"),debug:y("debug"),logLevel:y("level"),cleanThreshold:1e4,add:n.a,connect:i.a,rank:u.a,rerank:u.b,pulse:f.a,touch:f.b,update:f.c,changeset:l.a,ingest:o.a,parse:o.b,preload:o.c,request:o.d,events:a.a,on:s.a,evaluate:c.b,run:c.d,runAsync:c.f,runAfter:c.e,_enqueue:c.a,_getPulse:c.c}},function(e,t,r){"use strict";var n=r(404),i=r(504),a=r(280),o=r(1);t.a=function(e,t,r,s){t=t||{};const u=Object(i.b)(t.type||"json");return u||Object(o.o)("Unknown data format type: "+t.type),e=u(e,t),t.parse&&function(e,t,r,i){if(!e.length)return;const o=Object(a.e)();r=r||o.timeParse,i=i||o.utcParse;let s,u,c,f,l,d,p=e.columns||Object.keys(e[0]);"auto"===t&&(t=Object(n.b)(e,p));p=Object.keys(t);const m=p.map(e=>{const a=t[e];let o,s;if(a&&(a.startsWith("date:")||a.startsWith("utc:"))){o=a.split(/:(.+)?/,2),s=o[1],("'"===s[0]&&"'"===s[s.length-1]||'"'===s[0]&&'"'===s[s.length-1])&&(s=s.slice(1,-1));return("utc"===o[0]?i:r)(s)}if(!n.c[a])throw Error("Illegal format pattern: "+e+":"+a);return n.c[a]});for(c=0,l=e.length,d=p.length;c<l;++c)for(s=e[c],f=0;f<d;++f)u=p[f],s[u]=m[f](s[u])}(e,t.parse,r,s),Object(o.w)(e,"columns")&&delete e.columns,e}},,,,function(e,t,r){"use strict";var n=r(41),i=r(1),a=r(574),o=r(307);const s=[n.l,n.g,n.a,n.d,n.f,n.i,n.e],u=s.slice(0,-1),c=u.slice(0,-1),f=c.slice(0,-1),l=f.slice(0,-1),d=[n.l,n.k],p=[n.l,n.g],m=[n.l],b=[[u,1,1e3],[u,5,5e3],[u,15,15e3],[u,30,3e4],[c,1,6e4],[c,5,3e5],[c,15,9e5],[c,30,18e5],[f,1,36e5],[f,3,108e5],[f,6,216e5],[f,12,432e5],[l,1,864e5],[d,1,6048e5],[p,1,2592e6],[p,3,7776e6],[m,1,31536e6]];t.a=function(e){const t=e.extent,r=e.maxbins||40,n=Math.abs(Object(i.Y)(t))/r;let u,c,f=Object(a.a)(e=>e[2]).right(b,n);return f===b.length?(u=m,c=Object(o.c)(t[0]/31536e6,t[1]/31536e6,r)):f?(f=b[n/b[f-1][2]<b[f][2]/n?f-1:f],u=f[0],c=f[1]):(u=s,c=Math.max(Object(o.c)(t[0],t[1],r),1)),{units:u,step:c}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(260),i=r(1);function a(e,t){n.a.call(this,e,null,t)}Object(i.z)(a,n.a,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(e=>this.pulse=e):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),r=this.transform(t,e);return t.clear(),r},transform(){}})},function(e,t,r){"use strict";t.a=function(e){const t=e.maxbins||20,r=e.base||10,n=Math.log(r),i=e.divide||[5,2];let a,o,s,u,c,f,l=e.extent[0],d=e.extent[1];const p=e.span||d-l||Math.abs(l)||1;if(e.step)a=e.step;else if(e.steps){for(u=p/t,c=0,f=e.steps.length;c<f&&e.steps[c]<u;++c);a=e.steps[Math.max(0,c-1)]}else{for(o=Math.ceil(Math.log(t)/n),s=e.minstep||0,a=Math.max(s,Math.pow(r,Math.round(Math.log(p)/n)-o));Math.ceil(p/a)>t;)a*=r;for(c=0,f=i.length;c<f;++c)u=a/i[c],u>=s&&p/u<=t&&(a=u)}u=Math.log(a);const m=u>=0?0:1+~~(-u/n),b=Math.pow(r,-m-1);return(e.nice||void 0===e.nice)&&(u=Math.floor(l/a+b)*a,l=l<u?u-a:u,d=Math.ceil(d/a)*a),{start:l,stop:d===l?l+a:d,step:a}}},function(e,t,r){"use strict";var n=r(742),i=r(217),a=r(379),o=r(575);t.a=function(e,t,r,s){if(!e.length)return[void 0,void 0];const u=Float64Array.from(Object(n.a)(e,s)),c=u.length,f=t;let l,d,p,m;for(p=0,m=Array(f);p<f;++p){for(l=0,d=0;d<c;++d)l+=u[~~(Object(i.a)()*c)];m[p]=l/c}return m.sort(a.a),[Object(o.a)(m,r/2),Object(o.a)(m,1-r/2)]}},function(e,t,r){"use strict";t.a=function(e,t,r,n){n=n||(e=>e);const i=e.length,a=new Float64Array(i);let o,s=0,u=1,c=n(e[0]),f=c,l=c+t;for(;u<i;++u){if(o=n(e[u]),o>=l){for(f=(c+f)/2;s<u;++s)a[s]=f;l=o+t,c=o}f=o}for(f=(c+f)/2;s<u;++s)a[s]=f;return r?function(e,t){const r=e.length;let n,i,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<r;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(i=o+(a+n-o-o>>1);i<o;)e[i++]=e[o];for(;i>o;)e[i--]=e[a]}a=o,o=n}return e}(a,t+t/4):a}},function(e,t,r){"use strict";t.a=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}},function(e,t,r){"use strict";var n=r(217);t.a=function(e,t){let r,i,a;null==t&&(t=e,e=0);const o={min(e){return arguments.length?(r=e||0,a=i-r,o):r},max(e){return arguments.length?(i=e||0,a=i-r,o):i},sample:()=>r+Math.floor(a*Object(n.a)()),pdf:e=>e===Math.floor(e)&&e>=r&&e<i?1/a:0,cdf(e){const t=Math.floor(e);return t<r?0:t>=i?1:(t-r+1)/a},icdf:e=>e>=0&&e<=1?r-1+Math.floor(e*a):NaN};return o.min(e).max(t)}},function(e,t,r){"use strict";var n=r(690),i=r(281),a=r(217);t.a=function(e,t){const r=Object(i.b)();let o=0;const s={data(r){return arguments.length?(e=r,o=r?r.length:0,s.bandwidth(t)):e},bandwidth(r){return arguments.length?(!(t=r)&&e&&(t=Object(n.a)(e)),s):t},sample:()=>e[~~(Object(a.a)()*o)]+t*r.sample(),pdf(n){let i=0,a=0;for(;a<o;++a)i+=r.pdf((n-e[a])/t);return i/t/o},cdf(n){let i=0,a=0;for(;a<o;++a)i+=r.cdf((n-e[a])/t);return i/o},icdf(){throw Error("KDE icdf not supported.")}};return s.data(e)}},function(e,t,r){"use strict";var n=r(217);t.a=function(e,t){let r,i=0;const a={weights(e){return arguments.length?(r=function(e){const t=[];let r,n=0;for(r=0;r<i;++r)n+=t[r]=null==e[r]?1:+e[r];for(r=0;r<i;++r)t[r]/=n;return t}(t=e||[]),a):t},distributions(r){return arguments.length?(r?(i=r.length,e=r):(i=0,e=[]),a.weights(t)):e},sample(){const t=Object(n.a)();let a=e[i-1],o=r[0],s=0;for(;s<i-1;o+=r[++s])if(t<o){a=e[s];break}return a.sample()},pdf(t){let n=0,a=0;for(;a<i;++a)n+=r[a]*e[a].pdf(t);return n},cdf(t){let n=0,a=0;for(;a<i;++a)n+=r[a]*e[a].cdf(t);return n},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}},function(e,t,r){"use strict";var n=r(338),i=r(208),a=r(282);t.a=function(e,t,r){let o=0,s=0,u=0,c=0,f=0;Object(i.b)(e,t,r,(e,t)=>{++f,e=Math.log(e),o+=(e-o)/f,s+=(t-s)/f,u+=(e*t-u)/f,c+=(e*e-c)/f});const l=Object(n.a)(o,s,u,c),d=e=>l[0]+l[1]*Math.log(e);return{coef:l,predict:d,rSquared:Object(a.a)(e,t,r,s,d)}}},function(e,t,r){"use strict";var n=r(338),i=r(208),a=r(282);t.a=function(e,t,r){const[o,s,u,c]=Object(i.a)(e,t,r);let f,l,d,p=0,m=0,b=0,h=0,g=0;Object(i.b)(e,t,r,(e,t)=>{f=o[g++],l=Math.log(t),d=f*t,p+=(t*l-p)/g,m+=(d-m)/g,b+=(d*l-b)/g,h+=(f*d-h)/g});const[y,O]=Object(n.a)(m/c,p/c,b/c,h/c),v=e=>Math.exp(y+O*(e-u));return{coef:[Math.exp(y-O*u),O],predict:v,rSquared:Object(a.a)(e,t,r,c,v)}}},function(e,t,r){"use strict";var n=r(338),i=r(208),a=r(282);t.a=function(e,t,r){let o=0,s=0,u=0,c=0,f=0,l=0;Object(i.b)(e,t,r,(e,t)=>{const r=Math.log(e),n=Math.log(t);++l,o+=(r-o)/l,s+=(n-s)/l,u+=(r*n-u)/l,c+=(r*r-c)/l,f+=(t-f)/l});const d=Object(n.a)(o,s,u,c),p=e=>d[0]*Math.pow(e,d[1]);return d[0]=Math.exp(d[0]),{coef:d,predict:p,rSquared:Object(a.a)(e,t,r,f,p)}}},function(e,t,r){"use strict";var n=r(693),i=r(208),a=r(694),o=r(282);function s(e,t,r,n){const i=Array(e);let a,o,s,u;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(s=t[a],u=1,i[a]+=s,o=1;o<=a;++o)u*=(a+1-o)/o,i[a-o]+=s*Math.pow(r,o)*u;return i[0]+=n,i}t.a=function(e,t,r,u){if(1===u)return Object(n.a)(e,t,r);if(2===u)return Object(a.a)(e,t,r);const[c,f,l,d]=Object(i.a)(e,t,r),p=c.length,m=[],b=[],h=u+1;let g,y,O,v,j;for(g=0;g<h;++g){for(O=0,v=0;O<p;++O)v+=Math.pow(c[O],g)*f[O];for(m.push(v),j=new Float64Array(h),y=0;y<h;++y){for(O=0,v=0;O<p;++O)v+=Math.pow(c[O],g+y);j[y]=v}b.push(j)}b.push(m);const $=function(e){const t=e.length-1,r=[];let n,i,a,o,s;for(n=0;n<t;++n){for(o=n,i=n+1;i<t;++i)Math.abs(e[n][i])>Math.abs(e[n][o])&&(o=i);for(a=n;a<t+1;++a)s=e[a][n],e[a][n]=e[a][o],e[a][o]=s;for(i=n+1;i<t;++i)for(a=t;a>=n;a--)e[a][i]-=e[a][n]*e[n][i]/e[n][n]}for(i=t-1;i>=0;--i){for(s=0,a=i+1;a<t;++a)s+=e[a][i]*r[a];r[i]=(e[t][i]-s)/e[i][i]}return r}(b),x=e=>{e-=l;let t=d+$[0]+$[1]*e+$[2]*e*e;for(g=3;g<h;++g)t+=$[g]*Math.pow(e,g);return t};return{coef:s(h,$,-l,d),predict:x,rSquared:Object(o.a)(e,t,r,d,x)}}},function(e,t,r){"use strict";var n=r(338),i=r(208),a=r(1663);function o(e){return(e=1-e*e*e)*e*e}function s(e,t,r){const n=e[t];let i=r[0],a=r[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-n<=n-e[i];)r[0]=++i,r[1]=a,++a}t.a=function(e,t,r,u){const[c,f,l,d]=Object(i.a)(e,t,r,!0),p=c.length,m=Math.max(2,~~(u*p)),b=new Float64Array(p),h=new Float64Array(p),g=new Float64Array(p).fill(1);for(let e=-1;++e<=2;){const t=[0,m-1];for(let e=0;e<p;++e){const r=c[e],i=t[0],a=t[1],u=r-c[i]>c[a]-r?i:a;let l=0,d=0,p=0,m=0,y=0;const O=1/Math.abs(c[u]-r||1);for(let e=i;e<=a;++e){const t=c[e],n=f[e],i=o(Math.abs(r-t)*O)*g[e],a=t*i;l+=i,d+=a,p+=n*i,m+=n*a,y+=t*a}const[v,j]=Object(n.a)(d/l,p/l,m/l,y/l);b[e]=v+j*r,h[e]=Math.abs(f[e]-b[e]),s(c,e+1,t)}if(2===e)break;const r=Object(a.a)(h);if(Math.abs(r)<1e-12)break;for(let e,t,n=0;n<p;++n)e=h[n]/(6*r),g[n]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,r,n){const i=e.length,a=[];let o,s=0,u=0,c=[];for(;s<i;++s)o=e[s]+r,c[0]===o?c[1]+=(t[s]-c[1])/++u:(u=0,c[1]+=n,c=[o,t[s]],a.push(c));return c[1]+=n,a}(c,b,l,d)}},function(e,t,r){"use strict";const n=.1*Math.PI/180;function i(e,t,r){const n=Math.atan2(r[1]-e[1],r[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(n-i)}t.a=function(e,t,r,a){r=r||25,a=Math.max(r,a||200);const o=t=>[t,e(t)],s=t[0],u=t[1],c=u-s,f=c/a,l=[o(s)],d=[];if(r===a){for(let e=1;e<a;++e)l.push(o(s+e/r*c));return l.push(o(u)),l}d.push(o(u));for(let e=r;--e>0;)d.push(o(s+e/r*c));let p=l[0],m=d[d.length-1];for(;m;){const e=o((p[0]+m[0])/2);e[0]-p[0]>=f&&i(p,e,m)>n?d.push(e):(p=m,l.push(m),d.pop()),m=d[d.length-1]}return l}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(74),a=r(1);function o(e){n.g.call(this,null,e)}o.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},Object(a.z)(o,n.g,{transform(e,t){const r=!1!==e.interval,n=this._bins(e),i=n.start,o=n.step,s=e.as||["bin0","bin1"],u=s[0],c=s[1];let f;return f=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(a.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(f,r?e=>{const t=n(e);e[u]=t,e[c]=null==t?null:i+o*(1+(t-i)/o)}:e=>e[u]=n(e)),t.modifies(r?s:u)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,r=Object(i.b)(e),n=r.step;let o,s,u=r.start,c=u+Math.ceil((r.stop-u)/n)*n;null!=(o=e.anchor)&&(s=o-(u+n*Math.floor((o-u)/n)),u+=s,c+=s);const f=function(e){let r=Object(a.db)(t(e));return null==r?null:r<u?-1/0:r>c?1/0:(r=Math.max(u,Math.min(r,c-n)),u+n*Math.floor(1e-14+(r-u)/n))};return f.start=u,f.stop=r.stop,f.step=n,this.value=Object(a.f)(f,Object(a.g)(t),e.name||"bin_"+Object(a.h)(t))}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(743),i=r(14),a=r(1);function o(e){i.g.call(this,[],e)}o.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(a.z)(o,i.g,{transform(e,t){const r=t.fork(t.ALL),a=Object(n.a)(i.t,this.value,r.materialize(r.ADD).add),o=e.sort,s=t.changed()||o&&(e.modified("sort")||t.modified(o.fields));return r.visit(r.REM,a.remove),this.modified(s),this.value=r.source=a.data(Object(i.q)(o),s),t.source&&t.source.root&&(this.value.root=t.source.root),r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:Object(i.l)(e.fields,e.orders)}Object(i.z)(a,n.d)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}a.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},Object(i.z)(a,n.g,{transform(e,t){const r=t=>r=>{for(var n,i=function(e,t,r){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(r)}(s(r),e.case,a)||[],u=0,c=i.length;u<c;++u)o.test(n=i[u])||t(n)},n=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,u=e.as||["text","count"],c=r(e=>i[e]=1+(i[e]||0)),f=r(e=>i[e]-=1);return n?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,f)),this._finish(t,u)},_parameterCheck(e,t){let r=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),r=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),r=!0),(e.modified("field")||t.modified(e.field.fields))&&(r=!0),r&&(this._counts={}),r},_finish(e,t){const r=this._counts,i=this._tuples||(this._tuples={}),a=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let u,c,f;for(u in r)c=i[u],f=r[u]||0,!c&&f?(i[u]=c=Object(n.l)({}),c[a]=u,c[o]=f,s.add.push(c)):0===f?(c&&s.rem.push(c),r[u]=null,i[u]=null):c[o]!==f&&(c[o]=f,s.mod.push(c));return s.modifies(t)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}a.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(i.z)(a,n.g,{transform(e,t){const r=t.fork(t.NO_SOURCE),a=e.as||["a","b"],o=a[0],s=a[1],u=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let c=this.value;return u?(c&&(r.rem=c),c=t.materialize(t.SOURCE).source,r.add=this.value=function(e,t,r,i){for(var a,o,s=[],u={},c=e.length,f=0;f<c;++f)for(u[t]=o=e[f],a=0;a<c;++a)u[r]=e[a],i(u)&&(s.push(Object(n.l)(u)),(u={})[t]=o);return s}(c,o,s,e.filter||i.hb)):r.mod=c,r.source=this.value,r.modifies(a)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(1272),i=r(14),a=r(74),o=r(1);function s(e){i.g.call(this,null,e)}var u=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],c={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:u},{name:"weights",type:"number",array:!0}]};s.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:u.concat(c)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(o.z)(s,i.g,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=Object(n.a)(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),u=e.steps||e.minsteps||25,c=e.steps||e.maxsteps||200;let f=e.method||"pdf";"pdf"!==f&&"cdf"!==f&&Object(o.o)("Invalid density method: "+f),e.extent||s.data||Object(o.o)("Missing density extent parameter."),f=s[f];const l=e.as||["value","density"],d=e.extent||Object(o.q)(s.data()),p=Object(a.E)(f,d,u,c).map(e=>{const t={};return t[l[0]]=e[0],t[l[1]]=e[1],Object(i.l)(t)});this.value&&(r.rem=this.value),this.value=r.add=r.source=p}return r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(339),i=r(14),a=r(74),o=r(1);function s(e){i.g.call(this,null,e)}s.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};Object(o.z)(s,i.g,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const r=t.materialize(t.SOURCE).source,s=Object(n.b)(t.source,e.groupby,o.y),u=e.smooth||!1,c=e.field,f=e.step||((e,t)=>Object(o.Y)(Object(o.q)(e,t))/30)(r,c),l=Object(i.q)((e,t)=>c(e)-c(t)),d=e.as||"bin",p=s.length;let m,b=1/0,h=-1/0,g=0;for(;g<p;++g){const e=s[g].sort(l);m=-1;for(const t of Object(a.j)(e,f,u,c))t<b&&(b=t),t>h&&(h=t),e[++m][d]=t}return this.value={start:b,stop:h,step:f},t.reflow(!0).modifies(d)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.d.call(this,null,o,e),this.modified(!0)}function o(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(i.f)(r=>t(r,e),Object(i.g)(t),Object(i.h)(t))}Object(i.z)(a,n.d)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,[void 0,void 0],e)}a.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(i.z)(a,n.g,{transform(e,t){const r=this.value,n=e.field,a=t.changed()||t.modified(n.fields)||e.modified("field");let o=r[0],s=r[1];if((a||null==o)&&(o=1/0,s=-1/0),t.visit(a?t.SOURCE:t.ADD,e=>{const t=Object(i.db)(n(e));null!=t&&(t<o&&(o=t),t>s&&(s=t))}),!Number.isFinite(o)||!Number.isFinite(s)){let e=Object(i.h)(n);e&&(e=` for field "${e}"`),t.dataflow.warn(`Infinite extent${e}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:Object(i.B)(e.name)?Object(i.i)(e.name).map(e=>Object(i.u)(e)):Object(i.u)(e.name,e.as)}Object(i.z)(a,n.d)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,Object(i.t)(),e)}a.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(i.z)(a,n.g,{transform(e,t){const r=t.dataflow,i=this.value,a=t.fork(),o=a.add,s=a.rem,u=a.mod,c=e.expr;let f=!0;function l(t){const r=Object(n.t)(t),a=c(t,e),l=i.get(r);a&&l?(i.delete(r),o.push(t)):a||l?f&&a&&!l&&u.push(t):(i.set(r,1),s.push(t))}return t.visit(t.REM,e=>{var t=Object(n.t)(e);i.has(t)?i.delete(t):s.push(e)}),t.visit(t.ADD,t=>{c(t,e)?o.push(t):i.set(Object(n.t)(t),1)}),t.visit(t.MOD,l),e.modified()&&(f=!1,t.visit(t.REFLOW,l)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),a}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(339),i=r(14),a=r(1);function o(e){i.g.call(this,[],e)}o.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(a.z)(o,i.g,{transform(e,t){const r=t.fork(t.NO_SOURCE),a=e.fields,o=Object(n.a)(a,e.as||[]),s=e.index||null,u=o.length;return r.rem=this.value,t.visit(t.SOURCE,e=>{const t=a.map(t=>t(e)),n=t.reduce((e,t)=>Math.max(e,t.length),0);let c,f,l,d=0;for(;d<n;++d){for(f=Object(i.k)(e),c=0;c<u;++c)f[o[c]]=null==(l=t[c][d])?null:l;s&&(f[s]=d),r.add.push(f)}}),this.value=r.source=r.add,s&&r.modifies(s),r.modifies(o)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,[],e)}a.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(i.z)(a,n.g,{transform(e,t){const r=t.fork(t.NO_SOURCE),a=e.fields,o=a.map(i.h),s=e.as||["key","value"],u=s[0],c=s[1],f=a.length;return r.rem=this.value,t.visit(t.SOURCE,e=>{for(let t,i=0;i<f;++i)t=Object(n.k)(e),t[u]=o[i],t[c]=a[i](e),r.add.push(t)}),this.value=r.source=r.add,r.modifies(s)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}a.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(i.z)(a,n.g,{transform(e,t){const r=e.expr,n=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(r.fields)||t.modified(n)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(n),t.visit(a,t=>t[n]=r(t,e))}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,[],e)}Object(i.z)(a,n.g,{transform(e,t){const r=t.fork(t.ALL),i=e.generator;let a,o,s,u=this.value,c=e.size-u.length;if(c>0){for(a=[];--c>=0;)a.push(s=Object(n.l)(i(e))),u.push(s);r.add=r.add.length?r.materialize(r.ADD).add.concat(a):a}else o=u.slice(0,-c),r.rem=r.rem.length?r.materialize(r.REM).rem.concat(o):o,u=u.slice(-c);return r.source=this.value=u,r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(14),i=r(1),a=r(1663),o=r(1978),s=r(840),u=r(445);const c={value:"value",median:a.a,mean:o.a,min:s.a,max:u.a},f=[];function l(e){n.g.call(this,[],e)}l.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(i.z)(l,n.g,{transform(e,t){var r,a,o,s,u,l,d,p,m,b,h=t.fork(t.ALL),g=function(e){var t,r=e.method||c.value;if(null!=c[r])return r===c.value?(t=void 0!==e.value?e.value:0,()=>t):c[r];Object(i.o)("Unrecognized imputation method: "+r)}(e),y=function(e){var t=e.field;return e=>e?t(e):NaN}(e),O=Object(i.h)(e.field),v=Object(i.h)(e.key),j=(e.groupby||[]).map(i.h),$=function(e,t,r,n){var i,a,o,s,u,c,l,d,p=e=>e(d),m=[],b=n?n.slice():[],h={},g={};for(b.forEach((e,t)=>h[e]=t+1),s=0,l=e.length;s<l;++s)d=e[s],c=r(d),u=h[c]||(h[c]=b.push(c)),a=(i=t?t.map(p):f)+"",(o=g[a])||(o=g[a]=[],m.push(o),o.values=i),o[u-1]=d;return m.domain=b,m}(t.source,e.groupby,e.key,e.keyvals),x=[],k=this.value,E=$.domain.length;for(u=0,p=$.length;u<p;++u)for(o=(r=$[u]).values,a=NaN,d=0;d<E;++d)if(null==r[d]){for(s=$.domain[d],b={_impute:!0},l=0,m=o.length;l<m;++l)b[j[l]]=o[l];b[v]=s,b[O]=Number.isNaN(a)?a=g(r,y):a,x.push(Object(n.l)(b))}return x.length&&(h.add=h.materialize(h.ADD).add.concat(x)),k.length&&(h.rem=h.materialize(h.REM).rem.concat(k)),this.value=x,h}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(371),i=r(235),a=r(1);function o(e){n.a.call(this,e)}o.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},Object(a.z)(o,n.a,{transform(e,t){const r=this,n=e.modified();let i;return r.value&&(n||t.modified(r._inputs,!0))?(i=r.value=n?r.init(e):{},t.visit(t.SOURCE,e=>r.add(e))):(i=r.value=r.value||this.init(e),t.visit(t.REM,e=>r.rem(e)),t.visit(t.ADD,e=>r.add(e))),r.changes(),t.visit(t.SOURCE,e=>{Object(a.p)(e,i[r.cellkey(e)].tuple)}),t.reflow(n).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let r,n;for(r=0,n=this._alen;r<n;++r)this.celltuple(e[r]),e[r]=null;for(r=0,n=this._mlen;r<n;++r)this.celltuple(t[r]),t[r]=null;this._alen=this._mlen=0}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(339),i=r(74),a=r(14),o=r(1);function s(e){a.g.call(this,null,e)}s.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(o.z)(s,a.g,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=t.materialize(t.SOURCE).source,u=Object(n.b)(s,e.groupby,e.field),c=(e.groupby||[]).map(o.h),f=e.bandwidth,l=e.cumulative?"cdf":"pdf",d=e.as||["value","density"],p=[];let m=e.extent,b=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;"pdf"!==l&&"cdf"!==l&&Object(o.o)("Invalid density method: "+l),"shared"===e.resolve&&(m||(m=Object(o.q)(s,e.field)),b=h=e.steps||h),u.forEach(t=>{const r=Object(i.r)(t,f)[l],n=e.counts?t.length:1,s=m||Object(o.q)(t);Object(i.E)(r,s,b,h).forEach(e=>{const r={};for(let e=0;e<c.length;++e)r[c[e]]=t.dims[e];r[d[0]]=e[0],r[d[1]]=e[1]*n,p.push(Object(a.l)(r))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=p}return r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:Object(i.J)(e.fields,e.flat)}Object(i.z)(a,n.d)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,[],e),this._pending=null}function o(e,t,r){r.forEach(n.l);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=r,e._pending=null,i.rem.length&&i.clean(!0),i}Object(i.z)(a,n.g,{transform(e,t){const r=t.dataflow;if(this._pending)return o(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return o(this,t,r.parse(e.values,e.format));if(e.async){return{async:r.request(e.url,e.format).then(e=>(this._pending=Object(i.i)(e.data),e=>e.touch(this)))}}return r.request(e.url,e.format).then(e=>o(this,t,Object(i.i)(e.data)))}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,{},e)}a.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(i.z)(a,n.g,{transform(e,t){const r=e.fields,n=e.index,a=e.values,o=null==e.default?null:e.default,s=e.modified(),u=r.length;let c,f,l,d=s?t.SOURCE:t.ADD,p=t,m=e.as;return a?(f=a.length,u>1&&!m&&Object(i.o)('Multi-field lookup requires explicit "as" parameter.'),m&&m.length!==u*f&&Object(i.o)('The "as" parameter has too few output field names.'),m=m||a.map(i.h),c=function(e){for(var t,i,s=0,c=0;s<u;++s)if(null==(i=n.get(r[s](e))))for(t=0;t<f;++t,++c)e[m[c]]=o;else for(t=0;t<f;++t,++c)e[m[c]]=a[t](i)}):(m||Object(i.o)("Missing output field names."),c=function(e){for(var t,i=0;i<u;++i)t=n.get(r[i](e)),e[m[i]]=null==t?o:t}),s?p=t.reflow(!0):(l=r.some(e=>t.modified(e.fields)),d|=l?t.MOD:0),t.visit(d,c),p.modifies(m)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.d.call(this,null,o,e)}function o(e){if(this.value&&!e.modified())return this.value;const t=e.extents,r=t.length;let n,i,a=1/0,o=-1/0;for(n=0;n<r;++n)i=t[n],i[0]<a&&(a=i[0]),i[1]>o&&(o=i[1]);return[a,o]}Object(i.z)(a,n.d)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:e.values.reduce((e,t)=>e.concat(t),[])}Object(i.z)(a,n.d)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}Object(i.z)(a,n.g,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(371),i=r(235),a=r(1);function o(e){n.a.call(this,e)}o.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:i.a,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},Object(a.z)(o,n.a,{_transform:n.a.prototype.transform,transform(e,t){return this._transform(function(e,t){const r=e.field,n=e.value,i=("count"===e.op?"__count__":e.op)||"sum",o=Object(a.g)(r).concat(Object(a.g)(n)),s=function(e,t,r){const n={},i=[];return r.visit(r.SOURCE,t=>{const r=e(t);n[r]||(n[r]=1,i.push(r))}),i.sort(a.j),t?i.slice(0,t):i}(r,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(e=>function(e,t,r,n){return Object(a.f)(n=>t(n)===e?r(n):NaN,n,e+"")}(e,r,n,o)),as:s.map(e=>e+""),modified:e.modified.bind(e)}}(e,t),t)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(601),i=r(14),a=r(1);function o(e){n.a.call(this,e)}Object(a.z)(o,n.a,{transform(e,t){const r=e.subflow,n=e.field,o=e=>this.subflow(Object(i.t)(e),r,t,e);return(e.modified("field")||n&&t.modified(Object(a.g)(n)))&&Object(a.o)("PreFacet does not support field modification."),this.initTargets(),n?(t.visit(t.MOD,e=>{const t=o(e);n(e).forEach(e=>t.mod(e))}),t.visit(t.ADD,e=>{const t=o(e);n(e).forEach(e=>t.add(Object(i.l)(e)))}),t.visit(t.REM,e=>{const t=o(e);n(e).forEach(e=>t.rem(e))})):(t.visit(t.MOD,e=>o(e).mod(e)),t.visit(t.ADD,e=>o(e).add(e)),t.visit(t.REM,e=>o(e).rem(e))),t.clean()&&t.runAfter(()=>this.clean()),t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(339),i=r(14),a=r(1);function o(e){i.g.call(this,null,e)}o.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(a.z)(o,i.g,{transform(e,t){const r=t.fork(t.NO_SOURCE),a=e.fields,o=Object(n.a)(e.fields,e.as||[]),s=a?(e,t)=>function(e,t,r,n){for(let i=0,a=r.length;i<a;++i)t[n[i]]=r[i](e);return t}(e,t,a,o):i.o;let u;return this.value?u=this.value:(t=t.addAll(),u=this.value={}),t.visit(t.REM,e=>{const t=Object(i.t)(e);r.rem.push(u[t]),u[t]=null}),t.visit(t.ADD,e=>{const t=s(e,Object(i.l)({}));u[Object(i.t)(e)]=t,r.add.push(t)}),t.visit(t.MOD,e=>{r.mod.push(s(e,u[Object(i.t)(e)]))}),r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}Object(i.z)(a,n.g,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(339),i=r(14),a=r(74),o=r(1),s=r(216);function u(e){i.g.call(this,null,e)}u.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};Object(o.z)(u,i.g,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return r.source=this.value,r;const c=t.materialize(t.SOURCE).source,f=Object(n.b)(c,e.groupby,e.field),l=(e.groupby||[]).map(o.h),d=[],p=e.step||.01,m=e.probs||Object(s.a)(p/2,1-1e-14,p),b=m.length;return f.forEach(e=>{const t=Object(a.n)(e,m);for(let r=0;r<b;++r){const n={};for(let t=0;t<l.length;++t)n[l[t]]=e.dims[t];n[u[0]]=m[r],n[u[1]]=t[r],d.push(Object(i.l)(n))}}),this.value&&(r.rem=this.value),this.value=r.add=r.source=d,r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}Object(i.z)(a,n.g,{transform(e,t){let r,i;return this.value?i=this.value:(r=t=t.addAll(),i=this.value={}),e.derive&&(r=t.fork(t.NO_SOURCE),t.visit(t.REM,e=>{const t=Object(n.t)(e);r.rem.push(i[t]),i[t]=null}),t.visit(t.ADD,e=>{const t=Object(n.k)(e);i[Object(n.t)(e)]=t,r.add.push(t)}),t.visit(t.MOD,e=>{const t=i[Object(n.t)(e)];for(const n in e)t[n]=e[n],r.modifies(n);r.mod.push(t)})),r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(74),a=r(1);function o(e){n.g.call(this,[],e),this.count=0}o.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(a.z)(o,n.g,{transform(e,t){const r=t.fork(t.NO_SOURCE),a=e.modified("size"),o=e.size,s=this.value.reduce((e,t)=>(e[Object(n.t)(t)]=1,e),{});let u=this.value,c=this.count,f=0;function l(e){let t,a;u.length<o?u.push(e):(a=~~((c+1)*Object(i.p)()),a<u.length&&a>=f&&(t=u[a],s[Object(n.t)(t)]&&r.rem.push(t),u[a]=e)),++c}if(t.rem.length&&(t.visit(t.REM,e=>{const t=Object(n.t)(e);s[t]&&(s[t]=-1,r.rem.push(e)),--c}),u=u.filter(e=>-1!==s[Object(n.t)(e)])),(t.rem.length||a)&&u.length<o&&t.source&&(f=c=u.length,t.visit(t.SOURCE,e=>{s[Object(n.t)(e)]||l(e)}),f=-1),a&&u.length>o){const e=u.length-o;for(let t=0;t<e;++t)s[Object(n.t)(u[t])]=-1,r.rem.push(u[t]);u=u.slice(e)}return t.mod.length&&t.visit(t.MOD,e=>{s[Object(n.t)(e)]&&r.mod.push(e)}),t.add.length&&t.visit(t.ADD,l),(t.add.length||f<0)&&(r.add=u.filter(e=>!s[Object(n.t)(e)])),this.count=c,this.value=r.source=u,r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(1),a=r(216);function o(e){n.g.call(this,null,e)}o.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(i.z)(o,n.g,{transform(e,t){if(this.value&&!e.modified())return;const r=t.materialize().fork(t.MOD),i=e.as||"data";return r.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Object(a.a)(e.start,e.stop,e.step||1).map(e=>{const t={};return t[i]=e,Object(n.l)(t)}),r.add=t.add.concat(this.value),r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e),this.modified(!0)}Object(i.z)(a,n.g,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(90),a=r(1);function o(e){n.g.call(this,null,e)}const s=["unit0","unit1"];o.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.j,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:s}]},Object(a.z)(o,n.g,{transform(e,t){const r=e.field,n=!1!==e.interval,o="utc"===e.timezone,u=this._floor(e,t),c=(o?i.v:i.p)(u.unit).offset,f=e.as||s,l=f[0],d=f[1],p=u.step;let m=u.start||1/0,b=u.stop||-1/0,h=t.ADD;return(e.modified()||t.modified(Object(a.g)(r)))&&(h=(t=t.reflow(!0)).SOURCE,m=1/0,b=-1/0),t.visit(h,e=>{const t=r(e);let i,a;null==t?(e[l]=null,n&&(e[d]=null)):(e[l]=i=a=u(t),n&&(e[d]=a=c(i,p)),i<m&&(m=i),a>b&&(b=a))}),u.start=m,u.stop=b,t.modifies(n?f:l)},_floor(e,t){const r="utc"===e.timezone,{units:n,step:o}=e.units?{units:e.units,step:e.step||1}:Object(i.n)({extent:e.extent||Object(a.q)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),s=Object(i.t)(n),u=this.value||{},c=(r?i.u:i.o)(s,o);return c.unit=Object(a.V)(s),c.units=s,c.step=o,c.start=u.start,c.stop=u.stop,this.value=c}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,Object(i.t)(),e)}Object(i.z)(a,n.g,{transform(e,t){const r=t.dataflow,n=e.field,i=this.value,a=e=>i.set(n(e),e);let o=!0;return e.modified("field")||t.modified(n.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,e=>i.delete(n(e))),t.visit(t.ADD,a)):o=!1,this.modified(o),i.empty>r.cleanThreshold&&r.runAfter(i.clean),t.fork()}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}Object(i.z)(a,n.g,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Object(n.q)(e.sort)):t.source).map(e.field))}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(611),i=r(235),a=r(743),o=r(614),s=r(1273),u=r(14),c=r(1),f=r(574);function l(e){u.g.call(this,{},e),this._mlen=0,this._mods=[]}function d(e,t,r,n){const i=n.sort,a=i&&!n.ignorePeers,o=n.frame||[null,0],s=e.data(r),u=s.length,l=a?Object(f.a)(i):null,d={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:i||Object(c.m)(-1)};t.init();for(let e=0;e<u;++e)p(d,o,e,u),a&&m(d,l),t.update(d,s[e])}function p(e,t,r,n){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,r-Math.abs(t[0])),e.i1=null==t[1]?n:Math.min(n,r+Math.abs(t[1])+1),e.index=r}function m(e,t){const r=e.i0,n=e.i1-1,i=e.compare,a=e.data,o=a.length-1;r>0&&!i(a[r],a[r-1])&&(e.i0=t.left(a,a[r])),n<o&&!i(a[n],a[n+1])&&(e.i1=t.right(a,a[n]))}l.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:o.a.concat(i.a)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},Object(c.z)(l,u.g,{transform(e,t){this.stamp=t.stamp;const r=e.modified(),i=Object(u.q)(e.sort),a=Object(n.a)(e.groupby),o=e=>this.group(a(e));let c=this.state;c&&!r||(c=this.state=new s.a(e)),r||t.modified(c.inputs)?(this.value={},t.visit(t.SOURCE,e=>o(e).add(e))):(t.visit(t.REM,e=>o(e).remove(e)),t.visit(t.ADD,e=>o(e).add(e)));for(let t=0,r=this._mlen;t<r;++t)d(this._mods[t],c,i,e);return this._mlen=0,this._mods=[],t.reflow(r).modifies(c.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=Object(a.a)(u.t),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(35),i=r(14),a=r(77),o=r(1);function s(e){i.g.call(this,null,e)}function u(e,t,r){return t(e.bounds.clear(),e,r)}Object(o.z)(s,i.g,{transform(e,t){const r=t.dataflow,i=e.mark,o=i.marktype,s=a.h[o],c=s.bound;let f,l=i.bounds;if(s.nested)i.items.length&&r.dirty(i.items[0]),l=u(i,c),i.items.forEach(e=>{e.bounds.clear().union(l)});else if(o===n.q||e.modified())switch(t.visit(t.MOD,e=>r.dirty(e)),l.clear(),i.items.forEach(e=>l.union(u(e,c))),i.role){case n.b:case n.s:case n.F:t.reflow()}else f=t.changed(t.REM),t.visit(t.ADD,e=>{l.union(u(e,c))}),t.visit(t.MOD,e=>{f=f||l.alignsWith(e.bounds),r.dirty(e),l.union(u(e,c))}),f&&(l.clear(),i.items.forEach(e=>l.union(e.bounds)));return Object(a.p)(i),t.modifies("bounds")}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(167),i=r(699),a=r(513);function o(e){arguments.length?this.root=Object(a.a)(e):(this.root=s({marktype:"group",name:"root",role:"frame"}),this.root.items=[new i.a(this.root)])}function s(e,t){const r={bounds:new n.a,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(r.aria=e.aria),e.description&&(r.description=e.description),r}o.prototype={toJSON(e){return Object(a.b)(this.root,e||0)},mark(e,t,r){var n=s(e,t=t||this.root.items[0]);return t.items[r]=n,n.zindex&&(n.group.zdirty=!0),n}}},,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(976),i=r(365);function a(e){const t=e.length/6|0,r=new Array(t);for(let n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r}function o(e,t){for(const r in e)u(r,t(e[r]))}const s={};function u(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(s[e]=t,this):s[e]}o(n.b,a),o(n.a,e=>Object(i.b)(a(e)))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(457),i=r(36),a=r(198),o=r(1);function s(e,t,r){r=r||{};const s=Math.max(3,r.maxlen||7),u=function(e,t,r,s){const u=s||t.type;return Object(o.I)(r)&&Object(a.g)(u)&&(r=r.replace(/%a/g,"%A").replace(/%b/g,"%B")),r||u!==i.u?r||u!==i.v?Object(n.a)(e,t,5,null,r,s,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,r.format,r.formatType);if(Object(a.c)(t.type)){const e=Object(n.c)(t).slice(1).map(u),r=e.length;return`${r} boundar${1===r?"y":"ies"}: ${e.join(", ")}`}if(Object(a.b)(t.type)){const e=t.domain(),r=e.length;return`${r} value${1===r?"":"s"}: ${r>s?e.slice(0,s-2).map(u).join(", ")+", ending with "+e.slice(-1).map(u):e.map(u).join(", ")}`}{const e=t.domain();return`values from ${u(e[0])} to ${u(Object(o.V)(e))}`}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(177),i=r(1),a=r(167);function o(e,t,r){const n=[],o=(new a.a).union(t),c=e.marktype;return c?s(e,o,r,n):"group"===c?u(e,o,r,n):Object(i.o)("Intersect scene must be mark node or group item.")}function s(e,t,r,i){if(function(e,t,r){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!r||r(e)))}(e,t,r)){const a=e.items,o=e.marktype,s=a.length;let f=0;if("group"===o)for(;f<s;++f)u(a[f],t,r,i);else for(const e=n.a[o].isect;f<s;++f){const r=a[f];c(r,t,e)&&i.push(r)}}return i}function u(e,t,r,i){r&&r(e.mark)&&c(e,t,n.a.group.isect)&&i.push(e);const a=e.items,o=a&&a.length;if(o){const n=e.x||0,u=e.y||0;t.translate(-n,-u);for(let e=0;e<o;++e)s(a[e],t,r,i);t.translate(n,u)}return i}function c(e,t,r){const n=e.bounds;return t.encloses(n)||t.intersects(n)&&r(e,t)}},function(e,t,r){"use strict";var n=r(167),i=r(332),a=r(1);const o=new n.a;t.a=function(e){const t=e.clip;if(Object(a.E)(t))t(Object(i.a)(o.clear()));else{if(!t)return;o.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(o)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,0,e)}a.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(i.z)(a,n.g,{transform(e,t){const r=(i=t.dataflow)._signals[":vega_identifier:"]||(i._signals[":vega_identifier:"]=i.add(0)),n=e.as;var i;let a=r.value;return t.visit(t.ADD,e=>e[n]=e[n]||++a),r.set(this.value=a),t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(35),i=r(14),a=r(77),o=r(1);function s(e){i.g.call(this,null,e)}Object(o.z)(s,i.g,{transform(e,t){let r=this.value;r||(r=t.dataflow.scenegraph().mark(e.markdef,function(e){const t=e.groups,r=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&r?t.lookup(r):null}(e),e.index),r.group.context=e.context,e.context.group||(e.context.group=r.group),r.source=this.source,r.clip=e.clip,r.interactive=e.interactive,this.value=r);const i=r.marktype===n.q?a.e:a.g;return t.visit(t.ADD,e=>i.call(e,r)),(e.modified("clip")||e.modified("interactive"))&&(r.clip=e.clip,r.interactive=!!e.interactive,r.zdirty=!0,t.reflow()),r.items=t.source,t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(35),i=r(14),a=r(77),o=r(1);function s(e){i.g.call(this,null,e)}const u={parity:e=>e.filter((e,t)=>t%2?e.opacity=0:1),greedy:(e,t)=>{let r;return e.filter((e,n)=>n&&c(r.bounds,e.bounds,t)?e.opacity=0:(r=e,1))}},c=(e,t,r)=>r>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),f=(e,t)=>{for(var r,n=1,i=e.length,a=e[0].bounds;n<i;a=r,++n)if(c(a,r=e[n].bounds,t))return!0},l=e=>{var t=e.bounds;return t.width()>1&&t.height()>1},d=e=>(e.forEach(e=>e.opacity=1),e),p=(e,t)=>e.reflow(t.modified()).modifies("opacity");Object(o.z)(s,i.g,{transform(e,t){const r=u[e.method]||u.parity,i=e.separation||0;let s,c,m=t.materialize(t.SOURCE).source;if(!m||!m.length)return;if(!e.method)return e.modified("method")&&(d(m),t=p(t,e)),t;if(m=m.filter(l),!m.length)return;if(e.sort&&(m=m.slice().sort(e.sort)),s=d(m),t=p(t,e),s.length>=3&&f(s,i)){do{s=r(s,i)}while(s.length>=3&&f(s,i));s.length<3&&!Object(o.V)(m).opacity&&(s.length>1&&(Object(o.V)(s).opacity=0),Object(o.V)(m).opacity=1)}var b,h,g,y,O;e.boundScale&&e.boundTolerance>=0&&(b=e.boundScale,h=e.boundOrient,g=+e.boundTolerance,y=b.range(),O=new a.a,h===n.G||h===n.c?O.set(y[0],-1/0,y[1],1/0):O.set(-1/0,y[0],1/0,y[1]),O.expand(g||1),c=e=>O.encloses(e.bounds),m.forEach(e=>{c(e)||(e.opacity=0)}));const v=s[0].mark.bounds.clear();return m.forEach(e=>{e.opacity&&v.union(e.bounds)}),t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}Object(i.z)(a,n.g,{transform(e,t){const r=t.dataflow;if(t.visit(t.ALL,e=>r.dirty(e)),t.fields&&t.fields.zindex){var n=t.source&&t.source[0];n&&(n.mark.zdirty=!0)}}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(35),i=r(977),a=r(978),o=r(979),s=r(1302),u=r(14),c=r(77),f=r(1);function l(e){u.g.call(this,null,e)}Object(f.z)(l,u.g,{transform(e,t){const r=t.dataflow;return e.mark.items.forEach(t=>{e.layout&&Object(a.b)(r,t,e.layout),function(e,t,r){var u,f,l,d,p,m=t.items,b=Math.max(0,t.width||0),h=Math.max(0,t.height||0),g=(new c.a).set(0,0,b,h),y=g.clone(),O=g.clone(),v=[];for(d=0,p=m.length;d<p;++d)switch((f=m[d]).role){case n.b:(Object(i.b)(f)?y:O).union(Object(i.a)(e,f,b,h));break;case n.F:u=f;break;case n.s:v.push(Object(o.a)(e,f));break;case n.p:case n.C:case n.A:case n.z:case n.B:case n.g:case n.f:case n.h:y.union(f.bounds),O.union(f.bounds);break;default:g.union(f.bounds)}if(v.length){const t={};v.forEach(e=>{(l=e.orient||n.x)!==n.u&&(t[l]||(t[l]=[])).push(e)});for(const n in t){const i=t[n];Object(a.a)(e,i,Object(o.b)(i,n,r.legends,y,O,b,h))}v.forEach(t=>{const i=t.bounds;if(i.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=i,e.dirty(t)),r.autosize&&r.autosize.type===n.l)switch(t.orient){case n.r:case n.x:g.add(i.x1,0).add(i.x2,0);break;case n.G:case n.c:g.add(0,i.y1).add(0,i.y2)}else g.union(i)})}g.union(y).union(O),u&&g.union(Object(s.a)(e,u,b,h,g));t.clip&&g.set(0,0,t.width||0,t.height||0);!function(e,t,r,i){const a=i.autosize||{},o=a.type;if(e._autosize<1||!o)return;let s=e._width,u=e._height,c=Math.max(0,t.width||0),f=Math.max(0,Math.ceil(-r.x1)),l=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-r.y1));const p=Math.max(0,Math.ceil(r.x2-c)),m=Math.max(0,Math.ceil(r.y2-l));if(a.contains===n.w){const t=e.padding();s-=t.left+t.right,u-=t.top+t.bottom}o===n.u?(f=0,d=0,c=s,l=u):o===n.l?(c=Math.max(0,s-f-p),l=Math.max(0,u-d-m)):o===n.m?(c=Math.max(0,s-f-p),u=l+d+m):o===n.n?(s=c+f+p,l=Math.max(0,u-d-m)):o===n.v&&(s=c+f+p,u=l+d+m);e._resizeView(s,u,c,l,[f,d],a.resize)}(e,t,g,r)}(r,t,e)}),(u=e.mark.group)&&"legend-entry"!==u.mark.role?t.reflow():t;var u}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(47),a=r(1);function o(e){n.g.call(this,null,e)}Object(a.z)(o,n.g,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var r=t.dataflow.locale(),a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,s=e.scale,u=null==e.count?e.values?e.values.length:10:e.count,c=Object(i.M)(s,u,e.minstep),f=e.format||Object(i.N)(r,s,c,e.formatSpecifier,e.formatType,!!e.values),l=e.values?Object(i.P)(s,e.values,c):Object(i.O)(s,c);return o&&(a.rem=o),o=l.map((e,t)=>Object(n.l)({index:t/(l.length-1||1),value:e,label:f(e)})),e.extra&&o.length&&o.push(Object(n.l)({index:-1,extra:{value:o[0].value},label:""})),a.source=o,a.add=o,this.value=o,a}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}function o(){return Object(n.l)({})}Object(i.z)(a,n.g,{transform(e,t){var r=t.dataflow,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.item||o,u=e.key||n.t,c=this.value;return Object(i.B)(a.encode)&&(a.encode=null),c&&(e.modified("key")||t.modified(u))&&Object(i.o)("DataJoin does not support modified key function or fields."),c||(t=t.addAll(),this.value=c=function(e){const t=Object(i.t)().test(e=>e.exit);return t.lookup=r=>t.get(e(r)),t}(u)),t.visit(t.ADD,e=>{const t=u(e);let r=c.get(t);r?r.exit?(c.empty--,a.add.push(r)):a.mod.push(r):(r=s(e),c.set(t,r),a.add.push(r)),r.datum=e,r.exit=!1}),t.visit(t.MOD,e=>{const t=u(e),r=c.get(t);r&&(r.datum=e,a.mod.push(r))}),t.visit(t.REM,e=>{const t=u(e),r=c.get(t);e!==r.datum||r.exit||(a.rem.push(r),r.exit=!0,++c.empty)}),t.changed(t.ADD_MOD)&&a.modifies("datum"),(t.clean()||e.clean&&c.empty>r.cleanThreshold)&&r.runAfter(c.clean),a}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}Object(i.z)(a,n.g,{transform(e,t){var r=t.fork(t.ADD_REM),n=e.mod||!1,a=e.encoders,o=t.encode;if(Object(i.B)(o)){if(!r.changed()&&!o.every(e=>a[e]))return t.StopPropagation;o=o[0],r.encode=null}var s="enter"===o,u=a.update||i.s,c=a.enter||i.s,f=a.exit||i.s,l=(o&&!s?a[o]:u)||i.s;if(t.changed(t.ADD)&&(t.visit(t.ADD,t=>{c(t,e),u(t,e)}),r.modifies(c.output),r.modifies(u.output),l!==i.s&&l!==u&&(t.visit(t.ADD,t=>{l(t,e)}),r.modifies(l.output))),t.changed(t.REM)&&f!==i.s&&(t.visit(t.REM,t=>{f(t,e)}),r.modifies(f.output)),s||l!==i.s){var d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,t=>{var i=c(t,e)||n;(l(t,e)||i)&&r.mod.push(t)}),r.mod.length&&r.modifies(c.output)):t.visit(d,t=>{(l(t,e)||n)&&r.mod.push(t)}),r.mod.length&&r.modifies(l.output)}return r.changed()?r:t.StopPropagation}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(47),a=r(1);function o(e){n.g.call(this,[],e)}Object(a.z)(o,n.g,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var r,o,s,u,c,f=t.dataflow.locale(),l=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=this.value,p=e.type||i.n,m=e.scale,b=+e.limit,h=Object(i.M)(m,null==e.count?5:e.count,e.minstep),g=!!e.values||p===i.n,y=e.format||Object(i.E)(f,m,h,p,e.formatSpecifier,e.formatType,g),O=e.values||Object(i.G)(m,h);return d&&(l.rem=d),p===i.n?(b&&O.length>b?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),d=O.slice(0,b-1),c=!0):d=O,Object(a.E)(s=e.size)?(e.values||0!==m(d[0])||(d=d.slice(1)),u=d.reduce((t,r)=>Math.max(t,s(r,e)),0)):s=Object(a.m)(u=s||8),d=d.map((t,r)=>Object(n.l)({index:r,label:y(t,r,d),value:t,offset:u,size:s(t,e)})),c&&(c=O[d.length],d.push(Object(n.l)({index:d.length,label:`…${O.length-d.length} entries`,value:c,offset:u,size:s(c,e)})))):p===i.d?(r=m.domain(),o=Object(i.J)(m,r[0],Object(a.V)(r)),O.length<3&&!e.values&&r[0]!==Object(a.V)(r)&&(O=[r[0],Object(a.V)(r)]),d=O.map((e,t)=>Object(n.l)({index:t,label:y(e,t,O),value:e,perc:o(e)}))):(s=O.length-1,o=Object(i.F)(m),d=O.map((e,t)=>Object(n.l)({index:t,label:y(e,t,O),value:e,perc:t?o(e):0,perc2:t===s?1:o(O[t+1])}))),l.source=d,l.add=d,this.value=d,l}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(14),i=r(1);const a=e=>e.source.x,o=e=>e.source.y,s=e=>e.target.x,u=e=>e.target.y;function c(e){n.g.call(this,{},e)}c.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(i.z)(c,n.g,{transform(e,t){var r=e.sourceX||a,n=e.sourceY||o,c=e.targetX||s,f=e.targetY||u,l=e.as||"path",d=e.orient||"vertical",m=e.shape||"line",b=p.get(m+"-"+d)||p.get(m);return b||Object(i.o)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,e=>{e[l]=b(r(e),n(e),c(e),f(e))}),t.reflow(e.modified()).modifies(l)}});const f=(e,t,r,n)=>"M"+e+","+t+"L"+r+","+n,l=(e,t,r,n)=>{var i=r-e,a=n-t,o=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+r+","+n},d=(e,t,r,n)=>{const i=r-e,a=n-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(r+s)+","+(n-o)+" "+r+","+n},p=Object(i.t)({line:f,"line-radial":(e,t,r,n)=>f(t*Math.cos(e),t*Math.sin(e),n*Math.cos(r),n*Math.sin(r)),arc:l,"arc-radial":(e,t,r,n)=>l(t*Math.cos(e),t*Math.sin(e),n*Math.cos(r),n*Math.sin(r)),curve:d,"curve-radial":(e,t,r,n)=>d(t*Math.cos(e),t*Math.sin(e),n*Math.cos(r),n*Math.sin(r)),"orthogonal-horizontal":(e,t,r,n)=>"M"+e+","+t+"V"+n+"H"+r,"orthogonal-vertical":(e,t,r,n)=>"M"+e+","+t+"H"+r+"V"+n,"orthogonal-radial":(e,t,r,n)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r);return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+((Math.abs(r-e)>Math.PI?r<=e:r>e)?1:0)+" "+t*o+","+t*s+"L"+n*o+","+n*s},"diagonal-horizontal":(e,t,r,n)=>{const i=(e+r)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+n+" "+r+","+n},"diagonal-vertical":(e,t,r,n)=>{const i=(t+n)/2;return"M"+e+","+t+"C"+e+","+i+" "+r+","+i+" "+r+","+n},"diagonal-radial":(e,t,r,n)=>{const i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),u=(t+n)/2;return"M"+t*i+","+t*a+"C"+u*i+","+u*a+" "+u*o+","+u*s+" "+n*o+","+n*s}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(14),i=r(1),a=r(1667),o=r(216);function s(e){n.g.call(this,null,e)}s.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(i.z)(s,n.g,{transform(e,t){var r,n,s,u=e.as||["startAngle","endAngle"],c=u[0],f=u[1],l=e.field||i.P,d=e.startAngle||0,p=null!=e.endAngle?e.endAngle:2*Math.PI,m=t.source,b=m.map(l),h=b.length,g=d,y=(p-d)/Object(a.a)(b),O=Object(o.a)(h);for(e.sort&&O.sort((e,t)=>b[e]-b[t]),r=0;r<h;++r)s=b[O[r]],(n=m[O[r]])[c]=g,n[f]=g+=s*y;return this.value=b,t.reflow(e.modified()).modifies(u)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(14),i=r(1),a=r(47),o=r(216),s=r(555),u=r(289);function c(e){return Object(a.x)(e)&&e!==a.l}const f=Object(i.eb)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function l(e){n.g.call(this,null,e),this.modified(!0)}function d(e,t,r){Object(a.B)(e)&&(Math.abs(t.reduce((e,t)=>e+(t<0?-1:t>0?1:0),0))!==t.length&&r.warn("Log scale domain includes zero: "+Object(i.ab)(t)));return t}function p(e,t,r){return Object(i.E)(e)&&(t||r)?Object(a.w)(e,m(t||[0,1],r)):e}function m(e,t){return t?e.slice().reverse():e}Object(i.z)(l,n.g,{transform(e,t){var r=t.dataflow,n=this.value,l=function(e){var t,r=e.type,n="";if(r===a.l)return a.l+"-"+a.e;(function(e){const t=e.type;return Object(a.x)(t)&&t!==a.q&&t!==a.r&&(e.scheme||e.range&&e.range.length&&e.range.every(i.I))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,n=2===t?a.l+"-":3===t?a.c+"-":"");return(n+r||a.e).toLowerCase()}(e);for(l in n&&l===n.type||(this.value=n=Object(a.I)(l)()),e)if(!f[l]){if("padding"===l&&c(n.type))continue;Object(i.E)(n[l])?n[l](e[l]):r.warn("Unsupported scale property: "+l)}return function(e,t,r){var n=e.type,o=t.round||!1,c=t.range;if(null!=t.rangeStep)c=function(e,t,r){e!==a.a&&e!==a.h&&Object(i.o)("Only band and point scales support rangeStep.");var n=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,o=e===a.h?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Object(a.s)(r,o,n)]}(n,t,r);else if(t.scheme&&(c=function(e,t,r){var n,o,s=t.schemeExtent;Object(i.B)(t.scheme)?o=Object(a.v)(t.scheme,t.interpolate,t.interpolateGamma):(n=t.scheme.toLowerCase(),(o=Object(a.L)(n))||Object(i.o)("Unrecognized scheme name: "+t.scheme));return r=e===a.p?r+1:e===a.b?r-1:e===a.j||e===a.k?+t.schemeCount||5:r,Object(a.A)(e)?p(o,s,t.reverse):Object(i.E)(o)?Object(a.H)(p(o,s),r):e===a.g?o:o.slice(0,r)}(n,t,r),Object(i.E)(c))){if(e.interpolator)return e.interpolator(c);Object(i.o)(`Scale type ${n} does not support interpolating color schemes.`)}if(c&&Object(a.A)(n))return e.interpolator(Object(a.v)(m(c,t.reverse),t.interpolate,t.interpolateGamma));c&&t.interpolate&&e.interpolate?e.interpolate(Object(a.u)(t.interpolate,t.interpolateGamma)):Object(i.E)(e.round)?e.round(o):Object(i.E)(e.rangeRound)&&e.interpolate(o?s.a:u.a);c&&e.range(m(c,t.reverse))}(n,e,function(e,t,r){let n=t.bins;if(n&&!Object(i.B)(n)){const t=e.domain(),r=t[0],a=Object(i.V)(t),s=n.step;let u=null==n.start?r:n.start,c=null==n.stop?a:n.stop;s||Object(i.o)("Scale bins parameter missing step property."),u<r&&(u=s*Math.ceil(r/s)),c>a&&(c=s*Math.floor(a/s)),n=Object(o.a)(u,c+s/2,s)}n?e.bins=n:e.bins&&delete e.bins;e.type===a.b&&(n?t.domain||t.domainRaw||(e.domain(n),r=n.length):e.bins=e.domain());return r}(n,e,function(e,t,r){var n=function(e,t,r){return t?(e.domain(d(e.type,t,r)),t.length):-1}(e,t.domainRaw,r);if(n>-1)return n;var o,s,u=t.domain,f=e.type,l=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===a.e||t===a.i||t===a.m)}(e);if(!u)return 0;c(f)&&t.padding&&u[0]!==Object(i.V)(u)&&(u=function(e,t,r,n,o,s){var u=Math.abs(Object(i.V)(r)-r[0]),c=u/(u-2*n),f=e===a.f?Object(i.nb)(t,null,c):e===a.m?Object(i.ob)(t,null,c,.5):e===a.i?Object(i.ob)(t,null,c,o||1):e===a.o?Object(i.pb)(t,null,c,s||1):Object(i.mb)(t,null,c);return(t=t.slice())[0]=f[0],t[t.length-1]=f[1],t}(f,u,t.range,t.padding,t.exponent,t.constant));if((l||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(o=(u=u.slice()).length-1||1,l&&(u[0]>0&&(u[0]=0),u[o]<0&&(u[o]=0)),null!=t.domainMin&&(u[0]=t.domainMin),null!=t.domainMax&&(u[o]=t.domainMax),null!=t.domainMid)){const e=(s=t.domainMid)>u[o]?o+1:s<u[0]?0:o;e!==o&&r.warn("Scale domainMid exceeds domain min or max.",s),u.splice(e,0,s)}e.domain(d(f,u,r)),f===a.g&&e.unknown(t.domainImplicit?a.K:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Object(a.M)(e,t.nice)||null);return u.length}(n,e,r))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}Object(i.z)(a,n.g,{transform(e,t){const r=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return r&&t.source.sort(Object(n.q)(e.sort)),this.modified(r),t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(1);const a=["y0","y1"];function o(e){n.g.call(this,null,e)}function s(e,t,r,n,i){for(var a,o=(t-e.sum)/2,s=e.length,u=0;u<s;++u)(a=e[u])[n]=o,a[i]=o+=Math.abs(r(a))}function u(e,t,r,n,i){for(var a,o=1/e.sum,s=0,u=e.length,c=0,f=0;c<u;++c)(a=e[c])[n]=s,a[i]=s=o*(f+=Math.abs(r(a)))}function c(e,t,r,n,i){for(var a,o,s=0,u=0,c=e.length,f=0;f<c;++f)(a=+r(o=e[f]))<0?(o[n]=u,o[i]=u+=a):(o[n]=s,o[i]=s+=a)}o.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:a}]},Object(i.z)(o,n.g,{transform(e,t){var r,o,f,l,d=e.as||a,p=d[0],m=d[1],b=Object(n.q)(e.sort),h=e.field||i.P,g="center"===e.offset?s:"normalize"===e.offset?u:c;for(r=function(e,t,r,n){var i,a,o,s,u,c,f,l,d,p=[],m=e=>e(u);if(null==t)p.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)u=e[a],c=t.map(m),(f=i[c])||(i[c]=f=[],p.push(f)),f.push(u);for(c=0,d=0,s=p.length;c<s;++c){for(f=p[c],a=0,l=0,o=f.length;a<o;++a)l+=Math.abs(n(f[a]));f.sum=l,l>d&&(d=l),r&&f.sort(r)}return p.max=d,p}(t.source,e.groupby,b,h),o=0,f=r.length,l=r.max;o<f;++o)g(r[o],l,h,p,m);return t.reflow(e.modified()).modifies(d)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(14),i=r(1),a=r(712),o=r(713),s=r(749),u=r(751),c=r(750);function f(e){n.g.call(this,null,e)}f.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(i.z)(f,n.g,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var r,f,l=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=Object(s.a)().smooth(!1!==e.smooth),p=e.values,m=e.thresholds||Object(c.a)(e.count||10,e.nice,!!p),b=e.size;return p||(p=t.materialize(t.SOURCE).source,r=Object(o.b)(Object(u.a)(),e)(p,!0),f=Object(a.b)(r,r.scale||1,r.scale||1,0,0),b=[r.width,r.height],p=r.values),m=Object(i.B)(m)?m:m(p),p=d.size(b)(p,m),f&&p.forEach(f),this.value&&(l.rem=this.value),this.value=l.source=l.add=(p||[]).map(n.l),l}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(389),i=r(14),a=r(1);function o(e){i.g.call(this,null,e)}o.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(a.z)(o,i.g,{transform(e,t){var r,i=this._features,o=this._points,s=e.fields,u=s&&s[0],c=s&&s[1],f=e.geojson||!s&&a.y,l=t.ADD;r=e.modified()||t.changed(t.REM)||t.modified(Object(a.g)(f))||u&&t.modified(Object(a.g)(u))||c&&t.modified(Object(a.g)(c)),this.value&&!r||(l=t.SOURCE,this._features=i=[],this._points=o=[]),f&&t.visit(l,e=>i.push(f(e))),u&&c&&(t.visit(l,e=>{var t=u(e),r=c(e);null!=t&&null!=r&&(t=+t)===t&&(r=+r)===r&&o.push([t,r])}),i=i.concat({type:n.a,geometry:{type:n.c,coordinates:o}})),this.value={type:n.b,features:i}}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(340),a=r(1);function o(e){n.g.call(this,null,e)}o.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(a.z)(o,n.g,{transform(e,t){var r=t.fork(t.ALL),n=this.value,o=e.field||a.y,s=e.as||"path",u=r.SOURCE;!n||e.modified()?(this.value=n=Object(i.a)(e.projection),r.materialize().reflow()):u=o===a.y||t.modified(o.fields)?r.ADD_MOD:r.ADD;var c=function(e,t){var r=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return r}(n,e.pointRadius);return r.visit(u,e=>e[s]=n(o(e))),n.pointRadius(c),r.modifies(s)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}a.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(i.z)(a,n.g,{transform(e,t){var r,n=e.projection,i=e.fields[0],a=e.fields[1],o=e.as||["x","y"],s=o[0],u=o[1];function c(e){var t=n([i(e),a(e)]);t?(e[s]=t[0],e[u]=t[1]):(e[s]=void 0,e[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(r=t.modified(i.fields)||t.modified(a.fields),t.visit(r?t.ADD_MOD:t.ADD,c)),t.modifies(o)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(340),a=r(1);function o(e){n.g.call(this,null,e)}o.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(a.z)(o,n.g,{transform(e,t){var r=t.fork(t.ALL),n=this.value,o=e.as||"shape",s=r.ADD;return n&&!e.modified()||(this.value=n=function(e,t,r){var n=null==r?r=>e(t(r)):n=>{var i=e.pointRadius(),a=e.pointRadius(r)(t(n));return e.pointRadius(i),a};return n.context=t=>(e.context(t),n),n}(Object(i.a)(e.projection),e.field||Object(a.u)("datum"),e.pointRadius),r.materialize().reflow(),s=r.SOURCE),r.visit(s,e=>e[o]=n),r.modifies(o)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(1),a=r(2001);function o(e){n.g.call(this,[],e),this.generator=Object(a.a)()}o.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(i.z)(o,n.g,{transform(e,t){var r,a=this.value,o=this.generator;if(!a.length||e.modified())for(var s in e)Object(i.E)(o[s])&&o[s](e[s]);return r=o(),a.length?t.mod.push(Object(n.p)(a[0],r)):t.add.push(Object(n.l)(r)),a[0]=r,t}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(445),i=r(143),a=r(283),o=r(14),s=r(1);function u(e){o.g.call(this,null,e)}function c(e){if(!Object(s.E)(e))return!1;const t=Object(s.eb)(Object(s.g)(e));return t.$x||t.$y||t.$value||t.$max}u.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(s.z)(u,o.g,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var r=t.materialize(t.SOURCE).source,o="shared"===e.resolve,u=e.field||s.y,f=function(e,t){let r;Object(s.E)(e)?(r=r=>e(r,t),r.dep=c(e)):e?r=Object(s.m)(e):(r=e=>e.$value/e.$max||0,r.dep=!0);return r}(e.opacity,e),l=function(e,t){let r;Object(s.E)(e)?(r=r=>Object(i.g)(e(r,t)),r.dep=c(e)):r=Object(s.m)(Object(i.g)(e||"#888"));return r}(e.color,e),d=e.as||"image",p={$x:0,$y:0,$value:0,$max:o?Object(n.a)(r.map(e=>Object(n.a)(u(e).values))):0};return r.forEach(e=>{const t=u(e),r=Object(s.p)({},e,p);o||(r.$max=Object(n.a)(t.values||[])),e[d]=function(e,t,r,n){const i=e.width,o=e.height,u=e.x1||0,c=e.y1||0,f=e.x2||i,l=e.y2||o,d=e.values,p=d?e=>d[e]:s.lb,m=Object(a.a)(f-u,l-c),b=m.getContext("2d"),h=b.getImageData(0,0,f-u,l-c),g=h.data;for(let e=c,a=0;e<l;++e){t.$y=e-c;for(let o=u,s=e*i;o<f;++o,a+=4){t.$x=o-u,t.$value=p(o+s);const e=r(t);g[a+0]=e.r,g[a+1]=e.g,g[a+2]=e.b,g[a+3]=~~(255*n(t))}}return b.putImageData(h,0,0),m}(t,r,l.dep?l:Object(s.m)(l(r)),f.dep?f:Object(s.m)(f(r)))}),t.reflow(!0).modifies(d)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(389),i=r(14),a=r(340),o=r(1);function s(e){i.g.call(this,null,e),this.modified(!0)}function u(e,t,r){Object(o.E)(e[t])&&e[t](r)}Object(o.z)(s,i.g,{transform(e,t){let r=this.value;return!r||e.modified("type")?(this.value=r=function(e){var t=Object(a.b)((e||"mercator").toLowerCase());t||Object(o.o)("Unrecognized projection type: "+e);return t()}(e.type),a.c.forEach(t=>{null!=e[t]&&u(r,t,e[t])})):a.c.forEach(t=>{e.modified(t)&&u(r,t,e[t])}),null!=e.pointRadius&&r.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var r=function(e){return 1===(e=Object(o.i)(e)).length?e[0]:{type:n.b,features:e.reduce((e,t)=>e.concat(function(e){return e.type===n.b?e.features:Object(o.i)(e).filter(e=>null!=e).map(e=>e.type===n.a?e:{type:n.a,geometry:e})}(t)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,r):t.size&&e.fitSize(t.size,r)}(r,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(14),i=r(1),a=r(2002),o=r(2003),s=r(2004),u=r(2006),c=r(2007),f=r(2008),l=r(842);const d={center:a.a,collide:o.a,nbody:s.a,link:u.a,x:c.a,y:f.a},p=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],m=["static","iterations"],b=["x","y","vx","vy"];function h(e){n.g.call(this,null,e)}function g(e,t,r,n){var a,o,s,u,c=Object(i.i)(t.forces);for(a=0,o=p.length;a<o;++a)"forces"!==(s=p[a])&&t.modified(s)&&e[s](t[s]);for(a=0,o=c.length;a<o;++a)u="forces"+a,(s=r||t.modified("forces",a)?O(c[a]):n&&y(c[a],n)?e.force(u):null)&&e.force(u,s);for(o=e.numForces||0;a<o;++a)e.force("forces"+a,null);return e.numForces=c.length,e}function y(e,t){var r,n;for(r in e)if(Object(i.E)(n=e[r])&&t.modified(Object(i.g)(n)))return 1;return 0}function O(e){var t,r;for(r in Object(i.w)(d,e.force)||Object(i.o)("Unrecognized force: "+e.force),t=d[e.force](),e)Object(i.E)(t[r])&&v(t[r],e[r],e);return t}function v(e,t,r){e(Object(i.E)(t)?e=>t(e,r):t)}h.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:b}]},Object(i.z)(h,n.g,{transform(e,t){var r,n,i=this.value,a=t.changed(t.ADD_REM),o=e.modified(p),s=e.iterations||300;if(i?(a&&(t.modifies("index"),i.nodes(t.source)),(o||t.changed(t.MOD))&&g(i,e,0,t)):(this.value=i=function(e,t){const r=Object(l.a)(e),n=r.stop,i=r.restart;let a=!1;return r.stopped=()=>a,r.restart=()=>(a=!1,i()),r.stop=()=>(a=!0,n()),g(r,t,!0).on("end",()=>a=!0)}(t.source,e),i.on("tick",(r=t.dataflow,n=this,()=>r.touch(n).run())),e.static||(a=!0,i.tick()),t.modifies("index")),o||a||e.modified(m)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/s)),e.static)for(i.stop();--s>=0;)i.tick();else if(i.stopped()&&i.restart(),!a)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const r=t.dataflow;for(let e,t=this._argops,s=0,u=t.length;s<u;++s)if(e=t[s],"forces"===e.name&&"link"===e.op._argval.force)for(var n,i=e.op._argops,a=0,o=i.length;a<o;++a)if("links"===i[a].name&&(n=i[a].op.source)){r.pulse(n,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(b)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(623),i=r(14),a=r(1),o=r(561);function s(e){i.g.call(this,null,e)}s.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const u=e=>e.values;function c(){const e=[],t={entries:t=>function t(r,n){if(++n>e.length)return r;const i=[];for(const e in r)i.push({key:e,values:t(r[e],n)});return i}(function t(r,n){if(n>=e.length)return r;const i=r.length,a=e[n++],o={},s={};let u,c,f,l=-1;for(;++l<i;)u=a(c=r[l])+"",(f=o[u])?f.push(c):o[u]=[c];for(u in o)s[u]=t(o[u],n);return s}(t,0),0),key:r=>(e.push(r),t)};return t}Object(a.z)(s,i.g,{transform(e,t){t.source||Object(a.o)("Nest transform requires an upstream data source.");var r=e.generate,s=e.modified(),f=t.clone(),l=this.value;return(!l||s||t.changed())&&(l&&l.each(e=>{e.children&&Object(i.n)(e.data)&&f.rem.push(e.data)}),this.value=l=Object(o.c)({values:Object(a.i)(e.keys).reduce((e,t)=>(e.key(t),e),c()).entries(f.source)},u),r&&l.each(e=>{e.children&&(e=Object(i.l)(e.data),f.add.push(e),f.source.push(e))}),Object(n.a)(l,i.t,i.t)),f.source.root=l,f}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(297),i=r(1),a=r(2009);const o=["x","y","r","depth","children"];function s(e){n.a.call(this,e)}s.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:o.length,default:o}]},Object(i.z)(s,n.a,{layout:a.a,params:["radius","size","padding"],fields:o})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(297),i=r(1),a=r(2010);const o=["x0","y0","x1","y1","depth","children"];function s(e){n.a.call(this,e)}s.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:o.length,default:o}]},Object(i.z)(s,n.a,{layout:a.a,params:["size","round","padding"],fields:o})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(623),i=r(14),a=r(1),o=r(1671);function s(e){i.g.call(this,null,e)}s.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(a.z)(s,i.g,{transform(e,t){t.source||Object(a.o)("Stratify transform requires an upstream data source.");let r=this.value;const i=e.modified(),s=t.fork(t.ALL).materialize(t.SOURCE),u=!r||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return s.source=s.source.slice(),u&&(r=s.source.length?Object(n.a)(Object(o.a)().id(e.key).parentId(e.parentKey)(s.source),e.key,a.hb):Object(n.a)(Object(o.a)()([{}]),e.key,e.key)),s.source.root=this.value=r,s}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(297),i=r(1),a=r(2011),o=r(2012),s={tidy:a.a,cluster:o.a};const u=["x","y","depth","children"];function c(e){n.a.call(this,e)}c.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:u.length,default:u}]},Object(i.z)(c,n.a,{layout(e){var t=e||"tidy";if(Object(i.w)(s,t))return s[t]();Object(i.o)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:u})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,[],e)}a.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(i.z)(a,n.g,{transform(e,t){const r=this.value,a=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),s={};return a||Object(i.o)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=r,t.visit(t.SOURCE,e=>s[Object(n.t)(e)]=1),a.each(e=>{const t=e.data,r=e.parent&&e.parent.data;r&&s[Object(n.t)(t)]&&s[Object(n.t)(r)]&&o.add.push(Object(n.l)({source:r,target:t}))}),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,e=>s[Object(n.t)(e)]=1),r.forEach(e=>{(s[Object(n.t)(e.source)]||s[Object(n.t)(e.target)])&&o.mod.push(e)})),o}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(297),i=r(1),a=r(2013),o=r(372),s=r(469),u=r(2014),c=r(562),f=r(2015),l=r(2016);const d={binary:a.a,dice:o.a,slice:s.a,slicedice:u.a,squarify:c.a,resquarify:f.a},p=["x0","y0","x1","y1","depth","children"];function m(e){n.a.call(this,e)}m.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p.length,default:p}]},Object(i.z)(m,n.a,{layout(){const e=Object(l.a)();return e.ratio=t=>{const r=e.tile();r.ratio&&e.tile(r.ratio(t))},e.method=t=>{Object(i.w)(d,t)?e.tile(d[t]):Object(i.o)("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:p})},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(758),i=r(74),a=r(14),o=r(1);function s(e){a.g.call(this,null,e)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(o.z)(s,a.g,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=t.materialize(t.SOURCE).source,u=Object(n.a)(s,e.groupby),c=(e.groupby||[]).map(o.h),f=c.length,l=e.as||[Object(o.h)(e.x),Object(o.h)(e.y)],d=[];u.forEach(t=>{Object(i.z)(t,e.x,e.y,e.bandwidth||.3).forEach(e=>{const r={};for(let e=0;e<f;++e)r[c[e]]=t.dims[e];r[l[0]]=e[0],r[l[1]]=e[1],d.push(Object(a.l)(r))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=d}return r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(758),i=r(14),a=r(74),o=r(1);const s={linear:a.y,log:a.A,exp:a.x,pow:a.C,quad:a.D,poly:a.B};function u(e){i.g.call(this,null,e)}u.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(s)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(o.z)(u,i.g,{transform(e,t){const r=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const u=t.materialize(t.SOURCE).source,c=Object(n.a)(u,e.groupby),f=(e.groupby||[]).map(o.h),l=e.method||"linear",d=e.order||3,p=((e,t)=>"poly"===e?t:"quad"===e?2:1)(l,d),m=e.as||[Object(o.h)(e.x),Object(o.h)(e.y)],b=s[l],h=[];let g=e.extent;Object(o.w)(s,l)||Object(o.o)("Invalid regression method: "+l),null!=g&&"log"===l&&g[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),c.forEach(r=>{if(r.length<=p)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const n=b(r,e.x,e.y,d);if(e.params)return void h.push(Object(i.l)({keys:r.dims,coef:n.coef,rSquared:n.rSquared}));const s=g||Object(o.q)(r,e.x),u=e=>{const t={};for(let e=0;e<f.length;++e)t[f[e]]=r.dims[e];t[m[0]]=e[0],t[m[1]]=e[1],h.push(Object(i.l)(t))};"linear"===l?s.forEach(e=>u([e,n.predict(e)])):Object(a.E)(n.predict,s,25,200).forEach(u)}),this.value&&(r.rem=this.value),this.value=r.add=r.source=h}return r}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14),i=r(1),a=r(2017);function o(e){n.g.call(this,null,e)}o.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const s=[-1e5,-1e5,1e5,1e5];function u(e){const t=e[0][0],r=e[0][1];let n=e.length-1;for(;e[n][0]===t&&e[n][1]===r;--n);return"M"+e.slice(0,n+1).join("L")+"Z"}Object(i.z)(o,n.g,{transform(e,t){const r=e.as||"path",n=t.source;if(!n||!n.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:s;const o=this.value=a.a.from(n,e.x,e.y).voronoi(i);for(let e=0,t=n.length;e<t;++e){const t=o.cellPolygon(e);n[e][r]=t?u(t):null}return t.reflow(e.modified()).modifies(r)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(1341),i=r(14),a=r(1),o=r(47),s=r(74),u=["x","y","font","fontSize","fontStyle","fontWeight","angle"],c=["text","font","rotate","fontSize","fontStyle","fontWeight"];function f(e){i.g.call(this,Object(n.a)(),e)}f.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:u}]},Object(a.z)(f,i.g,{transform(e,t){!e.size||e.size[0]&&e.size[1]||Object(a.o)("Wordcloud size dimensions must be non-zero.");const r=e.modified();if(!(r||t.changed(t.ADD_REM)||c.some((function(r){var n=e[r];return Object(a.E)(n)&&t.modified(n.fields)}))))return;const n=t.materialize(t.SOURCE).source,i=this.value,f=e.as||u;let l,d=e.fontSize||14;if(Object(a.E)(d)?l=e.fontSizeRange:d=Object(a.m)(d),l){const e=d,t=Object(o.I)("sqrt")().domain(Object(a.q)(n,e)).range(l);d=r=>t(e(r))}n.forEach(e=>{e[f[0]]=NaN,e[f[1]]=NaN,e[f[3]]=0});const p=i.words(n).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(d).random(s.p).layout(),m=i.size(),b=m[0]>>1,h=m[1]>>1,g=p.length;for(let e,t,r=0;r<g;++r)e=p[r],t=e.datum,t[f[0]]=e.x+b,t[f[1]]=e.y+h,t[f[2]]=e.font,t[f[3]]=e.size,t[f[4]]=e.style,t[f[5]]=e.weight,t[f[6]]=e.rotate;return t.reflow(r).modifies(f)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(1343),i=r(992),a=r(993),o=r(14),s=r(1);function u(e){o.g.call(this,Object(n.a)(),e),this._indices=null,this._dims=null}u.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},Object(s.z)(u,o.g,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some(e=>t.modified(e.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const r=e.fields,n=e.query,o=this._indices={},s=this._dims=[],u=n.length;let c,f,l=0;for(;l<u;++l)c=r[l].fname,f=o[c]||(o[c]=Object(a.a)()),s.push(Object(i.a)(f,l,n[l]));return this.eval(e,t)},reinit(e,t){const r=t.materialize().fork(),n=e.fields,o=e.query,s=this._indices,u=this._dims,c=this.value,f=c.curr(),l=c.prev(),d=c.all(),p=r.rem=r.add,m=r.mod,b=o.length,h={};let g,y,O,v,j,$,x,k,E;if(l.set(f),t.rem.length&&(j=this.remove(e,t,r)),t.add.length&&c.add(t.add),t.mod.length)for($={},v=t.mod,x=0,k=v.length;x<k;++x)$[v[x]._index]=1;for(x=0;x<b;++x)E=n[x],(!u[x]||e.modified("fields",x)||t.modified(E.fields))&&(O=E.fname,(g=h[O])||(s[O]=y=Object(a.a)(),h[O]=g=y.insert(E,t.source,0)),u[x]=Object(i.a)(y,x,o[x]).onAdd(g,f));for(x=0,k=c.data().length;x<k;++x)j[x]||(l[x]!==f[x]?p.push(x):$[x]&&f[x]!==d&&m.push(x));return c.mask=(1<<b)-1,r},eval(e,t){const r=t.materialize().fork(),n=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,r),i|=(1<<n)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,r)),t.add.length&&(this.insert(e,t,r),i|=(1<<n)-1),t.mod.length&&(this.modify(t,r),i|=(1<<n)-1),this.value.mask=i,r},insert(e,t,r){const n=t.add,i=this.value,a=this._dims,o=this._indices,s=e.fields,u={},c=r.add,f=i.size()+n.length,l=a.length;let d,p,m,b=i.size();i.resize(f,l),i.add(n);const h=i.curr(),g=i.prev(),y=i.all();for(d=0;d<l;++d)p=s[d].fname,m=u[p]||(u[p]=o[p].insert(s[d],n,b)),a[d].onAdd(m,h);for(;b<f;++b)g[b]=y,h[b]!==y&&c.push(b)},modify(e,t){const r=t.mod,n=this.value,i=n.curr(),a=n.all(),o=e.mod;let s,u,c;for(s=0,u=o.length;s<u;++s)c=o[s]._index,i[c]!==a&&r.push(c)},remove(e,t,r){const n=this._indices,i=this.value,a=i.curr(),o=i.prev(),s=i.all(),u={},c=r.rem,f=t.rem;let l,d,p,m;for(l=0,d=f.length;l<d;++l)p=f[l]._index,u[p]=1,o[p]=m=a[p],a[p]=s,m!==s&&c.push(p);for(p in n)n[p].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,r){const n=this._indices,i=this.value;e.runAfter(()=>{const e=i.remove(t,r);for(const t in n)n[t].reindex(e)})},update(e,t,r){const n=this._dims,i=e.query,a=t.stamp,o=n.length;let s,u,c=0;for(r.filters=0,u=0;u<o;++u)e.modified("query",u)&&(s=u,++c);if(1===c)c=n[s].one,this.incrementOne(n[s],i[s],r.add,r.rem);else for(u=0,c=0;u<o;++u)e.modified("query",u)&&(c|=n[u].one,this.incrementAll(n[u],i[u],a,r.add),r.rem=r.add);return c},incrementAll(e,t,r,n){const i=this.value,a=i.seen(),o=i.curr(),s=i.prev(),u=e.index(),c=e.bisect(e.range),f=e.bisect(t),l=f[0],d=f[1],p=c[0],m=c[1],b=e.one;let h,g,y;if(l<p)for(h=l,g=Math.min(p,d);h<g;++h)y=u[h],a[y]!==r&&(s[y]=o[y],a[y]=r,n.push(y)),o[y]^=b;else if(l>p)for(h=p,g=Math.min(l,m);h<g;++h)y=u[h],a[y]!==r&&(s[y]=o[y],a[y]=r,n.push(y)),o[y]^=b;if(d>m)for(h=Math.max(l,m),g=d;h<g;++h)y=u[h],a[y]!==r&&(s[y]=o[y],a[y]=r,n.push(y)),o[y]^=b;else if(d<m)for(h=Math.max(p,d),g=m;h<g;++h)y=u[h],a[y]!==r&&(s[y]=o[y],a[y]=r,n.push(y)),o[y]^=b;e.range=t.slice()},incrementOne(e,t,r,n){const i=this.value.curr(),a=e.index(),o=e.bisect(e.range),s=e.bisect(t),u=s[0],c=s[1],f=o[0],l=o[1],d=e.one;let p,m,b;if(u<f)for(p=u,m=Math.min(f,c);p<m;++p)b=a[p],i[b]^=d,r.push(b);else if(u>f)for(p=f,m=Math.min(u,l);p<m;++p)b=a[p],i[b]^=d,n.push(b);if(c>l)for(p=Math.max(u,l),m=c;p<m;++p)b=a[p],i[b]^=d,r.push(b);else if(c<l)for(p=Math.max(f,c),m=l;p<m;++p)b=a[p],i[b]^=d,n.push(b);e.range=t.slice()}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e){n.g.call(this,null,e)}a.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(i.z)(a,n.g,{transform(e,t){const r=~(e.ignore||0),n=e.filter,i=n.mask;if(0==(i&r))return t.StopPropagation;const a=t.fork(t.ALL),o=n.data(),s=n.curr(),u=n.prev(),c=e=>s[e]&r?null:o[e];return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,e=>{const t=s[e]&r;return!t&&t^u[e]&r?o[e]:null}),a.filter(a.REM,e=>{const t=s[e]&r;return t&&!(t^t^u[e]&r)?o[e]:null})):(a.filter(a.ADD,c),a.filter(a.REM,e=>(s[e]&r)===i?o[e]:null)),a.filter(a.SOURCE,e=>c(e._index))}})},function(e){e.exports=JSON.parse('{"a":"5.15.0"}')},function(e,t,r){"use strict";var n=r(1191);r.d(t,"a",(function(){return n.a}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var n=r(759),i=r(1344),a=r(844),o=r(493),s=r(994),u=r(1346),c=r(1347),f=r(1348),l=r(995),d=r(1351),p=r(1352),m=r(1353),b=r(349),h=r(1354),g=r(1361),y=r(645),O=r(998),v=r(1362),j=r(1363),$=r(625),x=r(14),k=r(280),E=r(77),w=r(1);function A(e,t){const r=this;if(t=t||{},x.a.call(r),t.loader&&r.loader(t.loader),t.logger&&r.logger(t.logger),null!=t.logLevel&&r.logLevel(t.logLevel),t.locale||e.locale){const n=Object(w.p)({},e.locale,t.locale);r.locale(Object(k.b)(n.number,n.time))}r._el=null,r._elBind=null,r._renderType=t.renderer||E.i.Canvas,r._scenegraph=new E.o;const n=r._scenegraph.root;r._renderer=null,r._tooltip=t.tooltip||j.a,r._redraw=!0,r._handler=(new E.b).scene(n),r._globalCursor=!1,r._preventDefault=!1,r._timers=[],r._eventListeners=[],r._resizeListeners=[],r._eventConfig=Object(s.b)(e.eventConfig),r.globalCursor(r._eventConfig.globalCursor);const o=Object(h.a)(r,e,t.expr);r._runtime=o,r._signals=o.signals,r._bind=(e.bindings||[]).map(e=>({state:null,param:Object(w.p)({},e)})),o.root&&o.root.set(n),n.source=o.data.root.input,r.pulse(o.data.root.input,r.changeset().insert(n.items)),r._width=r.width(),r._height=r.height(),r._viewWidth=Object(y.d)(r,r._width),r._viewHeight=Object(y.c)(r,r._height),r._origin=[0,0],r._resize=0,r._autosize=1,Object(y.a)(r),Object(i.a)(r),Object(a.a)(r),r.description(e.description),t.hover&&r.hover(),t.container&&r.initialize(t.container,t.bind)}function _(e,t){return Object(w.w)(e._signals,t)?e._signals[t]:Object(w.o)("Unrecognized signal name: "+Object(w.ab)(t))}function F(e,t){const r=(e._targets||[]).filter(e=>e._update&&e._update.handler===t);return r.length?r[0]:null}function D(e,t,r,n){var i=F(r,n);return i||((i=Object($.a)(e,()=>n(t,r.value))).handler=n,e.on(r,null,i)),e}function S(e,t,r){var n=F(t,r);return n&&t._targets.remove(n),e}Object(w.z)(A,x.a,{async evaluate(e,t,r){if(await x.a.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Object(b.c)(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}return r&&Object(x.h)(this,r),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&Object(n.a)(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,r){var n=_(this,e);return 1===arguments.length?n.value:this.update(n,t,r)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",Object(l.a)(e)):Object(l.a)(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(Object(E.R)(e)||Object(w.o)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(x.a.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(_(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:y.b,addEventListener(e,t,r){var n=t;return r&&!1===r.trap||((n=Object($.a)(this,t)).raw=t),this._handler.on(e,n),this},removeEventListener(e,t){for(var r,n,i=this._handler.handlers(e),a=i.length;--a>=0;)if(n=i[a].type,r=i[a].handler,e===n&&(t===r||t===r.raw)){this._handler.off(n,r);break}return this},addResizeListener(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,r=t.indexOf(e);return r>=0&&t.splice(r,1),this},addSignalListener(e,t){return D(this,e,_(this,e),t)},removeSignalListener(e,t){return S(this,_(this,e),t)},addDataListener(e,t){return D(this,e,Object(o.c)(this,e).values,t)},removeDataListener(e,t){return S(this,Object(o.c)(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=Object(a.b)(this,null);this._globalCursor=!!e,t&&Object(a.b)(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:v.a,events:s.a,finalize:c.a,hover:u.a,data:o.b,change:o.a,insert:o.d,remove:o.e,scale:g.a,initialize:f.a,toImageURL:d.a,toCanvas:p.a,toSVG:m.a,getState:O.a,setState:O.b})},function(e,t,r){"use strict";var n,i,a,o,s,u=r(148);(n={})[1]="Boolean",n[2]="<end>",n[3]="Identifier",n[4]="Keyword",n[5]="Null",n[6]="Numeric",n[7]="Punctuator",n[8]="String",n[9]="RegularExpression";var c="ILLEGAL",f=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),l=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function d(e,t){if(!e)throw new Error("ASSERT: "+t)}function p(e){return e>=48&&e<=57}function m(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function b(e){return"01234567".indexOf(e)>=0}function h(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function g(e){return 10===e||13===e||8232===e||8233===e}function y(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&f.test(String.fromCharCode(e))}function O(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&l.test(String.fromCharCode(e))}var v={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function j(){for(var e;a<o&&(h(e=i.charCodeAt(a))||g(e));)++a}function $(e){var t,r,n,s=0;for(r="u"===e?4:2,t=0;t<r;++t)a<o&&m(i[a])?(n=i[a++],s=16*s+"0123456789abcdef".indexOf(n.toLowerCase())):T({},"Unexpected token %0",c);return String.fromCharCode(s)}function x(){var e,t,r,n;for(t=0,"}"===(e=i[a])&&T({},"Unexpected token %0",c);a<o&&m(e=i[a++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&T({},"Unexpected token %0",c),t<=65535?String.fromCharCode(t):(r=55296+(t-65536>>10),n=56320+(t-65536&1023),String.fromCharCode(r,n))}function k(){var e,t;for(e=i.charCodeAt(a++),t=String.fromCharCode(e),92===e&&(117!==i.charCodeAt(a)&&T({},"Unexpected token %0",c),++a,(e=$("u"))&&"\\"!==e&&y(e.charCodeAt(0))||T({},"Unexpected token %0",c),t=e);a<o&&O(e=i.charCodeAt(a));)++a,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==i.charCodeAt(a)&&T({},"Unexpected token %0",c),++a,(e=$("u"))&&"\\"!==e&&O(e.charCodeAt(0))||T({},"Unexpected token %0",c),t+=e);return t}function E(){var e,t;return e=a,{type:1===(t=92===i.charCodeAt(a)?k():function(){var e,t;for(e=a++;a<o;){if(92===(t=i.charCodeAt(a)))return a=e,k();if(!O(t))break;++a}return i.slice(e,a)}()).length?3:v.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:a}}function w(){var e,t,r,n,o=a,s=i.charCodeAt(a),u=i[a];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++a,{type:7,value:String.fromCharCode(s),start:o,end:a};default:if(61===(e=i.charCodeAt(a+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return a+=2,{type:7,value:String.fromCharCode(s)+String.fromCharCode(e),start:o,end:a};case 33:case 61:return a+=2,61===i.charCodeAt(a)&&++a,{type:7,value:i.slice(o,a),start:o,end:a}}}return">>>="===(n=i.substr(a,4))?{type:7,value:n,start:o,end:a+=4}:">>>"===(r=n.substr(0,3))||"<<="===r||">>="===r?{type:7,value:r,start:o,end:a+=3}:u===(t=r.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===t?{type:7,value:t,start:o,end:a+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:o,end:++a}:void T({},"Unexpected token %0",c)}function A(){var e,t,r;if(d(p((r=i[a]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),t=a,e="","."!==r){if(e=i[a++],r=i[a],"0"===e){if("x"===r||"X"===r)return++a,function(e){for(var t="";a<o&&m(i[a]);)t+=i[a++];return 0===t.length&&T({},"Unexpected token %0",c),y(i.charCodeAt(a))&&T({},"Unexpected token %0",c),{type:6,value:parseInt("0x"+t,16),start:e,end:a}}(t);if(b(r))return function(e){for(var t="0"+i[a++];a<o&&b(i[a]);)t+=i[a++];return(y(i.charCodeAt(a))||p(i.charCodeAt(a)))&&T({},"Unexpected token %0",c),{type:6,value:parseInt(t,8),octal:!0,start:e,end:a}}(t);r&&p(r.charCodeAt(0))&&T({},"Unexpected token %0",c)}for(;p(i.charCodeAt(a));)e+=i[a++];r=i[a]}if("."===r){for(e+=i[a++];p(i.charCodeAt(a));)e+=i[a++];r=i[a]}if("e"===r||"E"===r)if(e+=i[a++],"+"!==(r=i[a])&&"-"!==r||(e+=i[a++]),p(i.charCodeAt(a)))for(;p(i.charCodeAt(a));)e+=i[a++];else T({},"Unexpected token %0",c);return y(i.charCodeAt(a))&&T({},"Unexpected token %0",c),{type:6,value:parseFloat(e),start:t,end:a}}function _(){var e,t,r,n;return s=null,j(),e=a,t=function(){var e,t,r,n;for(d("/"===(e=i[a]),"Regular expression literal must start with a slash"),t=i[a++],r=!1,n=!1;a<o;)if(t+=e=i[a++],"\\"===e)g((e=i[a++]).charCodeAt(0))&&T({},"Invalid regular expression: missing /"),t+=e;else if(g(e.charCodeAt(0)))T({},"Invalid regular expression: missing /");else if(r)"]"===e&&(r=!1);else{if("/"===e){n=!0;break}"["===e&&(r=!0)}return n||T({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),r=function(){var e,t,r;for(t="",r="";a<o&&O((e=i[a]).charCodeAt(0));)++a,"\\"===e&&a<o?T({},"Unexpected token %0",c):(r+=e,t+=e);return r.search(/[^gimuy]/g)>=0&&T({},"Invalid regular expression",r),{value:r,literal:t}}(),n=function(e,t){var r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}/g,(e,t)=>{if(parseInt(t,16)<=1114111)return"x";T({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(r)}catch(e){T({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(e){return null}}(t.value,r.value),{literal:t.literal+r.literal,value:n,regex:{pattern:t.value,flags:r.value},start:e,end:a}}function F(){var e;return j(),a>=o?{type:2,start:a,end:a}:y(e=i.charCodeAt(a))?E():40===e||41===e||59===e?w():39===e||34===e?function(){var e,t,r,n,s="",u=!1;for(d("'"===(e=i[a])||'"'===e,"String literal must starts with a quote"),t=a,++a;a<o;){if((r=i[a++])===e){e="";break}if("\\"===r)if((r=i[a++])&&g(r.charCodeAt(0)))"\r"===r&&"\n"===i[a]&&++a;else switch(r){case"u":case"x":"{"===i[a]?(++a,s+=x()):s+=$(r);break;case"n":s+="\n";break;case"r":s+="\r";break;case"t":s+="\t";break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;default:b(r)?(0!==(n="01234567".indexOf(r))&&(u=!0),a<o&&b(i[a])&&(u=!0,n=8*n+"01234567".indexOf(i[a++]),"0123".indexOf(r)>=0&&a<o&&b(i[a])&&(n=8*n+"01234567".indexOf(i[a++]))),s+=String.fromCharCode(n)):s+=r}else{if(g(r.charCodeAt(0)))break;s+=r}}return""!==e&&T({},"Unexpected token %0",c),{type:8,value:s,octal:u,start:t,end:a}}():46===e?p(i.charCodeAt(a+1))?A():w():p(e)?A():w()}function D(){var e;return a=(e=s).end,s=F(),a=e.end,e}function S(){var e;e=a,s=F(),a=e}function C(e,t,r){var n=new u.c("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return n.operator=e,n.left=t,n.right=r,n}function M(e,t){var r=new u.c("CallExpression");return r.callee=e,r.arguments=t,r}function q(e){var t=new u.c("Identifier");return t.name=e,t}function z(e){var t=new u.c("Literal");return t.value=e.value,t.raw=i.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function R(e,t,r){var n=new u.c("MemberExpression");return n.computed="["===e,n.object=t,n.property=r,n.computed||(r.member=!0),n}function B(e,t,r){var n=new u.c("Property");return n.key=t,n.value=r,n.kind=e,n}function T(e,t){var r,n=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(e,t)=>(d(t<n.length,"Message reference must be in range"),n[t]));throw(r=new Error(i)).index=a,r.description=i,r}function I(e){2===e.type&&T(e,"Unexpected end of input"),6===e.type&&T(e,"Unexpected number"),8===e.type&&T(e,"Unexpected string"),3===e.type&&T(e,"Unexpected identifier"),4===e.type&&T(e,"Unexpected reserved word"),T(e,"Unexpected token %0",e.value)}function P(e){var t=D();7===t.type&&t.value===e||I(t)}function L(e){return 7===s.type&&s.value===e}function N(e){return 4===s.type&&s.value===e}function V(){var e=[];for(a=s.start,P("[");!L("]");)L(",")?(D(),e.push(null)):(e.push(te()),L("]")||P(","));return D(),function(e){var t=new u.c("ArrayExpression");return t.elements=e,t}(e)}function U(){var e;return a=s.start,8===(e=D()).type||6===e.type?(e.octal&&T(e,"Octal literals are not allowed in strict mode."),z(e)):q(e.value)}function G(){var e,t,r;return a=s.start,3===(e=s).type?(r=U(),P(":"),B("init",r,te())):2!==e.type&&7!==e.type?(t=U(),P(":"),B("init",t,te())):void I(e)}function W(){var e,t,r=[],n={},i=String;for(a=s.start,P("{");!L("}");)t="$"+("Identifier"===(e=G()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(n,t)?T({},"Duplicate data property in object literal not allowed in strict mode"):n[t]=!0,r.push(e),L("}")||P(",");return P("}"),function(e){var t=new u.c("ObjectExpression");return t.properties=e,t}(r)}var H={if:1};function X(){var e,t,r;if(L("("))return function(){var e;return P("("),e=re(),P(")"),e}();if(L("["))return V();if(L("{"))return W();if(e=s.type,a=s.start,3===e||H[s.value])r=q(D().value);else if(8===e||6===e)s.octal&&T(s,"Octal literals are not allowed in strict mode."),r=z(D());else{if(4===e)throw new Error("Disabled.");1===e?((t=D()).value="true"===t.value,r=z(t)):5===e?((t=D()).value=null,r=z(t)):L("/")||L("/=")?(r=z(_()),S()):I(D())}return r}function Y(){var e=[];if(P("("),!L(")"))for(;a<o&&(e.push(te()),!L(")"));)P(",");return P(")"),e}function J(){return P("."),a=s.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=D())||I(e),q(e.value);var e}function K(){var e;return P("["),e=re(),P("]"),e}function Q(){var e=function(){var e;for(e=X();;)if(L("."))e=R(".",e,J());else if(L("("))e=M(e,Y());else{if(!L("["))break;e=R("[",e,K())}return e}();if(7===s.type&&(L("++")||L("--")))throw new Error("Disabled.");return e}function Z(){var e,t,r,n,i;if(7!==s.type&&4!==s.type)t=Q();else{if(L("++")||L("--"))throw new Error("Disabled.");if(L("+")||L("-")||L("~")||L("!"))e=D(),t=Z(),r=e.value,n=t,(i=new u.c("UnaryExpression")).operator=r,i.argument=n,i.prefix=!0,t=i;else{if(N("delete")||N("void")||N("typeof"))throw new Error("Disabled.");t=Q()}}return t}function ee(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function te(){var e,t;return e=function(){var e,t,r,n,i,a,o,u,c,f;if(e=s,c=Z(),0===(i=ee(n=s)))return c;for(n.prec=i,D(),t=[e,s],a=[c,n,o=Z()];(i=ee(s))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),u=a.pop().value,c=a.pop(),t.pop(),r=C(u,c,o),a.push(r);(n=D()).prec=i,a.push(n),t.push(s),r=Z(),a.push(r)}for(r=a[f=a.length-1],t.pop();f>1;)t.pop(),r=C(a[f-1].value,a[f-2],r),f-=2;return r}(),L("?")&&(D(),t=te(),P(":"),e=function(e,t,r){var n=new u.c("ConditionalExpression");return n.test=e,n.consequent=t,n.alternate=r,n}(e,t,te())),e}function re(){var e=te();if(L(","))throw new Error("Disabled.");return e}t.a=function(e){a=0,o=(i=e).length,s=null,S();var t=re();if(2!==s.type)throw new Error("Unexpect token after expression.");return t}},function(e,t,r){"use strict";var n=r(715),i=r(716),a=r(1);t.a=function(e){const t=(e=e||{}).whitelist?Object(a.eb)(e.whitelist):{},r=e.blacklist?Object(a.eb)(e.blacklist):{},o=e.constants||n.a,s=(e.functions||i.a)(m),u=e.globalvar,c=e.fieldvar,f=Object(a.E)(u)?u:e=>`${u}["${e}"]`;let l={},d={},p=0;function m(e){if(Object(a.I)(e))return e;const t=b[e.type];return null==t&&Object(a.o)("Unsupported type: "+e.type),t(e)}const b={Literal:e=>e.raw,Identifier:e=>{const n=e.name;return p>0?n:Object(a.w)(r,n)?Object(a.o)("Illegal identifier: "+n):Object(a.w)(o,n)?o[n]:Object(a.w)(t,n)?n:(l[n]=1,f(n))},MemberExpression:e=>{const t=!e.computed,r=m(e.object);t&&(p+=1);const n=m(e.property);return r===c&&(d[function(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(n)]=1),t&&(p-=1),r+(t?"."+n:"["+n+"]")},CallExpression:e=>{"Identifier"!==e.callee.type&&Object(a.o)("Illegal callee type: "+e.callee.type);const t=e.callee.name,r=e.arguments,n=Object(a.w)(s,t)&&s[t];return n||Object(a.o)("Unrecognized function: "+t),Object(a.E)(n)?n(r):n+"("+r.map(m).join(",")+")"},ArrayExpression:e=>"["+e.elements.map(m).join(",")+"]",BinaryExpression:e=>"("+m(e.left)+e.operator+m(e.right)+")",UnaryExpression:e=>"("+e.operator+m(e.argument)+")",ConditionalExpression:e=>"("+m(e.test)+"?"+m(e.consequent)+":"+m(e.alternate)+")",LogicalExpression:e=>"("+m(e.left)+e.operator+m(e.right)+")",ObjectExpression:e=>"{"+e.properties.map(m).join(",")+"}",Property:e=>{p+=1;const t=m(e.key);return p-=1,t+":"+m(e.value)}};function h(e){const t={code:m(e),globals:Object.keys(l),fields:Object.keys(d)};return l={},d={},t}return h.functions=s,h.constants=o,h}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(324),i=r(1);function a(e,t){for(var r,n,a=t.fields,o=t.values,s=a.length,u=0;u<s;++u)if((n=a[u]).getter=i.u.getter||Object(i.u)(n.field),r=n.getter(e),Object(i.D)(r)&&(r=Object(i.db)(r)),Object(i.D)(o[u])&&(o[u]=Object(i.db)(o[u])),Object(i.D)(o[u][0])&&(o[u]=o[u].map(i.db)),"E"===n.type){if(Object(i.B)(o[u])?o[u].indexOf(r)<0:r!==o[u])return!1}else if("R"===n.type){if(!Object(i.A)(r,o[u]))return!1}else if("R-RE"===n.type){if(!Object(i.A)(r,o[u],!0,!1))return!1}else if("R-E"===n.type){if(!Object(i.A)(r,o[u],!1,!1))return!1}else if("R-LE"===n.type&&!Object(i.A)(r,o[u],!1,!0))return!1;return!0}function o(e,t,r){for(var i,o,s,u,c,f=this.context.data[e],l=f?f.values.value:[],d=f?f["index:unit"]&&f["index:unit"].value:void 0,p=r===n.b,m=l.length,b=0;b<m;++b)if(i=l[b],d&&p){if(-1===(s=(o=o||{})[u=i.unit]||0))continue;if(c=a(t,i),o[u]=c?-1:++s,c&&1===d.size)return!0;if(!c&&s===d.get(u).count)return!1}else if(p^(c=a(t,i)))return c;return m&&p}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(324),i=r(1);function a(e,t,r){for(var a,s,u,c,f,l,d,p,m,b,h,g=this.context.data[e],y=g?g.values.value:[],O={},v={},j={},$=y.length,x=0;x<$;++x){for(c=(a=y[x]).unit,s=a.fields,u=a.values,b=0,h=s.length;b<h;++b)f=s[b],d=(l=O[f.field]||(O[f.field]={}))[c]||(l[c]=[]),j[f.field]=p=f.type.charAt(0),m=o[p+"_union"],l[c]=m(d,Object(i.i)(u[b]));r&&(d=v[c]||(v[c]=[])).push(Object(i.i)(u).reduce((e,t,r)=>(e[s[r].field]=t,e),{}))}return t=t||n.d,Object.keys(O).forEach(e=>{O[e]=Object.keys(O[e]).map(t=>O[e][t]).reduce((r,n)=>void 0===r?n:o[j[e]+"_"+t](r,n))}),y=Object.keys(v),r&&y.length&&(O[n.e]=t===n.d?{[n.c]:y.reduce((e,t)=>(e.push.apply(e,v[t]),e),[])}:{[n.a]:y.map(e=>({[n.c]:v[e]}))}),O}var o={E_union:function(e,t){if(!e.length)return t;for(var r=0,n=t.length;r<n;++r)e.indexOf(t[r])<0&&e.push(t[r]);return e},E_intersect:function(e,t){return e.length?e.filter(e=>t.indexOf(e)>=0):t},R_union:function(e,t){var r=Object(i.db)(t[0]),n=Object(i.db)(t[1]);return r>n&&(r=t[1],n=t[0]),e.length?(e[0]>r&&(e[0]=r),e[1]<n&&(e[1]=n),e):[r,n]},R_intersect:function(e,t){var r=Object(i.db)(t[0]),n=Object(i.db)(t[1]);return r>n&&(r=t[1],n=t[0]),e.length?n<e[0]||e[1]<r?[]:(e[0]<r&&(e[0]=r),e[1]>n&&(e[1]=n),e):[r,n]}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(324),i=r(201),a=r(1);function o(e,t,r,o){t[0].type!==i.b&&Object(a.o)("First argument to selection functions must be a string literal.");const s=t[0].value,u=":"+s;(t.length>=2&&Object(a.V)(t).value)!==n.b||Object(a.w)(o,"@unit")||(o["@unit"]=r.getData(s).indataRef(r,"unit")),Object(a.w)(o,u)||(o[u]=r.getData(s).tuplesRef())}},function(e,t,r){"use strict";var n=r(402),i=r(218),a=r(201),o=r(1);t.a=function(e,t){const r={};let s;try{e=Object(o.I)(e)?e:Object(o.ab)(e)+"",s=Object(a.f)(e)}catch(t){Object(o.o)("Expression parse error: "+e)}s.visit(e=>{if(e.type!==a.a)return;const i=e.callee.name,o=n.b.visitors[i];o&&o(i,e.arguments,t,r)});const u=Object(n.a)(s);return u.globals.forEach(e=>{const n=i.d+e;!Object(o.w)(r,n)&&t.getSignal(e)&&(r[n]=t.signalRef(e))}),{$expr:Object(o.p)({code:u.code},t.options.ast?{ast:s}:null),$fields:u.fields,$params:r}}},function(e,t,r){"use strict";var n=r(1356),i=r(1357),a=r(996),o=r(1358),s=r(1359),u=r(1360),c=r(997),f=r(470);function l(e,t,r,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=n||i.a,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},r&&(this.functions=Object.create(r),this.functions.context=this)}function d(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}t.a=function(e,t,r,n){return new l(e,t,r,n)},l.prototype=d.prototype={fork(){const e=new d(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(t=>t!==e);const t=Object.keys(e.nodes);for(const r of t)e.nodes[r]._targets=null;for(const r of t)e.nodes[r].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const r=this,n=r.dataflow,i=e.value;if(r.set(e.id,t),Object(f.c)(e.type)&&i&&(i.$ingest?n.ingest(t,i.$ingest,i.$format):i.$request?n.preload(t,i.$request,i.$format):n.pulse(t,n.changeset().insert(i))),e.root&&(r.root=t),e.parent){var a=r.get(e.parent.$ref);a?(n.connect(a,[t]),t.targets().add(a)):(r.unresolved=r.unresolved||[]).push(()=>{a=r.get(e.parent.$ref),n.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(const n in e.data){const i=r.data[n]||(r.data[n]={});e.data[n].forEach(e=>i[e]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Object(f.b)(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,r,n,i){this.dataflow.on(t,r,n,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:n.a,parseOperator:a.a,parseOperatorParameters:a.b,parseParameters:o.a,parseStream:s.a,parseUpdate:u.a,getState:c.a,setState:c.b}},function(e,t,r){"use strict";var n=r(1200);r.d(t,"a",(function(){return n.a}));r(725),r(520),r(722),r(723),r(69),r(724),r(334)},function(e,t,r){"use strict";var n=r(1364),i=r(724),a=r(725),o=r(1);t.a=function(e,t,r){return Object(o.G)(e)||Object(o.o)("Input Vega specification must be an object."),t=Object(o.O)(Object(a.a)(),t,e.config),Object(n.a)(e,new i.a(t,r)).toRuntime()}},function(e,t,r){"use strict";const n=/[[\]{}]/,i={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let a,o;function s(e,t,r,n,i){const a=e.length;let o,s=0;for(;t<a;++t){if(o=e[t],!s&&o===r)return t;i&&i.indexOf(o)>=0?--s:n&&n.indexOf(o)>=0&&++s}return t}function u(e){const t=[],r=e.length;let n=0,i=0;for(;i<r;)i=s(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function c(e){return"["===e[0]?function(e){const t=e.length;let r,n=1;if(n=s(e,n,"]","[","]"),n===t)throw"Empty between selector: "+e;if(r=u(e.substring(1,n)),2!==r.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(n+1).trim())[0])throw"Expected '>' after between selector: "+e;r=r.map(c);const i=c(e.slice(1).trim());if(i.between)return{between:r,stream:i};i.between=r;return i}(e):function(e){const t={source:a},r=[];let i,u,c=[0,0],f=0,l=0,d=e.length,p=0;if("}"===e[d-1]){if(p=e.lastIndexOf("{"),!(p>=0))throw"Unmatched right brace: "+e;try{c=function(e){const t=e.split(",");if(!e.length||t.length>2)throw e;return t.map(t=>{const r=+t;if(r!=r)throw e;return r})}(e.substring(p+1,d-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,p).trim(),d=e.length,p=0}if(!d)throw e;"@"===e[0]&&(f=++p);i=s(e,p,":"),i<d&&(r.push(e.substring(l,i).trim()),l=p=++i);if(p=s(e,p,"["),p===d)r.push(e.substring(l,d).trim());else if(r.push(e.substring(l,p).trim()),u=[],l=++p,l===d)throw"Unmatched left bracket: "+e;for(;p<d;){if(p=s(e,p,"]"),p===d)throw"Unmatched left bracket: "+e;if(u.push(e.substring(l,p).trim()),p<d-1&&"["!==e[++p])throw"Expected left bracket: "+e;l=++p}if(!(d=r.length)||n.test(r[d-1]))throw"Invalid event selector: "+e;d>1?(t.type=r[1],f?t.markname=r[0].slice(1):(m=r[0],o[m]?t.marktype=r[0]:t.source=r[0])):t.type=r[0];var m;"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1));null!=u&&(t.filter=u);c[0]&&(t.throttle=c[0]);c[1]&&(t.debounce=c[1]);return t}(e)}t.a=function(e,t,r){return a=t||"view",o=r||i,u(e.trim()).map(c)}},,,,,,,,,function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","title":"Vega Visualization Specification Language","defs":{"autosize":{"oneOf":[{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},{"type":"object","properties":{"type":{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},"resize":{"type":"boolean"},"contains":{"enum":["content","padding"]}},"required":["type"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"axis":{"type":"object","properties":{"orient":{"oneOf":[{"enum":["top","bottom","left","right"]},{"$ref":"#/refs/signal"}]},"scale":{"type":"string"},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/refs/signal"}]},"minExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"maxExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"position":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"bandPosition":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"translate":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"title":{"$ref":"#/refs/textOrSignal"},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domain":{"type":"boolean"},"domainCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"domainColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"domainDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"domainDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"ticks":{"type":"boolean"},"tickBand":{"$ref":"#/refs/tickBand"},"tickCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"tickColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"tickDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"tickDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickRound":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/booleanValue"}]},"tickSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickExtra":{"$ref":"#/refs/booleanOrSignal"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"grid":{"type":"boolean"},"gridScale":{"type":"string"},"gridCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"gridColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gridDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"gridDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labels":{"type":"boolean"},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"labelBound":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlush":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlushOffset":{"$ref":"#/refs/numberOrSignal"},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelPadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"axis":{"$ref":"#/defs/guideEncode"},"ticks":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"title":{"$ref":"#/defs/guideEncode"},"grid":{"$ref":"#/defs/guideEncode"},"domain":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"required":["orient","scale"],"additionalProperties":false},"background":{"$ref":"#/refs/stringOrSignal"},"bind":{"oneOf":[{"type":"object","properties":{"input":{"enum":["checkbox"]},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["radio","select"]},"element":{"$ref":"#/refs/element"},"options":{"type":"array"},"labels":{"type":"array","items":{"type":"string"}},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input","options"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["range"]},"element":{"$ref":"#/refs/element"},"min":{"type":"number"},"max":{"type":"number"},"step":{"type":"number"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"not":{"enum":["checkbox","radio","range","select"]}},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":true}]},"data":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"source":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"},"minItems":1}]},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["source","name"],"additionalProperties":false},{"type":"object","properties":{"url":{"$ref":"#/refs/stringOrSignal"},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"async":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["url","name"],"additionalProperties":false},{"type":"object","properties":{"values":{"oneOf":[{},{"$ref":"#/refs/signal"}]},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"async":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["values","name"],"additionalProperties":false}]},"rule":{"type":"object","properties":{"test":{"type":"string"}}},"encodeEntry":{"type":"object","properties":{"x":{"$ref":"#/refs/numberValue"},"x2":{"$ref":"#/refs/numberValue"},"xc":{"$ref":"#/refs/numberValue"},"width":{"$ref":"#/refs/numberValue"},"y":{"$ref":"#/refs/numberValue"},"y2":{"$ref":"#/refs/numberValue"},"yc":{"$ref":"#/refs/numberValue"},"height":{"$ref":"#/refs/numberValue"},"opacity":{"$ref":"#/refs/numberValue"},"fill":{"$ref":"#/refs/colorValue"},"fillOpacity":{"$ref":"#/refs/numberValue"},"stroke":{"$ref":"#/refs/colorValue"},"strokeOpacity":{"$ref":"#/refs/numberValue"},"strokeWidth":{"$ref":"#/refs/numberValue"},"strokeCap":{"$ref":"#/refs/strokeCapValue"},"strokeDash":{"$ref":"#/refs/arrayValue"},"strokeDashOffset":{"$ref":"#/refs/numberValue"},"strokeJoin":{"$ref":"#/refs/strokeJoinValue"},"strokeMiterLimit":{"$ref":"#/refs/numberValue"},"blend":{"$ref":"#/refs/blendValue"},"cursor":{"$ref":"#/refs/stringValue"},"tooltip":{"$ref":"#/refs/anyValue"},"zindex":{"$ref":"#/refs/numberValue"},"description":{"$ref":"#/refs/stringValue"},"aria":{"$ref":"#/refs/booleanValue"},"ariaRole":{"$ref":"#/refs/stringValue"},"ariaRoleDescription":{"$ref":"#/refs/stringValue"},"clip":{"$ref":"#/refs/booleanValue"},"strokeForeground":{"$ref":"#/refs/booleanValue"},"strokeOffset":{"$ref":"#/refs/numberValue"},"cornerRadius":{"$ref":"#/refs/numberValue"},"cornerRadiusTopLeft":{"$ref":"#/refs/numberValue"},"cornerRadiusTopRight":{"$ref":"#/refs/numberValue"},"cornerRadiusBottomRight":{"$ref":"#/refs/numberValue"},"cornerRadiusBottomLeft":{"$ref":"#/refs/numberValue"},"angle":{"$ref":"#/refs/numberValue"},"size":{"$ref":"#/refs/numberValue"},"shape":{"$ref":"#/refs/stringValue"},"path":{"$ref":"#/refs/stringValue"},"scaleX":{"$ref":"#/refs/numberValue"},"scaleY":{"$ref":"#/refs/numberValue"},"innerRadius":{"$ref":"#/refs/numberValue"},"outerRadius":{"$ref":"#/refs/numberValue"},"startAngle":{"$ref":"#/refs/numberValue"},"endAngle":{"$ref":"#/refs/numberValue"},"padAngle":{"$ref":"#/refs/numberValue"},"interpolate":{"$ref":"#/refs/stringValue"},"tension":{"$ref":"#/refs/numberValue"},"orient":{"$ref":"#/refs/directionValue"},"defined":{"$ref":"#/refs/booleanValue"},"url":{"$ref":"#/refs/stringValue"},"align":{"$ref":"#/refs/alignValue"},"baseline":{"$ref":"#/refs/baselineValue"},"aspect":{"$ref":"#/refs/booleanValue"},"smooth":{"$ref":"#/refs/booleanValue"},"text":{"$ref":"#/refs/textValue"},"dir":{"$ref":"#/refs/stringValue"},"ellipsis":{"$ref":"#/refs/stringValue"},"limit":{"$ref":"#/refs/numberValue"},"lineBreak":{"$ref":"#/refs/stringValue"},"lineHeight":{"$ref":"#/refs/numberValue"},"dx":{"$ref":"#/refs/numberValue"},"dy":{"$ref":"#/refs/numberValue"},"radius":{"$ref":"#/refs/numberValue"},"theta":{"$ref":"#/refs/numberValue"},"font":{"$ref":"#/refs/stringValue"},"fontSize":{"$ref":"#/refs/numberValue"},"fontWeight":{"$ref":"#/refs/fontWeightValue"},"fontStyle":{"$ref":"#/refs/stringValue"}},"additionalProperties":true},"encode":{"type":"object","additionalProperties":false,"patternProperties":{"^.+$":{"$ref":"#/defs/encodeEntry"}}},"layout":{"oneOf":[{"type":"object","properties":{"align":{"oneOf":[{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]},"bounds":{"oneOf":[{"enum":["full","flush"]},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/booleanOrSignal"},"column":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false}]},"columns":{"$ref":"#/refs/numberOrSignal"},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"rowHeader":{"$ref":"#/refs/numberOrSignal"},"rowFooter":{"$ref":"#/refs/numberOrSignal"},"rowTitle":{"$ref":"#/refs/numberOrSignal"},"columnHeader":{"$ref":"#/refs/numberOrSignal"},"columnFooter":{"$ref":"#/refs/numberOrSignal"},"columnTitle":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"headerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"footerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleAnchor":{"oneOf":[{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"guideEncode":{"type":"object","properties":{"name":{"type":"string"},"interactive":{"type":"boolean","default":false},"style":{"$ref":"#/refs/style"}},"additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}},"legend":{"allOf":[{"type":"object","properties":{"size":{"type":"string"},"shape":{"type":"string"},"fill":{"type":"string"},"stroke":{"type":"string"},"opacity":{"type":"string"},"strokeDash":{"type":"string"},"strokeWidth":{"type":"string"},"type":{"enum":["gradient","symbol"]},"direction":{"enum":["vertical","horizontal"]},"orient":{"oneOf":[{"enum":["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"right"},{"$ref":"#/refs/signal"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"symbolLimit":{"$ref":"#/refs/numberOrSignal"},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"cornerRadius":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"strokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"legendX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"legendY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"title":{"$ref":"#/refs/textOrSignal"},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOrient":{"oneOf":[{"enum":["left","right","top","bottom"]},{"$ref":"#/refs/orientValue"}]},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientLength":{"$ref":"#/refs/numberOrSignal"},"gradientOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gradientStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientThickness":{"$ref":"#/refs/numberOrSignal"},"clipHeight":{"$ref":"#/refs/numberOrSignal"},"columns":{"$ref":"#/refs/numberOrSignal"},"columnPadding":{"$ref":"#/refs/numberOrSignal"},"rowPadding":{"$ref":"#/refs/numberOrSignal"},"gridAlign":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"symbolDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"symbolDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolFillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolType":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/refs/signal"}]},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"title":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"legend":{"$ref":"#/defs/guideEncode"},"entries":{"$ref":"#/defs/guideEncode"},"symbols":{"$ref":"#/defs/guideEncode"},"gradient":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"additionalProperties":false},{"anyOf":[{"type":"object","required":["size"]},{"type":"object","required":["shape"]},{"type":"object","required":["fill"]},{"type":"object","required":["stroke"]},{"type":"object","required":["opacity"]},{"type":"object","required":["strokeDash"]},{"type":"object","required":["strokeWidth"]}]}]},"mark":{"type":"object","properties":{"type":{"$ref":"#/refs/marktype"},"role":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"aria":{"type":"boolean"},"style":{"$ref":"#/refs/style"},"key":{"type":"string"},"clip":{"$ref":"#/refs/markclip"},"sort":{"$ref":"#/refs/compare"},"interactive":{"$ref":"#/refs/booleanOrSignal"},"encode":{"$ref":"#/defs/encode"},"transform":{"type":"array","items":{"$ref":"#/defs/transformMark"}},"on":{"$ref":"#/defs/onMarkTrigger"}},"required":["type"]},"markGroup":{"allOf":[{"type":"object","properties":{"type":{"enum":["group"]},"from":{"oneOf":[{"$ref":"#/refs/from"},{"$ref":"#/refs/facet"}]}},"required":["type"]},{"$ref":"#/defs/mark"},{"$ref":"#/defs/scope"}]},"markVisual":{"allOf":[{"type":"object","properties":{"type":{"not":{"enum":["group"]}},"from":{"$ref":"#/refs/from"}}},{"$ref":"#/defs/mark"}]},"listener":{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"scale":{"type":"string"}},"required":["scale"]},{"$ref":"#/defs/stream"}]},"onEvents":{"type":"array","items":{"allOf":[{"type":"object","properties":{"events":{"oneOf":[{"$ref":"#/refs/selector"},{"$ref":"#/defs/listener"},{"type":"array","items":{"$ref":"#/defs/listener"},"minItems":1}]},"force":{"type":"boolean"}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"update":{"oneOf":[{"$ref":"#/refs/exprString"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]}]}},"required":["update"]}]}]}},"onTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"insert":{"$ref":"#/refs/exprString"},"remove":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/exprString"}]},"toggle":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"onMarkTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"padding":{"oneOf":[{"type":"number"},{"type":"object","properties":{"top":{"type":"number"},"bottom":{"type":"number"},"left":{"type":"number"},"right":{"type":"number"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"projection":{"type":"object","properties":{"name":{"type":"string"},"type":{"$ref":"#/refs/stringOrSignal"},"clipAngle":{"$ref":"#/refs/numberOrSignal"},"clipExtent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"scale":{"$ref":"#/refs/numberOrSignal"},"translate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"rotate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":3},{"$ref":"#/refs/signal"}]},"parallels":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"precision":{"$ref":"#/refs/numberOrSignal"},"pointRadius":{"$ref":"#/refs/numberOrSignal"},"fit":{"oneOf":[{"type":"object"},{"type":"array"}]},"extent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]}},"required":["name"],"additionalProperties":true},"scale":{"oneOf":[{"type":"object","properties":{"type":{"enum":["identity"]},"nice":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["ordinal"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"domainImplicit":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["band"]},"paddingInner":{"$ref":"#/refs/numberOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["point"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantize","threshold"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantile"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["bin-ordinal"]},"bins":{"$ref":"#/refs/scaleBins"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["time","utc"]},"nice":{"oneOf":[{"type":"boolean"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false}]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["linear","sqrt","sequential"]},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["log"]},"base":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["pow"]},"exponent":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["symlog"]},"constant":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false}]},"scope":{"type":"object","properties":{"encode":{"$ref":"#/defs/encode"},"layout":{"$ref":"#/defs/layout"},"signals":{"type":"array","items":{"$ref":"#/defs/signal"}},"data":{"type":"array","items":{"$ref":"#/defs/data"}},"scales":{"type":"array","items":{"$ref":"#/defs/scale"}},"projections":{"type":"array","items":{"$ref":"#/defs/projection"}},"axes":{"type":"array","items":{"$ref":"#/defs/axis"}},"legends":{"type":"array","items":{"$ref":"#/defs/legend"}},"title":{"$ref":"#/defs/title"},"marks":{"type":"array","items":{"oneOf":[{"$ref":"#/defs/markGroup"},{"$ref":"#/defs/markVisual"}]}},"usermeta":{"type":"object"}}},"signalName":{"type":"string","not":{"enum":["parent","datum","event","item"]}},"signal":{"oneOf":[{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"push":{"enum":["outer"]},"on":{"$ref":"#/defs/onEvents"}},"required":["name","push"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"react":{"type":"boolean","default":true},"update":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"init":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name","init"],"additionalProperties":false}]},"stream":{"allOf":[{"type":"object","properties":{"between":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":2,"maxItems":2},"marktype":{"type":"string"},"markname":{"type":"string"},"filter":{"oneOf":[{"$ref":"#/refs/exprString"},{"type":"array","items":{"$ref":"#/refs/exprString"},"minItems":1}]},"throttle":{"type":"number"},"debounce":{"type":"number"},"consume":{"type":"boolean"}}},{"oneOf":[{"type":"object","properties":{"type":{"type":"string"},"source":{"type":"string"}},"required":["type"]},{"type":"object","properties":{"stream":{"$ref":"#/defs/stream"}},"required":["stream"]},{"type":"object","properties":{"merge":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":1}},"required":["merge"]}]}]},"title":{"oneOf":[{"type":"string"},{"type":"object","properties":{"orient":{"oneOf":[{"enum":["none","left","right","top","bottom"],"default":"top"},{"$ref":"#/refs/signal"}]},"anchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"frame":{"oneOf":[{"enum":["group","bounds"]},{"$ref":"#/refs/stringValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"aria":{"type":"boolean"},"limit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"zindex":{"type":"number"},"align":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"angle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"baseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"dx":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"dy":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"text":{"$ref":"#/refs/textOrSignal"},"color":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"font":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"lineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitle":{"$ref":"#/refs/textOrSignal"},"subtitleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"subtitleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"subtitleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"subtitleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"subtitleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitlePadding":{"$ref":"#/refs/numberOrSignal"},"encode":{"anyOf":[{"type":"object","additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}},{"type":"object","properties":{"group":{"$ref":"#/defs/guideEncode"},"title":{"$ref":"#/defs/guideEncode"},"subtitle":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}]},"name":{"type":"string"},"interactive":{"type":"boolean"},"style":{"$ref":"#/refs/style"}},"additionalProperties":false}]},"transform":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/contourTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/graticuleTransform"},{"$ref":"#/defs/heatmapTransform"},{"$ref":"#/defs/isocontourTransform"},{"$ref":"#/defs/kde2dTransform"},{"$ref":"#/defs/nestTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treelinksTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/labelTransform"},{"$ref":"#/defs/loessTransform"},{"$ref":"#/defs/regressionTransform"},{"$ref":"#/defs/aggregateTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/countpatternTransform"},{"$ref":"#/defs/crossTransform"},{"$ref":"#/defs/densityTransform"},{"$ref":"#/defs/dotbinTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/filterTransform"},{"$ref":"#/defs/flattenTransform"},{"$ref":"#/defs/foldTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/imputeTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/kdeTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/pivotTransform"},{"$ref":"#/defs/projectTransform"},{"$ref":"#/defs/quantileTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/sequenceTransform"},{"$ref":"#/defs/timeunitTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"transformMark":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/heatmapTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/labelTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/dotbinTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/timeunitTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"crossfilterTransform":{"type":"object","properties":{"type":{"enum":["crossfilter"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"query":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]}},"required":["type","fields","query"],"additionalProperties":false},"resolvefilterTransform":{"type":"object","properties":{"type":{"enum":["resolvefilter"]},"signal":{"type":"string"},"ignore":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"filter":{}},"required":["type","ignore","filter"],"additionalProperties":false},"linkpathTransform":{"type":"object","properties":{"type":{"enum":["linkpath"]},"signal":{"type":"string"},"sourceX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.x"},"sourceY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.y"},"targetX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.x"},"targetY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.y"},"orient":{"anyOf":[{"enum":["horizontal","vertical","radial"]},{"$ref":"#/refs/signal"}],"default":"vertical"},"shape":{"anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$ref":"#/refs/signal"}],"default":"line"},"require":{"$ref":"#/refs/signal"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"pieTransform":{"type":"object","properties":{"type":{"enum":["pie"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"startAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"endAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":6.283185307179586},"sort":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["startAngle","endAngle"]}},"required":["type"],"additionalProperties":false},"stackTransform":{"type":"object","properties":{"type":{"enum":["stack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"sort":{"$ref":"#/refs/compare"},"offset":{"anyOf":[{"enum":["zero","center","normalize"]},{"$ref":"#/refs/signal"}],"default":"zero"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["y0","y1"]}},"required":["type"],"additionalProperties":false},"forceTransform":{"type":"object","properties":{"type":{"enum":["force"]},"signal":{"type":"string"},"static":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"restart":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":300},"alpha":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"alphaMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.001},"alphaTarget":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"velocityDecay":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.4},"forces":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"force":{"enum":["center"]},"x":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"y":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["collide"]},"radius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.7},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["nbody"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":-30},"theta":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.9},"distanceMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"distanceMax":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["link"]},"links":{"type":"string"},"id":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"distance":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":30},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["x"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["y"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false}]}},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["x","y","vx","vy"]}},"required":["type"],"additionalProperties":false},"contourTransform":{"type":"object","properties":{"type":{"enum":["contour"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"values":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"weight":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"count":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true}},"required":["type","size"],"additionalProperties":false},"geojsonTransform":{"type":"object","properties":{"type":{"enum":["geojson"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"geojson":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"geopathTransform":{"type":"object","properties":{"type":{"enum":["geopath"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"geopointTransform":{"type":"object","properties":{"type":{"enum":["geopoint"]},"signal":{"type":"string"},"projection":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["x","y"]}},"required":["type","projection","fields"],"additionalProperties":false},"geoshapeTransform":{"type":"object","properties":{"type":{"enum":["geoshape"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"datum"},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"shape"}},"required":["type"],"additionalProperties":false},"graticuleTransform":{"type":"object","properties":{"type":{"enum":["graticule"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMajor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMinor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"step":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"stepMajor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[90,360]},"stepMinor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[10,10]},"precision":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":2.5}},"required":["type"],"additionalProperties":false},"heatmapTransform":{"type":"object","properties":{"type":{"enum":["heatmap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"color":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"opacity":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"image"}},"required":["type"],"additionalProperties":false},"isocontourTransform":{"type":"object","properties":{"type":{"enum":["isocontour"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"levels":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"zero":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"scale":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"translate":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]}},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}],"default":"contour"}},"required":["type"],"additionalProperties":false},"kde2dTransform":{"type":"object","properties":{"type":{"enum":["kde2d"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"weight":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"bandwidth":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"grid"}},"required":["type","size","x","y"],"additionalProperties":false},"nestTransform":{"type":"object","properties":{"type":{"enum":["nest"]},"signal":{"type":"string"},"keys":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"generate":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"packTransform":{"type":"object","properties":{"type":{"enum":["pack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"radius":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":5,"minItems":5,"default":["x","y","r","depth","children"]}},"required":["type"],"additionalProperties":false},"partitionTransform":{"type":"object","properties":{"type":{"enum":["partition"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"stratifyTransform":{"type":"object","properties":{"type":{"enum":["stratify"]},"signal":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"parentKey":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","key","parentKey"],"additionalProperties":false},"treeTransform":{"type":"object","properties":{"type":{"enum":["tree"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["tidy","cluster"]},{"$ref":"#/refs/signal"}],"default":"tidy"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"nodeSize":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"separation":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":4,"minItems":4,"default":["x","y","depth","children"]}},"required":["type"],"additionalProperties":false},"treelinksTransform":{"type":"object","properties":{"type":{"enum":["treelinks"]},"signal":{"type":"string"}},"required":["type"],"additionalProperties":false},"treemapTransform":{"type":"object","properties":{"type":{"enum":["treemap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$ref":"#/refs/signal"}],"default":"squarify"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingInner":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingOuter":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingTop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingRight":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingBottom":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingLeft":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"ratio":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1.618033988749895},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"labelTransform":{"type":"object","properties":{"type":{"enum":["label"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"sort":{"$ref":"#/refs/compare"},"anchor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"]},"offset":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":[1]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"lineAnchor":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"end"},"markIndex":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"avoidBaseMark":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"avoidMarks":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"naive"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":5,"minItems":5,"default":["x","y","opacity","align","baseline"]}},"required":["type","size"],"additionalProperties":false},"loessTransform":{"type":"object","properties":{"type":{"enum":["loess"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.3},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"regressionTransform":{"type":"object","properties":{"type":{"enum":["regression"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"linear"},"order":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":3},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"params":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"aggregateTransform":{"type":"object","properties":{"type":{"enum":["aggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"drop":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"cross":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"binTransform":{"type":"object","properties":{"type":{"enum":["bin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"anchor":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":20},"base":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":10},"divide":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":[5,2]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"span":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"minstep":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"name":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["bin0","bin1"]}},"required":["type","field","extent"],"additionalProperties":false},"collectTransform":{"type":"object","properties":{"type":{"enum":["collect"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"}},"required":["type"],"additionalProperties":false},"countpatternTransform":{"type":"object","properties":{"type":{"enum":["countpattern"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"case":{"anyOf":[{"enum":["upper","lower","mixed"]},{"$ref":"#/refs/signal"}],"default":"mixed"},"pattern":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"[\\\\w\\"]+"},"stopwords":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["text","count"]}},"required":["type","field"],"additionalProperties":false},"crossTransform":{"type":"object","properties":{"type":{"enum":["cross"]},"signal":{"type":"string"},"filter":{"$ref":"#/refs/exprString"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["a","b"]}},"required":["type"],"additionalProperties":false},"densityTransform":{"type":"object","properties":{"type":{"enum":["density"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"pdf"},"distribution":{"oneOf":[{"type":"object","properties":{"function":{"enum":["normal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["lognormal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["uniform"]},"min":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"max":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["kde"]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"from":{"type":"string"},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["function","field"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["mixture"]},"distributions":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"weights":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["function"],"additionalProperties":false}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type"],"additionalProperties":false},"dotbinTransform":{"type":"object","properties":{"type":{"enum":["dotbin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"bin"}},"required":["type","field"],"additionalProperties":false},"extentTransform":{"type":"object","properties":{"type":{"enum":["extent"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field"],"additionalProperties":false},"filterTransform":{"type":"object","properties":{"type":{"enum":["filter"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"}},"required":["type","expr"],"additionalProperties":false},"flattenTransform":{"type":"object","properties":{"type":{"enum":["flatten"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"index":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","fields"],"additionalProperties":false},"foldTransform":{"type":"object","properties":{"type":{"enum":["fold"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["key","value"]}},"required":["type","fields"],"additionalProperties":false},"formulaTransform":{"type":"object","properties":{"type":{"enum":["formula"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"initonly":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type","expr","as"],"additionalProperties":false},"imputeTransform":{"type":"object","properties":{"type":{"enum":["impute"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"keyvals":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"enum":["value","mean","median","max","min"]},{"$ref":"#/refs/signal"}],"default":"value"},"value":{}},"required":["type","field","key"],"additionalProperties":false},"joinaggregateTransform":{"type":"object","properties":{"type":{"enum":["joinaggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"kdeTransform":{"type":"object","properties":{"type":{"enum":["kde"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cumulative":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type","field"],"additionalProperties":false},"lookupTransform":{"type":"object","properties":{"type":{"enum":["lookup"]},"signal":{"type":"string"},"from":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"default":{}},"required":["type","from","key","fields"],"additionalProperties":false},"pivotTransform":{"type":"object","properties":{"type":{"enum":["pivot"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"value":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"op":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}],"default":"sum"},"limit":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field","value"],"additionalProperties":false},"projectTransform":{"type":"object","properties":{"type":{"enum":["project"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"quantileTransform":{"type":"object","properties":{"type":{"enum":["quantile"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"probs":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.01},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["prob","value"]}},"required":["type","field"],"additionalProperties":false},"sampleTransform":{"type":"object","properties":{"type":{"enum":["sample"]},"signal":{"type":"string"},"size":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1000}},"required":["type"],"additionalProperties":false},"sequenceTransform":{"type":"object","properties":{"type":{"enum":["sequence"]},"signal":{"type":"string"},"start":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"data"}},"required":["type","start","stop"],"additionalProperties":false},"timeunitTransform":{"type":"object","properties":{"type":{"enum":["timeunit"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"units":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["year","quarter","month","week","date","day","dayofyear","hours","minutes","seconds","milliseconds"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":40},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"timezone":{"anyOf":[{"enum":["local","utc"]},{"$ref":"#/refs/signal"}],"default":"local"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["unit0","unit1"]}},"required":["type","field"],"additionalProperties":false},"windowTransform":{"type":"object","properties":{"type":{"enum":["window"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","prev_value","next_value","values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"frame":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[null,0]},"ignorePeers":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"identifierTransform":{"type":"object","properties":{"type":{"enum":["identifier"]},"signal":{"type":"string"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},"required":["type","as"],"additionalProperties":false},"voronoiTransform":{"type":"object","properties":{"type":{"enum":["voronoi"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[[-100000,-100000],[100000,100000]]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type","x","y"],"additionalProperties":false},"wordcloudTransform":{"type":"object","properties":{"type":{"enum":["wordcloud"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"font":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"sans-serif"},"fontStyle":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontWeight":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":14},"fontSizeRange":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"},{"type":"null"}],"default":[10,50]},"rotate":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"text":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"spiral":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":7,"minItems":7,"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},"required":["type"],"additionalProperties":false}},"refs":{"labelOverlap":{"oneOf":[{"type":"boolean"},{"enum":["parity","greedy"]},{"$ref":"#/refs/signal"}]},"tickBand":{"oneOf":[{"enum":["center","extent"]},{"$ref":"#/refs/signal"}]},"tickCount":{"oneOf":[{"type":"number"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"element":{"type":"string"},"paramField":{"type":"object","properties":{"field":{"type":"string"},"as":{"type":"string"}},"required":["field"],"additionalProperties":false},"field":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"datum":{"$ref":"#/refs/field"}},"required":["datum"],"additionalProperties":false},{"type":"object","properties":{"group":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["group"],"additionalProperties":false},{"type":"object","properties":{"parent":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["parent"],"additionalProperties":false}]},"scale":{"$ref":"#/refs/field"},"stringModifiers":{"type":"object","properties":{"scale":{"$ref":"#/refs/scale"}}},"numberModifiers":{"type":"object","properties":{"exponent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"mult":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"round":{"type":"boolean","default":false},"scale":{"$ref":"#/refs/scale"},"band":{"oneOf":[{"type":"number"},{"type":"boolean"}]},"extra":{"type":"boolean"}}},"anyValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"blendValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"numberValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"stringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"textValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"booleanValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"arrayValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"fontWeightValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"anchorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"alignValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baselineValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"directionValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"orientValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeCapValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeJoinValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baseColorValue":{"oneOf":[{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]},{"type":"object","properties":{"value":{"$ref":"#/refs/linearGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"value":{"$ref":"#/refs/radialGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"gradient":{"$ref":"#/refs/scale"},"start":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"stop":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"count":{"type":"number"}},"required":["gradient"],"additionalProperties":false},{"type":"object","properties":{"color":{"oneOf":[{"$ref":"#/refs/colorRGB"},{"$ref":"#/refs/colorHSL"},{"$ref":"#/refs/colorLAB"},{"$ref":"#/refs/colorHCL"}]}},"required":["color"],"additionalProperties":false}]},"colorRGB":{"type":"object","properties":{"r":{"$ref":"#/refs/numberValue"},"g":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["r","g","b"]},"colorHSL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"s":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","s","l"]},"colorLAB":{"type":"object","properties":{"l":{"$ref":"#/refs/numberValue"},"a":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["l","a","b"]},"colorHCL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"c":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","c","l"]},"colorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"$ref":"#/refs/baseColorValue"}]}},{"$ref":"#/refs/baseColorValue"}]},"gradientStops":{"type":"array","items":{"type":"object","properties":{"offset":{"type":"number"},"color":{"type":"string"}},"required":["offset","color"],"additionalProperties":false}},"linearGradient":{"type":"object","properties":{"gradient":{"enum":["linear"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"radialGradient":{"type":"object","properties":{"gradient":{"enum":["radial"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"r1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"r2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"expr":{"type":"object","properties":{"expr":{"type":"string"},"as":{"type":"string"}},"required":["expr"]},"exprString":{"type":"string"},"compare":{"oneOf":[{"type":"object","properties":{"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]}},"order":{"type":"array","items":{"$ref":"#/refs/sortOrder"}}},"additionalProperties":false}]},"from":{"type":"object","properties":{"data":{"type":"string"}},"additionalProperties":false},"facet":{"type":"object","properties":{"data":{"type":"string"},"facet":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"field":{"type":"string"}},"required":["name","data","field"],"additionalProperties":false},{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"groupby":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"aggregate":{"type":"object","properties":{"cross":{"type":"boolean"},"fields":{"type":"array","items":{"type":"string"}},"ops":{"type":"array","items":{"type":"string"}},"as":{"type":"array","items":{"type":"string"}}},"additionalProperties":false}},"required":["name","data","groupby"],"additionalProperties":false}]}},"required":["facet"],"additionalProperties":false},"markclip":{"oneOf":[{"$ref":"#/refs/booleanOrSignal"},{"type":"object","properties":{"path":{"$ref":"#/refs/stringOrSignal"}},"required":["path"],"additionalProperties":false},{"type":"object","properties":{"sphere":{"$ref":"#/refs/stringOrSignal"}},"required":["sphere"],"additionalProperties":false}]},"style":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"marktype":{"type":"string"},"scaleField":{"$ref":"#/refs/stringOrSignal"},"sortOrder":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#/refs/signal"}]},"scaleBins":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"},"start":{"$ref":"#/refs/numberOrSignal"},"stop":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"scaleInterpolate":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"gamma":{"$ref":"#/refs/numberOrSignal"}},"required":["type"],"additionalProperties":false}]},"scaleData":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},"selector":{"type":"string"},"signal":{"type":"object","properties":{"signal":{"type":"string"}},"required":["signal"]},"arrayOrSignal":{"oneOf":[{"type":"array"},{"$ref":"#/refs/signal"}]},"booleanOrSignal":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"numberOrSignal":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stringOrSignal":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"textOrSignal":{"oneOf":[{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},{"$ref":"#/refs/signal"}]}},"type":"object","allOf":[{"$ref":"#/defs/scope"},{"properties":{"$schema":{"type":"string","format":"uri"},"config":{"type":"object"},"description":{"type":"string"},"width":{"$ref":"#/refs/numberOrSignal"},"height":{"$ref":"#/refs/numberOrSignal"},"padding":{"$ref":"#/defs/padding"},"autosize":{"$ref":"#/defs/autosize"},"background":{"$ref":"#/defs/background"},"style":{"$ref":"#/refs/style"}}}]}')},function(e,t,r){const n=r(310);e.exports=(e,t,r)=>0!==n(e,t,r)},function(e,t,r){const n=r(884),i=r(1211),a=r(673),o=r(887),s=r(886),u=r(888);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return a(e,r,c);case">=":return o(e,r,c);case"<":return s(e,r,c);case"<=":return u(e,r,c);default:throw new TypeError("Invalid operator: "+t)}}},function(e,t,r){"use strict";const n={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}};t.a=n},function(e,t,r){"use strict";const n={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}};t.a=n},function(e,t,r){"use strict";const n={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}};t.a=n},function(e,t,r){"use strict";const n={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}};t.a=n},function(e,t,r){"use strict";const n="Benton Gothic Bold, sans-serif",i={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},a={background:"#ffffff",title:{anchor:"start",color:"#000000",font:n,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:n,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:n,titleFontSize:13,titleFontWeight:"normal"},range:{category:i["category-6"],diverging:i["fireandice-6"],heatmap:i["fire-7"],ordinal:i["fire-7"],ramp:i["fire-7"]}};t.a=a},function(e,t,r){"use strict";const n={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}};t.a=n},function(e,t,r){"use strict";const n={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}};t.a=n},function(e,t,r){"use strict";const n={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},i={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:n["six-groups-cat-1"],diverging:n["diverging-colors"],heatmap:n["diverging-colors"],ordinal:n["six-groups-seq"],ramp:n["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}};t.a=i},function(e,t,r){"use strict";const n={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}};t.a=n},function(e,t,r){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(260),i=r(1);t.a=function(e,t,r,a){let o,s=1;return e instanceof n.a?o=e:e&&e.prototype instanceof n.a?o=new e:Object(i.E)(e)?o=new n.a(null,e):(s=0,o=new n.a(e,t)),this.rank(o),s&&(a=r,r=t),r&&this.connect(o,o.parameters(r,a)),this.touch(o),o}},function(e,t,r){"use strict";t.a=function(e,t){const r=e.rank,n=t.length;for(let i=0;i<n;++i)if(r<t[i].rank)return void this.rerank(e)}},function(e,t,r){"use strict";var n=r(686),i=r(1);t.a=function(e,t,r,a){const o=this,s=Object(n.b)(r,a),u=function(e){e.dataflow=o;try{s.receive(e)}catch(e){o.error(e)}finally{o.run()}};let c;c="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):Object(i.i)(e);const f=c.length;for(let e=0;e<f;++e)c[e].addEventListener(t,u);return s}},function(e,t,r){"use strict";var n=r(1);const i=/^([A-Za-z]+:)?\/\//,a=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;async function s(e,t){const r=await this.sanitize(e,t),n=r.href;return r.localFile?this.file(n):this.http(n,t)}async function u(e,t){t=Object(n.p)({},this.options,t);const r=this.fileAccess,s={href:null};let u,c,f;const l=a.test(e.replace(o,""));null!=e&&"string"==typeof e&&l||Object(n.o)("Sanitize failure, invalid URI: "+Object(n.ab)(e));const d=i.test(e);return(f=t.baseURL)&&!d&&(e.startsWith("/")||"/"===f[f.length-1]||(e="/"+e),e=f+e),c=(u=e.startsWith("file://"))||"file"===t.mode||"http"!==t.mode&&!d&&r,u?e=e.slice("file://".length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),c=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(s,"localFile",{value:!!c}),s.href=e,t.target&&(s.target=t.target+""),t.rel&&(s.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(s.crossOrigin=t.crossOrigin+""),s}function c(e){return e?t=>new Promise((r,n)=>{e.readFile(t,(e,t)=>{e?n(e):r(t)})}):f}async function f(){Object(n.o)("No file system access.")}function l(e){return e?async function(t,r){const i=Object(n.p)({},this.options.http,r),a=r&&r.response,o=await e(t,i);return o.ok?Object(n.E)(o[a])?o[a]():o.text():Object(n.o)(o.status+""+o.statusText)}:d}async function d(){Object(n.o)("No HTTP fetch method available.")}t.a=function(e,t){return r=>({options:r||{},sanitize:u,load:s,fileAccess:!!t,file:c(t),http:l(e)})}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(737),i=r(959),a=r(1);const o={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function s(e,t){let r,s,u,c;return e=Object(n.a)(e,t),t&&t.feature?(r=i.a,u=t.feature):t&&t.mesh?(r=i.b,u=t.mesh,c=o[t.filter]):Object(a.o)("Missing TopoJSON feature or mesh parameter."),s=(s=e.objects[u])?r(e,s,c):Object(a.o)("Invalid TopoJSON object: "+u),s&&s.features||[s]}s.responseType="json"},,,,,function(e,t,r){"use strict";var n=r(260),i=r(454),a=r(1);const o={skip:!0};function s(e,t,r,s,u,c){const f=Object(a.p)({},c,o);let l,d;Object(a.E)(r)||(r=Object(a.m)(r)),void 0===s?l=t=>e.touch(r(t)):Object(a.E)(s)?(d=new n.a(null,s,u,!1),l=t=>{d.evaluate(t);const n=r(t),a=d.value;Object(i.b)(a)?e.pulse(n,a,c):e.update(n,a,f)}):l=t=>e.update(r(t),s,f),t.apply(l)}function u(e,t,r,i,o,s){if(void 0===i)t.targets().add(r);else{const u=s||{},c=new n.a(null,function(e,t){return t=Object(a.E)(t)?t:Object(a.m)(t),e?function(r,n){const i=t(r,n);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(r,i),o,!1);c.modified(u.force),c.rank=t.rank,t.targets().add(c),r&&(c.skip(!0),c.value=r.value,c.targets().add(r),e.connect(r,[c]))}}t.a=function(e,t,r,i,a){return(e instanceof n.a?u:s)(this,e,t,r,i,a),this}},function(e,t,r){"use strict";function n(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:r=>(t.push(r),i(t,0,t.length-1,e)),pop:()=>{const r=t.pop();let n;return t.length?(n=t[0],t[0]=r,function(e,t,r){const n=t,a=e.length,o=e[t];let s,u=1+(t<<1);for(;u<a;)s=u+1,s<a&&r(e[u],e[s])>=0&&(u=s),e[t]=e[u],u=1+((t=u)<<1);e[t]=o,i(e,n,t,r)}(t,0,e)):n=r,n}}}function i(e,t,r,n){let i,a;const o=e[r];for(;r>t&&(a=r-1>>1,i=e[a],n(o,i)<0);)e[r]=i,r=a;return e[r]=o}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.r(t);var n=r(371);r.d(t,"aggregate",(function(){return n.a}));var i=r(1105);r.d(t,"bin",(function(){return i.a}));var a=r(1106);r.d(t,"collect",(function(){return a.a}));var o=r(1107);r.d(t,"compare",(function(){return o.a}));var s=r(1108);r.d(t,"countpattern",(function(){return s.a}));var u=r(1109);r.d(t,"cross",(function(){return u.a}));var c=r(1110);r.d(t,"density",(function(){return c.a}));var f=r(1111);r.d(t,"dotbin",(function(){return f.a}));var l=r(1112);r.d(t,"expression",(function(){return l.a}));var d=r(1113);r.d(t,"extent",(function(){return d.a}));var p=r(601);r.d(t,"facet",(function(){return p.a}));var m=r(1114);r.d(t,"field",(function(){return m.a}));var b=r(1115);r.d(t,"filter",(function(){return b.a}));var h=r(1116);r.d(t,"flatten",(function(){return h.a}));var g=r(1117);r.d(t,"fold",(function(){return g.a}));var y=r(1118);r.d(t,"formula",(function(){return y.a}));var O=r(1119);r.d(t,"generate",(function(){return O.a}));var v=r(1120);r.d(t,"impute",(function(){return v.a}));var j=r(1121);r.d(t,"joinaggregate",(function(){return j.a}));var $=r(1122);r.d(t,"kde",(function(){return $.a}));var x=r(1123);r.d(t,"key",(function(){return x.a}));var k=r(1124);r.d(t,"load",(function(){return k.a}));var E=r(1125);r.d(t,"lookup",(function(){return E.a}));var w=r(1126);r.d(t,"multiextent",(function(){return w.a}));var A=r(1127);r.d(t,"multivalues",(function(){return A.a}));var _=r(1128);r.d(t,"params",(function(){return _.a}));var F=r(1129);r.d(t,"pivot",(function(){return F.a}));var D=r(1130);r.d(t,"prefacet",(function(){return D.a}));var S=r(1131);r.d(t,"project",(function(){return S.a}));var C=r(1132);r.d(t,"proxy",(function(){return C.a}));var M=r(1133);r.d(t,"quantile",(function(){return M.a}));var q=r(1134);r.d(t,"relay",(function(){return q.a}));var z=r(1135);r.d(t,"sample",(function(){return z.a}));var R=r(1136);r.d(t,"sequence",(function(){return R.a}));var B=r(1137);r.d(t,"sieve",(function(){return B.a}));var T=r(695);r.d(t,"subflow",(function(){return T.a}));var I=r(1138);r.d(t,"timeunit",(function(){return I.a}));var P=r(1139);r.d(t,"tupleindex",(function(){return P.a}));var L=r(1140);r.d(t,"values",(function(){return L.a}));var N=r(1141);r.d(t,"window",(function(){return N.a}))},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(74),i=r(1);const a={kde:n.r,mixture:n.u,normal:n.v,lognormal:n.t,uniform:n.w};function o(e,t){const r=e.function;Object(i.w)(a,r)||Object(i.o)("Unknown distribution function: "+r);const n=a[r]();for(const r in e)"field"===r?n.data((e.from||t()).map(e[r])):"distributions"===r?n[r](e[r].map(e=>o(e,t))):"function"==typeof n[r]&&n[r](e[r]);return n}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(235),i=r(741),a=r(614),o=r(1);function s(e){const t=Object(o.i)(e.ops),r=Object(o.i)(e.fields),s=Object(o.i)(e.params),u=Object(o.i)(e.as),c=this.outputs=[],f=this.windows=[],l={},d={},p=[],m=[];let b=!0;function h(e){Object(o.i)(Object(o.g)(e)).forEach(e=>l[e]=1)}h(e.sort),t.forEach((e,t)=>{const i=r[t],l=Object(o.h)(i),g=Object(n.d)(e,l,u[t]);if(h(i),c.push(g),Object(o.w)(a.c,e))f.push(Object(a.b)(e,r[t],s[t],g));else{if(null==i&&"count"!==e&&Object(o.o)("Null aggregate field specified."),"count"===e)return void p.push(g);b=!1;let t=d[l];t||(t=d[l]=[],t.field=i,m.push(t)),t.push(Object(n.c)(e,g))}}),(p.length||m.length)&&(this.cell=function(e,t,r){e=e.map(e=>Object(n.b)(e,e.field));const a={num:0,agg:null,store:!1,count:t};if(!r)for(var o=e.length,s=a.agg=Array(o),u=0;u<o;++u)s[u]=new e[u](a);if(a.store)var c=a.data=new i.a;return a.add=function(e){if(a.num+=1,!r){c&&c.add(e);for(let t=0;t<o;++t)s[t].add(s[t].get(e),e)}},a.rem=function(e){if(a.num-=1,!r){c&&c.rem(e);for(let t=0;t<o;++t)s[t].rem(s[t].get(e),e)}},a.set=function(e){let n,i;for(c&&c.values(),n=0,i=t.length;n<i;++n)e[t[n]]=a.num;if(!r)for(n=0,i=s.length;n<i;++n)s[n].set(e)},a.init=function(){a.num=0,c&&c.reset();for(let e=0;e<o;++e)s[e].init()},a}(m,p,b)),this.inputs=Object.keys(l)}const u=s.prototype;u.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},u.update=function(e,t){const r=this.cell,n=this.windows,i=e.data,a=n&&n.length;let o;if(r){for(o=e.p0;o<e.i0;++o)r.rem(i[o]);for(o=e.p1;o<e.i1;++o)r.add(i[o]);r.set(t)}for(o=0;o<a;++o)n[o].update(e,t)}},function(e,t,r){"use strict";r.r(t);var n=r(1142);r.d(t,"bound",(function(){return n.a}));var i=r(1153);r.d(t,"identifier",(function(){return i.a}));var a=r(1154);r.d(t,"mark",(function(){return a.a}));var o=r(1155);r.d(t,"overlap",(function(){return o.a}));var s=r(1156);r.d(t,"render",(function(){return s.a}));var u=r(1157);r.d(t,"viewlayout",(function(){return u.a}))},,,,,,,function(e,t,r){"use strict";var n=r(150),i=r(528);t.a=Object(i.a)("arc",n.a)},function(e,t,r){"use strict";var n=r(278),i=r(283);function a(e,t){const r=t.length;for(let n=0;n<r;++n)e.addColorStop(t[n].offset,t[n].color);return e}t.a=function(e,t,r){const o=r.width(),s=r.height();let u;if("radial"===t.gradient)u=e.createRadialGradient(r.x1+Object(n.a)(t.x1,.5)*o,r.y1+Object(n.a)(t.y1,.5)*s,Math.max(o,s)*Object(n.a)(t.r1,0),r.x1+Object(n.a)(t.x2,.5)*o,r.y1+Object(n.a)(t.y2,.5)*s,Math.max(o,s)*Object(n.a)(t.r2,.5));else{const c=Object(n.a)(t.x1,0),f=Object(n.a)(t.y1,0),l=Object(n.a)(t.x2,1),d=Object(n.a)(t.y2,0);if(c!==l&&f!==d&&o!==s){const r=Object(i.a)(Math.ceil(o),Math.ceil(s)),n=r.getContext("2d");return n.scale(o,s),n.fillStyle=a(n.createLinearGradient(c,f,l,d),t.stops),n.fillRect(0,0,o,s),e.createPattern(r,"no-repeat")}u=e.createLinearGradient(r.x1+c*o,r.y1+f*s,r.x1+l*o,r.y1+d*s)}return a(u,t.stops)}},function(e,t,r){"use strict";var n=r(150),i=r(529),a=r(530);t.a=Object(a.a)("area",n.b,i.a)},function(e,t,r){"use strict";var n=r(150),i=r(253),a=r(155),o=r(278),s=r(149),u=r(316),c=r(746),f=r(465),l=r(347),d=r(199),p=r(331),m=r(231);function b(e){const t=Object(o.a)(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function h(e,t){const r=b(t);e("d",Object(n.e)(null,t,r,r))}function g(e,t,r,i){const a=b(t);e.beginPath(),Object(n.e)(e,t,(r||0)+a,(i||0)+a)}const y=Object(d.a)(g),O=Object(d.a)(g,!1),v=Object(d.a)(g,!0);t.a={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Object(m.e)(t))},bound:function(e,t){if(!t.clip&&t.items){const r=t.items,n=r.length;for(let t=0;t<n;++t)e.union(r[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Object(i.a)(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,r){Object(s.b)(t,t=>{const n=t.x||0,i=t.y||0,a=t.strokeForeground,o=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&o&&(g(e,t,n,i),Object(u.a)(e,t),t.fill&&Object(f.a)(e,t,o)&&e.fill(),t.stroke&&!a&&Object(l.a)(e,t,o)&&e.stroke()),e.save(),e.translate(n,i),t.clip&&Object(c.a)(e,t),r&&r.translate(-n,-i),Object(s.b)(t,t=>{this.draw(e,t,r)}),r&&r.translate(n,i),e.restore(),a&&t.stroke&&o&&(g(e,t,n,i),Object(u.a)(e,t),Object(l.a)(e,t,o)&&e.stroke())})},pick:function(e,t,r,i,a,o){if(t.bounds&&!t.bounds.contains(a,o)||!t.items)return null;const u=r*e.pixelRatio,c=i*e.pixelRatio;return Object(s.a)(t,f=>{let l,d,p;const m=f.bounds;if(m&&!m.contains(a,o))return;d=f.x||0,p=f.y||0;const b=d+(f.width||0),h=p+(f.height||0),g=f.clip;if(g&&(a<d||a>b||o<p||o>h))return;if(e.save(),e.translate(d,p),d=a-d,p=o-p,g&&Object(n.c)(f)&&!v(e,f,u,c))return e.restore(),null;const j=f.strokeForeground,$=!1!==t.interactive;return $&&j&&f.stroke&&O(e,f,u,c)?(e.restore(),f):(l=Object(s.a)(f,e=>function(e,t,r){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,r)}(e,d,p)?this.pick(e,r,i,d,p):null),!l&&$&&(f.fill||!j&&f.stroke)&&y(e,f,u,c)&&(l=f),e.restore(),l||null)})},isect:a.d,content:function(e,t,r){e("clip-path",t.clip?Object(p.a)(r,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),h(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?h(e,t):e("d","")}}},function(e,t,r){"use strict";var n=r(149),i=r(316),a=r(199),o=r(466),s=r(231),u=r(1);function c(e,t){var r=e.image;return(!r||e.url&&e.url!==r.url)&&(r={complete:!1,width:0,height:0},t.loadImage(e.url).then(t=>{e.image=t,e.image.url=e.url})),r}function f(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function l(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function d(e,t){return"center"===e?t/2:"right"===e?t:0}function p(e,t){return"middle"===e?t/2:"bottom"===e?t:0}t.a={type:"image",tag:"image",nested:!1,attr:function(e,t,r){const n=c(t,r),i=f(t,n),a=l(t,n),u=(t.x||0)-d(t.align,i),m=(t.y||0)-p(t.baseline,a);e("href",!n.src&&n.toDataURL?n.toDataURL():n.src||"",o.a["xmlns:xlink"],"xlink:href"),e("transform",Object(s.d)(u,m)),e("width",i),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const r=t.image,n=f(t,r),i=l(t,r),a=(t.x||0)-d(t.align,n),o=(t.y||0)-p(t.baseline,i);return e.set(a,o,a+n,o+i)},draw:function(e,t,r){Object(n.b)(t,t=>{if(r&&!r.intersects(t.bounds))return;const n=c(t,this);let a,o,s,u,m=f(t,n),b=l(t,n),h=(t.x||0)-d(t.align,m),g=(t.y||0)-p(t.baseline,b);!1!==t.aspect&&(o=n.width/n.height,s=t.width/t.height,o==o&&s==s&&o!==s&&(s<o?(u=m/o,g+=(b-u)/2,b=u):(u=b*o,h+=(m-u)/2,m=u))),(n.complete||n.toDataURL)&&(Object(i.a)(e,t),e.globalAlpha=null!=(a=t.opacity)?a:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(n,h,g,m,b))})},pick:Object(a.b)(),isect:u.hb,get:c,xOffset:d,yOffset:p}},function(e,t,r){"use strict";var n=r(150),i=r(529),a=r(530);t.a=Object(a.a)("line",n.d,i.b)},function(e,t,r){"use strict";var n=r(253),i=r(332),a=r(369),o=r(462),s=r(155),u=r(410),c=r(199),f=r(231),l=r(101);function d(e,t){var r=t.path;if(null==r)return!0;var n=t.x||0,i=t.y||0,s=t.scaleX||1,u=t.scaleY||1,c=(t.angle||0)*l.a,f=t.pathCache;f&&f.path===r||((t.pathCache=f=Object(a.a)(r)).path=r),c&&e.rotate&&e.translate?(e.translate(n,i),e.rotate(c),Object(o.a)(e,f,0,0,s,u),e.rotate(-c),e.translate(-n,-i)):Object(o.a)(e,f,n,i,s,u)}t.a={type:"path",tag:"path",nested:!1,attr:function(e,t){var r=t.scaleX||1,n=t.scaleY||1;1===r&&1===n||e("vector-effect","non-scaling-stroke"),e("transform",Object(f.c)(t)),e("d",t.path)},bound:function(e,t){return d(Object(i.a)(e,t.angle),t)?e.set(0,0,0,0):Object(n.a)(e,t,!0)},draw:Object(u.a)(d),pick:Object(c.c)(d),isect:Object(s.b)(d)}},function(e,t,r){"use strict";var n=r(253),i=r(150),a=r(155),o=r(410),s=r(199);function u(e,t){e.beginPath(),Object(i.e)(e,t)}t.a={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Object(i.e)(null,t))},bound:function(e,t){var r,i;return Object(n.a)(e.set(r=t.x||0,i=t.y||0,r+t.width||0,i+t.height||0),t)},draw:Object(o.a)(u),pick:Object(s.c)(u),isect:a.d}},function(e,t,r){"use strict";var n=r(253),i=r(155),a=r(149),o=r(316),s=r(199),u=r(347),c=r(231);function f(e,t,r){var n,i,a,o;return!(!t.stroke||!Object(u.a)(e,t,r))&&(n=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:n,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(n,i),e.lineTo(a,o),!0)}t.a={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Object(c.e)(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var r,i;return Object(n.a)(e.set(r=t.x||0,i=t.y||0,null!=t.x2?t.x2:r,null!=t.y2?t.y2:i),t)},draw:function(e,t,r){Object(a.b)(t,t=>{if(!r||r.intersects(t.bounds)){var n=null==t.opacity?1:t.opacity;n&&f(e,t,n)&&(Object(o.a)(e,t),e.stroke())}})},pick:Object(s.b)((function(e,t,r,n){return!!e.isPointInStroke&&(f(e,t,1)&&e.isPointInStroke(r,n))})),isect:i.e}},function(e,t,r){"use strict";var n=r(150),i=r(528);t.a=Object(i.a)("shape",n.f)},function(e,t,r){"use strict";var n=r(150),i=r(155),a=r(528);t.a=Object(a.a)("symbol",n.g,i.c)},function(e,t,r){"use strict";var n=r(167),i=r(101),a=r(113),o=r(155),s=r(149),u=r(316),c=r(465),f=r(199),l=r(347),d=r(231),p=r(1),m={left:"start",center:"middle",right:"end"},b=new n.a;function h(e){var t,r=e.x||0,n=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-i.c,r+=a*Math.cos(t),n+=a*Math.sin(t)),b.x1=r,b.y1=n,b}function g(e,t,r){var n,o=a.h.height(t),s=t.align,u=h(t),c=u.x1,f=u.y1,l=t.dx||0,d=(t.dy||0)+Object(a.f)(t)-Math.round(.8*o),m=Object(a.g)(t);if(Object(p.B)(m)?(o+=Object(a.d)(t)*(m.length-1),n=m.reduce((e,r)=>Math.max(e,a.h.width(t,r)),0)):n=a.h.width(t,m),"center"===s?l-=n/2:"right"===s&&(l-=n),e.set(l+=c,d+=f,l+n,d+o),t.angle&&!r)e.rotate(t.angle*i.a,c,f);else if(2===r)return e.rotatedPoints(t.angle*i.a,c,f);return e}t.a={type:"text",tag:"text",nested:!1,attr:function(e,t){var r,n=t.dx||0,i=(t.dy||0)+Object(a.f)(t),o=h(t),s=o.x1,u=o.y1,c=t.angle||0;e("text-anchor",m[t.align]||"start"),c?(r=Object(d.d)(s,u)+" "+Object(d.a)(c),(n||i)&&(r+=" "+Object(d.d)(n,i))):r=Object(d.d)(s+n,u+i),e("transform",r)},bound:g,draw:function(e,t,r){Object(s.b)(t,t=>{var n,o,s,f,d,m,b,g=null==t.opacity?1:t.opacity;if(!(r&&!r.intersects(t.bounds)||0===g||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=Object(a.a)(t),e.textAlign=t.align||"left",o=(n=h(t)).x1,s=n.y1,t.angle&&(e.save(),e.translate(o,s),e.rotate(t.angle*i.a),o=s=0),o+=t.dx||0,s+=(t.dy||0)+Object(a.f)(t),m=Object(a.g)(t),Object(u.a)(e,t),Object(p.B)(m))for(d=Object(a.d)(t),f=0;f<m.length;++f)b=Object(a.i)(t,m[f]),t.fill&&Object(c.a)(e,t,g)&&e.fillText(b,o,s),t.stroke&&Object(l.a)(e,t,g)&&e.strokeText(b,o,s),s+=d;else b=Object(a.i)(t,m),t.fill&&Object(c.a)(e,t,g)&&e.fillText(b,o,s),t.stroke&&Object(l.a)(e,t,g)&&e.strokeText(b,o,s);t.angle&&e.restore()}})},pick:Object(f.b)((function(e,t,r,n,a,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=h(t),u=s.x1,c=s.y1,f=g(b,t,1),l=-t.angle*i.a,d=Math.cos(l),p=Math.sin(l),m=d*a-p*o+(u-d*u+p*c),y=p*a+d*o+(c-p*u-d*c);return f.contains(m,y)})),isect:function(e,t){var r=g(b,e,2);return Object(o.a)(t,r[0],r[1],r[2],r[3])||Object(o.a)(t,r[0],r[1],r[4],r[5])||Object(o.a)(t,r[4],r[5],r[6],r[7])||Object(o.a)(t,r[2],r[3],r[6],r[7])}}},function(e,t,r){"use strict";var n=r(150),i=r(529),a=r(530);t.a=Object(a.a)("trail",n.h,i.c)},function(e,t,r){"use strict";var n=r(177),i=r(514);t.a=function(e,t,r,a){var o,s,u=e&&e.mark;if(u&&(o=n.a[u.marktype]).tip){for((s=Object(i.a)(t,r))[0]-=a[0],s[1]-=a[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(u.items,s)}return e}},function(e,t,r){"use strict";var n="undefined"!=typeof window&&window.devicePixelRatio||1;t.a=function(e,t,r,i,a,o){const s="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),c=s?n:a;e.width=t*c,e.height=r*c;for(const e in o)u[e]=o[e];return s&&1!==c&&(e.style.width=t+"px",e.style.height=r+"px"),u.pixelRatio=c,u.setTransform(c,0,0,c,c*i[0],c*i[1]),e}},function(e,t,r){"use strict";t.a=function(e){return function(t){let r,n=t[0],i=t[1];return i<n&&(r=n,n=i,i=r),[e.invert(n),e.invert(i)]}}},function(e,t,r){"use strict";t.a=function(e){return function(t){const r=e.range();let n,i,a,o,s=t[0],u=t[1],c=-1;for(u<s&&(i=s,s=u,u=i),a=0,o=r.length;a<o;++a)r[a]>=s&&r[a]<=u&&(c<0&&(c=a),n=a);if(!(c<0))return s=e.invertExtent(r[c]),u=e.invertExtent(r[n]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(398),i=r(973),a=r(1),o=r(1299),s=r(1300);function u(){let e=[],t=[];function r(r){return null==r||r!=r?void 0:t[(Object(n.c)(e,r)-1)%t.length]}return r.domain=function(t){return arguments.length?(e=Object(o.a)(t),r):e.slice()},r.range=function(e){return arguments.length?(t=s.a.call(e),r):t.slice()},r.tickFormat=function(t,r){return Object(i.a)(e[0],Object(a.V)(e),null==t?10:t,r)},r.copy=function(){return u().domain(r.domain()).range(r.range())},r}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1),i=Array.prototype.map;function a(e){return i.call(e,n.db)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=Array.prototype.slice},,function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(35),i=r(154);function a(e,t,r,a,o){var s,u=t.items[0],c=u.frame,f=u.orient,l=u.anchor,d=u.offset,p=u.padding,m=u.items[0].items[0],b=u.items[1]&&u.items[1].items[0],h=f===n.r||f===n.x?a:r,g=0,y=0,O=0,v=0,j=0;if(c!==n.q?f===n.r?(g=o.y2,h=o.y1):f===n.x?(g=o.y1,h=o.y2):(g=o.x1,h=o.x2):f===n.r&&(g=a,h=0),s=l===n.D?g:l===n.k?h:(g+h)/2,b&&b.text){switch(f){case n.G:case n.c:j=m.bounds.height()+p;break;case n.r:v=m.bounds.width()+p;break;case n.x:v=-m.bounds.width()-p}i.b.clear().union(b.bounds),i.b.translate(v-(b.x||0),j-(b.y||0)),Object(i.a)(b,"x",v)|Object(i.a)(b,"y",j)&&(e.dirty(b),b.bounds.clear().union(i.b),b.mark.bounds.clear().union(i.b),e.dirty(b)),i.b.clear().union(b.bounds)}else i.b.clear();switch(i.b.union(m.bounds),f){case n.G:y=s,O=o.y1-i.b.height()-d;break;case n.r:y=o.x1-i.b.width()-d,O=s;break;case n.x:y=o.x2+i.b.width()+d,O=s;break;case n.c:y=s,O=o.y2+d;break;default:y=u.x,O=u.y}return Object(i.a)(u,"x",y)|Object(i.a)(u,"y",O)&&(i.b.translate(y,O),e.dirty(u),u.bounds.clear().union(i.b),t.bounds.clear().union(i.b),e.dirty(u)),u.bounds}},function(e,t,r){"use strict";r.r(t);var n=r(1158);r.d(t,"axisticks",(function(){return n.a}));var i=r(1159);r.d(t,"datajoin",(function(){return i.a}));var a=r(1160);r.d(t,"encode",(function(){return a.a}));var o=r(1161);r.d(t,"legendentries",(function(){return o.a}));var s=r(1162);r.d(t,"linkpath",(function(){return s.a}));var u=r(1163);r.d(t,"pie",(function(){return u.a}));var c=r(1164);r.d(t,"scale",(function(){return c.a}));var f=r(1165);r.d(t,"sortitems",(function(){return f.a}));var l=r(1166);r.d(t,"stack",(function(){return l.a}))},function(e,t,r){"use strict";r.r(t);var n=r(1167);r.d(t,"contour",(function(){return n.a}));var i=r(1168);r.d(t,"geojson",(function(){return i.a}));var a=r(1169);r.d(t,"geopath",(function(){return a.a}));var o=r(1170);r.d(t,"geopoint",(function(){return o.a}));var s=r(1171);r.d(t,"geoshape",(function(){return s.a}));var u=r(1172);r.d(t,"graticule",(function(){return u.a}));var c=r(1173);r.d(t,"heatmap",(function(){return c.a}));var f=r(712);r.d(t,"isocontour",(function(){return f.a}));var l=r(713);r.d(t,"kde2d",(function(){return l.a}));var d=r(1174);r.d(t,"projection",(function(){return d.a}))},,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1175);r.d(t,"force",(function(){return n.a}))},,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1176);r.d(t,"nest",(function(){return n.a}));var i=r(1177);r.d(t,"pack",(function(){return i.a}));var a=r(1178);r.d(t,"partition",(function(){return a.a}));var o=r(1179);r.d(t,"stratify",(function(){return o.a}));var s=r(1180);r.d(t,"tree",(function(){return s.a}));var u=r(1181);r.d(t,"treelinks",(function(){return u.a}));var c=r(1182);r.d(t,"treemap",(function(){return c.a}))},,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(1183);r.d(t,"loess",(function(){return n.a}));var i=r(1184);r.d(t,"regression",(function(){return i.a}))},function(e,t,r){"use strict";r.r(t);var n=r(1185);r.d(t,"voronoi",(function(){return n.a}))},,function(e,t,r){"use strict";r.r(t);var n=r(1186);r.d(t,"wordcloud",(function(){return n.a}))},function(e,t,r){"use strict";var n=r(283),i=Math.PI/180;function a(e,t,r,n){if(!t.sprite){var a=e.context,o=e.ratio;a.clearRect(0,0,2048/o,2048/o);var s,u,c,f,l,d=0,p=0,m=0,b=r.length;for(--n;++n<b;){if(t=r[n],a.save(),a.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,s=a.measureText(t.text+"m").width*o,c=t.size<<1,t.rotate){var h=Math.sin(t.rotate*i),g=Math.cos(t.rotate*i),y=s*g,O=s*h,v=c*g,j=c*h;s=Math.max(Math.abs(y+j),Math.abs(y-j))+31>>5<<5,c=~~Math.max(Math.abs(O+v),Math.abs(O-v))}else s=s+31>>5<<5;if(c>m&&(m=c),d+s>=2048&&(d=0,p+=m,m=0),p+c>=2048)break;a.translate((d+(s>>1))/o,(p+(c>>1))/o),t.rotate&&a.rotate(t.rotate*i),a.fillText(t.text,0,0),t.padding&&(a.lineWidth=2*t.padding,a.strokeText(t.text,0,0)),a.restore(),t.width=s,t.height=c,t.xoff=d,t.yoff=p,t.x1=s>>1,t.y1=c>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=s}for(var $=a.getImageData(0,0,2048/o,2048/o).data,x=[];--n>=0;)if((t=r[n]).hasText){for(u=(s=t.width)>>5,c=t.y1-t.y0,f=0;f<c*u;f++)x[f]=0;if(null==(d=t.xoff))return;p=t.yoff;var k=0,E=-1;for(l=0;l<c;l++){for(f=0;f<s;f++){var w=u*l+(f>>5),A=$[2048*(p+l)+(d+f)<<2]?1<<31-f%32:0;x[w]|=A,k|=A}k?E=l:(t.y0++,c--,l--,p++)}t.y1=t.y0+E,t.sprite=x.slice(0,(t.y1-t.y0)*u)}}}function o(e,t,r){r>>=5;for(var n,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),s=127&o,u=32-s,c=e.y1-e.y0,f=(e.y+e.y0)*r+(o>>5),l=0;l<c;l++){n=0;for(var d=0;d<=a;d++)if((n<<u|(d<a?(n=i[l*a+d])>>>s:0))&t[f+d])return!0;f+=r}return!1}function s(e,t){var r=e[0],n=e[1];t.x+t.x0<r.x&&(r.x=t.x+t.x0),t.y+t.y0<r.y&&(r.y=t.y+t.y0),t.x+t.x1>n.x&&(n.x=t.x+t.x1),t.y+t.y1>n.y&&(n.y=t.y+t.y1)}function u(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function c(e){return"function"==typeof e?e:function(){return e}}t.a=function(){var e,t,r,i,l,d,p,m=[256,256],b=u,h=[],g=Math.random,y={};function O(e,t,r){for(var n,i,a,s,u,c=t.x,f=t.y,l=Math.sqrt(m[0]*m[0]+m[1]*m[1]),d=b(m),p=g()<.5?1:-1,h=-p;(n=d(h+=p))&&(i=~~n[0],a=~~n[1],!(Math.min(Math.abs(i),Math.abs(a))>=l));)if(t.x=c+i,t.y=f+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>m[0]||t.y+t.y1>m[1]||r&&o(t,e,m[0])||r&&(u=r,!((s=t).x+s.x1>u[0].x&&s.x+s.x0<u[1].x&&s.y+s.y1>u[0].y&&s.y+s.y0<u[1].y)))){for(var y,O=t.sprite,v=t.width>>5,j=m[0]>>5,$=t.x-(v<<4),x=127&$,k=32-x,E=t.y1-t.y0,w=(t.y+t.y0)*j+($>>5),A=0;A<E;A++){y=0;for(var _=0;_<=v;_++)e[w+_]|=y<<k|(_<v?(y=O[A*v+_])>>>x:0);w+=j}return t.sprite=null,!0}return!1}return y.layout=function(){for(var o=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var r=e.getContext("2d");return r.fillStyle=r.strokeStyle="red",r.textAlign="center",{context:r,ratio:t}}(Object(n.a)()),u=function(e){var t=[],r=-1;for(;++r<e;)t[r]=0;return t}((m[0]>>5)*m[1]),c=null,f=h.length,b=-1,y=[],v=h.map(n=>({text:e(n),font:t(n),style:i(n),weight:l(n),rotate:d(n),size:~~(r(n)+1e-14),padding:p(n),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:n})).sort((e,t)=>t.size-e.size);++b<f;){var j=v[b];j.x=m[0]*(g()+.5)>>1,j.y=m[1]*(g()+.5)>>1,a(o,j,v,b),j.hasText&&O(u,j,c)&&(y.push(j),c?s(c,j):c=[{x:j.x+j.x0,y:j.y+j.y0},{x:j.x+j.x1,y:j.y+j.y1}],j.x-=m[0]>>1,j.y-=m[1]>>1)}return y},y.words=function(e){return arguments.length?(h=e,y):h},y.size=function(e){return arguments.length?(m=[+e[0],+e[1]],y):m},y.font=function(e){return arguments.length?(t=c(e),y):t},y.fontStyle=function(e){return arguments.length?(i=c(e),y):i},y.fontWeight=function(e){return arguments.length?(l=c(e),y):l},y.rotate=function(e){return arguments.length?(d=c(e),y):d},y.text=function(t){return arguments.length?(e=c(t),y):e},y.spiral=function(e){return arguments.length?(b=f[e]||e,y):b},y.fontSize=function(e){return arguments.length?(r=c(e),y):r},y.padding=function(e){return arguments.length?(p=c(e),y):p},y.random=function(e){return arguments.length?(g=e,y):g},y};var f={archimedean:u,rectangular:function(e){var t=4*e[0]/e[1],r=0,n=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:r+=t;break;case 1:n+=4;break;case 2:r-=t;break;default:n-=4}return[r,n]}}}},function(e,t,r){"use strict";r.r(t);var n=r(1187);r.d(t,"crossfilter",(function(){return n.a}));var i=r(1188);r.d(t,"resolvefilter",(function(){return i.a}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(391);function i(){let e=8,t=[],r=Object(n.b)(0),i=a(0,e),o=a(0,e);return{data:()=>t,seen:()=>r=function(e,t,r){return e.length>=t?e:((r=r||new e.constructor(t)).set(e),r)}(r,t.length),add(e){for(let r,n=0,i=t.length,a=e.length;n<a;++n)r=e[n],r._index=i++,t.push(r)},remove(e,r){const n=t.length,a=Array(n-e),s=t;let u,c,f;for(c=0;!r[c]&&c<n;++c)a[c]=t[c],s[c]=c;for(f=c;c<n;++c)u=t[c],r[c]?s[c]=-1:(s[c]=f,i[f]=i[c],o[f]=o[c],a[f]=u,u._index=f++),i[c]=0;return t=a,s},size:()=>t.length,curr:()=>i,prev:()=>o,reset:e=>o[e]=i[e],all:()=>e<257?255:e<65537?65535:4294967295,set(e,t){i[e]|=t},clear(e,t){i[e]&=~t},resize(t,r){(t>i.length||r>e)&&(e=Math.max(r,e),i=a(t,e,i),o=a(t,e))}}}function a(e,t,r){const i=(t<257?n.c:t<65537?n.a:n.b)(e);return r&&i.set(r),i}},function(e,t,r){"use strict";t.a=function(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}},function(e,t,r){"use strict";var n=r(349),i=r(1),a=r(77);t.a=function(e,t,r){var o,s,u,c=e._renderer,f=c&&c.canvas();return f&&(u=Object(n.b)(e),s=t.changedTouches?t.changedTouches[0]:t,(o=Object(a.Q)(s,f))[0]-=u[0],o[1]-=u[1]),t.dataflow=e,t.item=r,t.vega=function(e,t,r){var n=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var r,i=n;if(e)for(r=t;r;r=r.mark.group)if(r.mark.name===e){i=r;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return r;Object(i.I)(e)&&(e=a(e));for(var t=r.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(i.m)(e),item:Object(i.m)(t||{}),group:a,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}(e,r,o),t}},function(e,t,r){"use strict";function n(e){return e.item}function i(e){return e.item.mark.source}function a(e){return function(t,r){return r.vega.view().changeset().encode(r.item,e)}}t.a=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",n),i,a(e)),this.on(this.events("view","mouseout",n),i,a(t)),this}},function(e,t,r){"use strict";t.a=function(){var e,t,r,n=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(r=a[e]).sources.length;--t>=0;)r.sources[t].removeEventListener(r.type,r.handler);return n&&n.call(this,this._handler,null,null,null),this}},function(e,t,r){"use strict";var n=r(759),i=r(1349),a=r(248),o=r(760),s=r(1350),u=r(77);function c(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(r){t=null,e.error(r)}return t}t.a=function(e,t){const r=this,f=r._renderType,l=r._eventConfig.bind,d=Object(u.R)(f);e=r._el=e?c(r,e):null,Object(n.b)(r),d||r.error("Unrecognized renderer type: "+f);const p=d.handler||u.b,m=e?d.renderer:d.headless;return r._renderer=m?Object(o.a)(r,r._renderer,e,m):null,r._handler=Object(s.a)(r,r._handler,e,p),r._redraw=!0,e&&"none"!==l&&(t=t?r._elBind=c(r,t):e.appendChild(Object(a.a)("form",{class:"vega-bindings"})),r._bind.forEach(e=>{e.param.element&&"container"!==l&&(e.element=c(r,e.param.element))}),r._bind.forEach(e=>{Object(i.a)(r,e.element||t,e)})),r}},function(e,t,r){"use strict";var n=r(248),i=r(1),a=r(307);function o(e,t,r,i){const a=Object(n.a)("input");for(const e in r)"signal"!==e&&"element"!==e&&a.setAttribute("input"===e?"type":e,r[e]);a.setAttribute("name",r.signal),a.value=i,t.appendChild(a),a.addEventListener("input",()=>e.update(a.value)),e.elements=[a],e.set=e=>a.value=e}function s(e,t,r,i){const a={type:"checkbox",name:r.signal};i&&(a.checked=!0);const o=Object(n.a)("input",a);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=e=>o.checked=!!e||null}function u(e,t,r,i){const a=Object(n.a)("select",{name:r.signal}),o=r.labels||[];r.options.forEach((e,t)=>{const r={value:e};l(e,i)&&(r.selected=!0),a.appendChild(Object(n.a)("option",r,(o[t]||e)+""))}),t.appendChild(a),a.addEventListener("change",()=>{e.update(r.options[a.selectedIndex])}),e.elements=[a],e.set=e=>{for(let t=0,n=r.options.length;t<n;++t)if(l(r.options[t],e))return void(a.selectedIndex=t)}}function c(e,t,r,i){const a=Object(n.a)("span",{class:"vega-bind-radio"}),o=r.labels||[];t.appendChild(a),e.elements=r.options.map((t,s)=>{const u={type:"radio",name:r.signal,value:t};l(t,i)&&(u.checked=!0);const c=Object(n.a)("input",u);c.addEventListener("change",()=>e.update(t));const f=Object(n.a)("label",{},(o[s]||t)+"");return f.prepend(c),a.appendChild(f),c}),e.set=t=>{const r=e.elements,n=r.length;for(let e=0;e<n;++e)l(r[e].value,t)&&(r[e].checked=!0)}}function f(e,t,r,i){i=void 0!==i?i:(+r.max+ +r.min)/2;const o=null!=r.max?r.max:Math.max(100,+i)||100,s=r.min||Math.min(0,o,+i)||0,u=r.step||Object(a.c)(s,o,100),c=Object(n.a)("input",{type:"range",name:r.signal,min:s,max:o,step:u});c.value=i;const f=Object(n.a)("span",{},+i);t.appendChild(c),t.appendChild(f);const l=()=>{f.textContent=c.value,e.update(+c.value)};c.addEventListener("input",l),c.addEventListener("change",l),e.elements=[c],e.set=e=>{c.value=e,f.textContent=e}}function l(e,t){return e===t||e+""==t+""}t.a=function(e,t,r){if(!t)return;const a=r.param;let l=r.state;return l||(l=r.state={elements:null,active:!1,set:null,update:t=>{t!==e.signal(a.signal)&&e.runAsync(null,()=>{l.source=!0,e.signal(a.signal,t)})}},a.debounce&&(l.update=Object(i.n)(a.debounce,l.update))),function(e,t,r,i){const a=Object(n.a)("div",{class:"vega-bind"}),l="radio"===r.input?a:a.appendChild(Object(n.a)("label"));l.appendChild(Object(n.a)("span",{class:"vega-bind-name"},r.name||r.signal)),t.appendChild(a);let d=o;switch(r.input){case"checkbox":d=s;break;case"select":d=u;break;case"radio":d=c;break;case"range":d=f}d(e,l,r,i)}(l,t,a,e.signal(a.signal)),l.active||(e.on(e._signals[a.signal],null,()=>{l.source?l.source=!1:l.set(e.signal(a.signal))}),l.active=!0),l}},function(e,t,r){"use strict";var n=r(349),i=r(625);t.a=function(e,t,r,a){var o=new a(e.loader(),Object(i.a)(e,e.tooltip())).scene(e.scenegraph().root).initialize(r,Object(n.b)(e),e);return t&&t.handlers().forEach(e=>{o.on(e.type,e.handler)}),o}},function(e,t,r){"use strict";var n=r(532),i=r(77),a=r(1);t.a=async function(e,t){e!==i.i.Canvas&&e!==i.i.SVG&&e!==i.i.PNG&&Object(a.o)("Unrecognized image type: "+e);const r=await Object(n.a)(this,e,t);return e===i.i.SVG?(o=r.svg(),s=new Blob([o],{type:"image/svg+xml"}),window.URL.createObjectURL(s)):r.canvas().toDataURL("image/png");var o,s}},function(e,t,r){"use strict";var n=r(532),i=r(77);t.a=async function(e,t){return(await Object(n.a)(this,i.i.Canvas,e,t)).canvas()}},function(e,t,r){"use strict";var n=r(532),i=r(77);t.a=async function(e){return(await Object(n.a)(this,i.i.SVG,e)).svg()}},function(e,t,r){"use strict";var n=r(14),i=r(168),a=r(721);t.a=function(e,t,r){return Object(a.a)(e,n.s,i.b,r).parse(t)}},function(e,t,r){"use strict";var n=r(77),i=r(1);t.a=function(e,t,r){if(!e)return[];const[a,o]=e,s=(new n.a).set(a[0],a[1],o[0],o[1]),u=r||this.context.dataflow.scenegraph().root;return Object(n.B)(u,s,function(e){let t=null;if(e){const r=Object(i.i)(e.marktype),n=Object(i.i)(e.markname);t=e=>(!r.length||r.some(t=>e.marktype===t))&&(!n.length||n.some(t=>e.name===t))}return t}(t))}},function(e,t,r){"use strict";t.a=function(e){const t=this,r=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),r.forEach(e=>t.parseOperator(e)),r.forEach(e=>t.parseOperatorParameters(e)),(e.streams||[]).forEach(e=>t.parseStream(e)),(e.updates||[]).forEach(e=>t.parseUpdate(e)),t.resolve()}},function(e,t,r){"use strict";var n=r(470),i=r(1);function a(e,t,r){";"!==r[r.length-1]&&(r="return("+r+");");var n=Function.apply(null,t.concat(r));return e&&e.functions?n.bind(e.functions):n}t.a={operator:(e,t)=>a(e,["_"],t.code),parameter:(e,t)=>a(e,["datum","_"],t.code),event:(e,t)=>a(e,["event"],t.code),handler:(e,t)=>a(e,["_","event"],`var datum=event.item&&event.item.datum;return ${t.code};`),encode:(e,t)=>{const{marktype:r,channels:o}=t;let s="var o=item,datum=o.datum,m=0,$;";for(const e in o){const t="o["+Object(i.ab)(e)+"]";s+=`$=${o[e].code};if(${t}!==$)${t}=$,m=1;`}return s+=Object(n.a)(o,r),s+="return m;",a(e,["item","_"],s)},codegen:{get(e){const t=`[${e.map(i.ab).join("][")}]`,r=Function("_",`return _${t};`);return r.path=t,r},comparator(e,t){let r;const n=Function("a","b","var u, v; return "+e.map((e,n)=>{const i=t[n];let a,o;return e.path?(a="a"+e.path,o="b"+e.path):((r=r||{})["f"+n]=e,a=`this.f${n}(a)`,o=`this.f${n}(b)`),function(e,t,r,n){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${r}\n  : (u > v || v == null) && u != null ? ${n}\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${r}\n  : v !== v && u === u ? ${n} : `}(a,o,-i,i)}).join("")+"0;");return r?n.bind(r):n}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14),i=r(1);function a(e,t){t=t||{};const r=this;for(const n in e){const a=e[n];t[n]=Object(i.B)(a)?a.map(e=>o(e,r,t)):o(a,r,t)}return t}function o(e,t,r){if(!e||!Object(i.G)(e))return e;for(let n,a=0,o=s.length;a<o;++a)if(n=s[a],Object(i.w)(e,n.key))return n.parse(e,t,r);return e}var s=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(i.o)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const r="k:"+e.$key+"_"+!!e.$flat;return t.fn[r]||(t.fn[r]=Object(i.J)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,r){e.$params&&t.parseParameters(e.$params,r);const n="e:"+e.$expr.code+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(i.f)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const r="f:"+e.$field+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(i.u)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const r=e.$encode,n={};for(const e in r){const a=r[e];n[e]=Object(i.f)(t.encodeExpression(a.$expr),a.$fields),n[e].output=a.$output}return n}},{key:"$compare",parse:function(e,t){const r="c:"+e.$compare+"_"+e.$order,a=Object(i.i)(e.$compare).map(e=>e&&e.$tupleid?n.t:e);return t.fn[r]||(t.fn[r]=Object(i.l)(a,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const r=e.$subflow;return function(e,n,i){const a=t.fork().parse(r),o=a.get(r.operators[0].id),s=a.signals.parent;return s&&s.set(i),o.detachSubflow=()=>t.detach(a),o}}},{key:"$tupleid",parse:function(){return n.t}}]},function(e,t,r){"use strict";var n=r(1);t.a=function(e){var t,r=this,i=null!=e.filter?r.eventExpression(e.filter):void 0,a=null!=e.stream?r.get(e.stream):void 0;e.source?a=r.events(e.source,e.type,i):e.merge&&(a=(t=e.merge.map(e=>r.get(e)))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map(e=>r.get(e)),a=a.between(t[0],t[1])),e.filter&&(a=a.filter(i)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&Object(n.o)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),r.stream(e,a)}},function(e,t,r){"use strict";var n=r(1);t.a=function(e){var t,r=Object(n.G)(r=e.source)?r.$ref:r,i=this.get(r),a=e.update,o=void 0;i||Object(n.o)("Source not defined: "+e.source),t=e.target&&e.target.$expr?this.eventExpression(e.target.$expr):this.get(e.target),a&&a.$expr&&(a.$params&&(o=this.parseParameters(a.$params)),a=this.handlerExpression(a.$expr)),this.update(e,i,t,a,o)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(1);function i(e){var t=this._runtime.scales;return Object(n.w)(t,e)||Object(n.o)("Unrecognized scale or projection: "+e),t[e].value}},function(e,t,r){"use strict";var n=r(2019);t.a=function(e,t){this._timers.push(Object(n.a)((function(t){e({timestamp:Date.now(),elapsed:t})}),t))}},function(e,t,r){"use strict";var n=r(1);function i(e){return"["+e.map(a).join(", ")+"]"}function a(e){return Object(n.B)(e)?"[…]":Object(n.G)(e)&&!Object(n.D)(e)?"{…}":e}t.a=function(e,t,r,o){var s=e.element();s&&s.setAttribute("title",function(e){return null==e?"":Object(n.B)(e)?i(e):Object(n.G)(e)&&!Object(n.D)(e)?(t=e,Object.keys(t).map(e=>{var r=t[e];return e+": "+(Object(n.B)(r)?i(r):a(r))}).join("\n")):e+"";var t}(o))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(1365),i=r(1366),a=r(761),o=r(520),s=r(763),u=r(63),c=r(124),f=r(69),l=r(28),d=r(334),p=r(64),m=r(1);function b(e,t){const r=t.config,b=Object(l.p)(t.root=t.add(Object(l.o)())),g=function(e,t){const r=r=>Object(l.r)(e[r],t[r]),a=[h("background",r("background")),h("autosize",Object(n.a)(r("autosize"))),h("padding",Object(i.a)(r("padding"))),h("width",r("width")||0),h("height",r("height")||0)],o=a.reduce((e,t)=>(e[t.name]=t,e),{}),s={};return Object(m.i)(e.signals).forEach(e=>{Object(m.w)(o,e.name)?e=Object(m.p)(o[e.name],e):a.push(e),s[e.name]=e}),Object(m.i)(t.signals).forEach(e=>{Object(m.w)(s,e.name)||Object(m.w)(o,e.name)||a.push(e)}),a}(e,r);g.forEach(e=>Object(o.a)(e,t)),t.description=e.description||r.description,t.eventConfig=r.events,t.legends=t.objectProperty(r.legend&&r.legend.layout),t.locale=r.locale;const y=t.add(Object(p.d)()),O=t.add(Object(p.g)(Object(a.a)((e=>Object(u.c)({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),c.a,f.g,e.style,t,{pulse:Object(l.p)(y)}))),v=t.add(Object(p.B)({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:b,pulse:Object(l.p)(O)}));t.operators.pop(),t.pushState(Object(l.p)(O),Object(l.p)(v),null),Object(s.a)(e,t,g),t.operators.push(v);let j=t.add(Object(p.c)({mark:b,pulse:Object(l.p)(v)}));return j=t.add(Object(p.w)({pulse:Object(l.p)(j)})),j=t.add(Object(p.y)({pulse:Object(l.p)(j)})),t.addData("root",new d.a(t,y,y,j)),t}function h(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}},function(e,t,r){"use strict";var n=r(1);t.a=function(e){return Object(n.G)(e)?e:{type:e||"pad"}}},function(e,t,r){"use strict";var n=r(1);const i=e=>+e||0;t.a=function(e){return Object(n.G)(e)?e.signal?e:{top:i(e.top),bottom:i(e.bottom),left:i(e.left),right:i(e.right)}:{top:t=i(e),bottom:t,left:t,right:t};var t}},function(e,t,r){"use strict";var n=r(63),i=r(69),a=r(1);function o(e,t,r){e[t]=r&&r.signal?{signal:r.signal}:{value:r}}t.a=function(e,t,r,s,u){const c={},f={};let l,d,p,m;for(d in d="lineBreak","text"!==t||null==u[d]||Object(n.d)(d,e)||o(c,d,u[d]),("legend"==r||String(r).startsWith("axis"))&&(r=null),m=r===i.g?u.group:r===i.o?Object(a.p)({},u.mark,u[t]):null,m)p=Object(n.d)(d,e)||("fill"===d||"stroke"===d)&&(Object(n.d)("fill",e)||Object(n.d)("stroke",e)),p||o(c,d,m[d]);for(d in Object(a.i)(s).forEach(t=>{const r=u.style&&u.style[t];for(const t in r)Object(n.d)(t,e)||o(c,t,r[t])}),e=Object(a.p)({},e),c)m=c[d],m.signal?(l=l||{})[d]=m:f[d]=m;return e.enter=Object(a.p)(f,e.enter),l&&(e.update=Object(a.p)(l,e.update)),e}},function(e,t,r){"use strict";var n=r(762),i=r(1);t.a=function(e){let t="";return e.forEach(e=>{const r=Object(n.a)(e);t+=e.test?`(${e.test})?${r}:`:r}),":"===Object(i.V)(t)&&(t+="null"),t}},function(e,t,r){"use strict";var n=r(723),i=r(28),a=r(255),o=r(168),s=r(1);const u={code:"_.$value",ast:{type:"Identifier",value:"value"}};function c(e){return{signal:"["+e.map(e=>e.scale?'scale("'+e.scale+'")':e.signal)+"]"}}t.a=function(e,t,r){const f=e.encode,l={target:r};let d=e.events,p=e.update,m=[];d||Object(s.o)("Signal update missing events specification."),Object(s.I)(d)&&(d=Object(a.a)(d,t.isSubscope()?i.c:i.d)),d=Object(s.i)(d).filter(e=>e.signal||e.scale?(m.push(e),0):1),m.length>1&&(m=[c(m)]),d.length&&m.push(d.length>1?{merge:d}:d[0]),null!=f&&(p&&Object(s.o)("Signal encode and update are mutually exclusive."),p="encode(item(),"+Object(s.ab)(f)+")"),l.update=Object(s.I)(p)?Object(o.c)(p,t):null!=p.expr?Object(o.c)(p.expr,t):null!=p.value?p.value:null!=p.signal?{$expr:u,$params:{$value:t.signalRef(p.signal)}}:Object(s.o)("Invalid signal update specification."),e.force&&(l.options={force:!0}),m.forEach(e=>t.addUpdate(Object(s.p)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Object(n.a)(e,t)}}(e,t),l)))}},function(e,t,r){"use strict";var n=r(1);function i(e,t,r){return Object(n.B)(e)?e.map(e=>i(e,t,r)):Object(n.G)(e)?e.signal?r.signalRef(e.signal):"fit"===t?e:Object(n.o)("Unsupported parameter object: "+Object(n.ab)(e)):e}t.a=function(e,t){const r=t.config.projection||{},n={};for(const r in e)"name"!==r&&(n[r]=i(e[r],r,t));for(const e in r)null==n[e]&&(n[e]=i(r[e],e,t));t.addProjection(e.name,n)}},function(e,t,r){"use strict";var n=r(63),i=r(26),a=r(373),o=r(106),s=r(1372),u=r(1373),c=r(1e3),f=r(1001),l=r(1374),d=r(412),p=r(69),m=r(28),b=r(64),h=r(168),g=r(47),y=r(1);function O(e,t,r){const i={enter:{},update:{}};return Object(n.a)(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:r.strokeWidth,strokeDash:r.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}function v(e,t,r){return t[e]?`scale("${t[e]}",datum)`:Object(o.d)(e,r[0].encode)}t.a=function(e,t){const r=t.config.legend,j=e.encode||{},$=Object(o.f)(e,r),x=j.legend||{},k=x.name||void 0,E=x.interactive,w=x.style,A={};let _,F,D,S=0;i.m.forEach(t=>e[t]?(A[t]=e[t],S=S||e[t]):0),S||Object(y.o)("Missing valid scale for legend.");const C=function(e,t){let r=e.type||i.v;e.type||1!==function(e){return i.m.reduce((t,r)=>t+(e[r]?1:0),0)}(e)||!e.fill&&!e.stroke||(r=Object(g.x)(t)?i.e:Object(g.z)(t)?i.c:i.v);return r!==i.e?r:Object(g.z)(t)?i.c:i.e}(e,t.scaleType(S)),M={title:null!=e.title,scales:A,type:C,vgrad:"symbol"!==C&&$.isVertical()},q=Object(m.p)(t.add(Object(b.d)(null,[M]))),z=Object(m.p)(t.add(Object(b.l)(F={type:C,scale:t.scaleRef(S),count:t.objectProperty($("tickCount")),limit:t.property($("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return C===i.e?(D=[Object(s.a)(e,S,r,j.gradient),Object(c.a)(e,r,j.labels,z)],F.count=F.count||t.signalRef(`max(2,2*floor((${Object(m.g)($.gradientLength())})/100))`)):C===i.c?D=[Object(u.a)(e,S,r,j.gradient,z),Object(c.a)(e,r,j.labels,z)]:(_=Object(f.b)(e,r),D=[Object(f.a)(e,r,j,z,Object(m.g)(_.columns))],F.size=function(e,t,r){const n=Object(m.g)(v("size",e,r)),a=Object(m.g)(v("strokeWidth",e,r)),s=Object(m.g)(function(e,t,r){return Object(o.d)("fontSize",e)||Object(o.e)("fontSize",t,r)}(r[1].encode,t,i.h));return Object(h.c)(`max(ceil(sqrt(${n})+${a}),${s})`,t)}(e,t,D[0].marks)),D=[Object(a.a)({role:p.i,from:q,encode:{enter:{x:{value:0},y:{value:0}}},marks:D,layout:_,interactive:E})],M.title&&D.push(Object(l.a)(e,r,j.title,q)),Object(d.a)(Object(a.a)({role:p.l,from:q,encode:Object(n.c)(O($,e,r),x,i.t),marks:D,aria:$("aria"),description:$("description"),zindex:$("zindex"),name:k,interactive:E,style:w}),t)}},function(e,t,r){"use strict";var n=r(26),i=r(156),a=r(106),o=r(63),s=r(124),u=r(69),c=r(1);t.a=function(e,t,r,f){const l=Object(a.f)(e,r),d=l.isVertical(),p=l.gradientThickness(),m=l.gradientLength();let b,h,g,y,O;d?(h=[0,1],g=[0,0],y=p,O=m):(h=[0,0],g=[1,0],y=m,O=p);const v={enter:b={opacity:n.A,x:n.A,y:n.A,width:Object(o.b)(y),height:Object(o.b)(O)},update:Object(c.p)({},b,{opacity:n.z,fill:{gradient:t,start:h,stop:g}}),exit:{opacity:n.A}};return Object(o.a)(v,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),Object(i.a)({type:s.b,role:u.j,encode:v},f)}},function(e,t,r){"use strict";var n=r(26),i=r(156),a=r(106),o=r(63),s=r(124),u=r(69),c=r(1);t.a=function(e,t,r,f,l){const d=Object(a.f)(e,r),p=d.isVertical(),m=d.gradientThickness(),b=d.gradientLength();let h,g,y,O,v="";p?(h="y",y="y2",g="x",O="width",v="1-"):(h="x",y="x2",g="y",O="height");const j={opacity:n.A,fill:{scale:t,field:n.x}};j[h]={signal:v+"datum."+n.p,mult:b},j[g]=n.A,j[y]={signal:v+"datum."+n.q,mult:b},j[O]=Object(o.b)(m);const $={enter:j,update:Object(c.p)({},j,{opacity:n.z}),exit:{opacity:n.A}};return Object(o.a)($,{stroke:d("gradientStrokeColor"),strokeWidth:d("gradientStrokeWidth")},{opacity:d("gradientOpacity")}),Object(i.a)({type:s.b,role:u.h,key:n.x,from:l,encode:$},f)}},function(e,t,r){"use strict";var n=r(26),i=r(156),a=r(106),o=r(63),s=r(124),u=r(69);const c='item.orient === "left"',f='item.orient === "right"',l=`(${c} || ${f})`,d="datum.vgrad && "+l,p=Object(a.b)('"top"','"bottom"','"middle"'),m=`datum.vgrad && ${f} ? (${Object(a.b)('"right"','"left"','"center"')}) : (${l} && !(datum.vgrad && ${c})) ? "left" : ${a.a}`,b=`item._anchor || (${l} ? "middle" : "start")`,h=`${d} ? (${c} ? -90 : 90) : 0`,g=`${l} ? (datum.vgrad ? (${f} ? "bottom" : "top") : ${p}) : "top"`;t.a=function(e,t,r,c){const f=Object(a.f)(e,t),l={enter:{opacity:n.A},update:{opacity:n.z,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:n.A}};return Object(o.a)(l,{orient:f("titleOrient"),_anchor:f("titleAnchor"),anchor:{signal:b},angle:{signal:h},align:{signal:m},baseline:{signal:g},text:e.title,fill:f("titleColor"),fillOpacity:f("titleOpacity"),font:f("titleFont"),fontSize:f("titleFontSize"),fontStyle:f("titleFontStyle"),fontWeight:f("titleFontWeight"),limit:f("titleLimit"),lineHeight:f("titleLineHeight")},{align:f("titleAlign"),baseline:f("titleBaseline")}),Object(i.a)({type:s.e,role:u.n,style:n.i,from:c,encode:l},r)}},function(e,t,r){"use strict";var n=r(1);function i(e){return Object(n.G)(e)&&e.signal?e.signal:Object(n.ab)(e)}t.a=function(e,t){let r;return Object(n.G)(e)&&(e.signal?r=e.signal:e.path?r="pathShape("+i(e.path)+")":e.sphere&&(r="geoShape("+i(e.sphere)+', {type: "Sphere"})')),r?t.signalRef(r):!!e}},function(e,t,r){"use strict";var n=r(764);t.a=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Object(n.a)(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}},function(e,t,r){"use strict";t.a=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}},function(e,t,r){"use strict";var n=r(765),i=r(334),a=r(64),o=r(28),s=r(1);t.a=function(e,t,r){const u=e.from.facet,c=u.name,f=Object(n.b)(u,t);let l;u.name||Object(s.o)("Facet must have a name: "+Object(s.ab)(u)),u.data||Object(s.o)("Facet must reference a data set: "+Object(s.ab)(u)),u.field?l=t.add(Object(a.s)({field:t.fieldRef(u.field),pulse:f})):u.groupby?l=t.add(Object(a.i)({key:t.keyRef(u.groupby),group:Object(o.p)(t.proxy(r.parent)),pulse:f})):Object(s.o)("Facet must specify groupby or field: "+Object(s.ab)(u));const d=t.fork(),p=d.add(Object(a.d)()),m=d.add(Object(a.y)({pulse:Object(o.p)(p)}));d.addData(c,new i.a(d,p,p,m)),d.addSignal("parent",null),l.params.subflow={$subflow:d.parse(e).toRuntime()}}},function(e,t,r){"use strict";var n=r(64);t.a=function(e,t,r){const i=t.add(Object(n.s)({pulse:r.pulse})),a=t.fork();a.add(Object(n.y)()),a.addSignal("parent",null),i.params.subflow={$subflow:a.parse(e).toRuntime()}}},function(e,t,r){"use strict";var n=r(63),i=r(26),a=r(373),o=r(156),s=r(106),u=r(412),c=r(124),f=r(69),l=r(64),d=r(28),p=r(1);const m=`item.orient==="${i.l}"?-90:item.orient==="${i.r}"?90:0`;function b(e,t){const r={enter:{},update:{}};return Object(n.a)(r,{orient:e("orient"),anchor:e("anchor"),align:{signal:s.a},angle:{signal:m},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Object(n.c)(r,t,i.t)}t.a=function(e,t){e=Object(p.I)(e)?{text:e}:e;const r=Object(s.f)(e,t.config.title),m=e.encode||{},h=m.group||{},g=h.name||void 0,y=h.interactive,O=h.style,v=[],j=Object(d.p)(t.add(Object(l.d)(null,[{}])));return v.push(function(e,t,r,a){const s={value:0},u=e.text,l={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return Object(n.a)(l,{text:u,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Object(o.a)({type:c.e,role:f.s,style:i.g,from:a,encode:l},r)}(e,r,function(e){const t=e.encode;return t&&t.title||Object(p.p)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),j)),e.subtitle&&v.push(function(e,t,r,a){const s={value:0},u=e.subtitle,l={enter:{opacity:s},update:{opacity:{value:1}},exit:{opacity:s}};return Object(n.a)(l,{text:u,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Object(o.a)({type:c.e,role:f.r,style:i.f,from:a,encode:l},r)}(e,r,m.subtitle,j)),Object(u.a)(Object(a.a)({role:f.q,from:j,encode:b(r,h),marks:v,aria:r("aria"),description:r("description"),zindex:r("zindex"),name:g,interactive:y,style:O}),t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(533),i=r(766),a=r(64),o=r(28),s=r(1);function u(e,t){const r=[];e.transform&&e.transform.forEach(e=>{r.push(Object(n.a)(e,t))}),e.on&&e.on.forEach(r=>{Object(i.a)(r,t,e.name)}),t.addDataPipeline(e.name,function(e,t,r){const n=[];let i,u,l,d,p,m=null,b=!1,h=!1;e.values?Object(o.j)(e.values)||Object(o.j)(e.format)?(n.push(f(t,e)),n.push(m=c())):n.push(m=c({$ingest:e.values,$format:e.format})):e.url?Object(o.j)(e.url)||Object(o.j)(e.format)?(n.push(f(t,e)),n.push(m=c())):n.push(m=c({$request:e.url,$format:e.format})):e.source&&(m=i=Object(s.i)(e.source).map(e=>Object(o.p)(t.getData(e).output)),n.push(null));for(u=0,l=r.length;u<l;++u)d=r[u],p=d.metadata,m||p.source||n.push(m=c()),n.push(d),p.generates&&(h=!0),p.modifies&&!h&&(b=!0),p.source?m=d:p.changes&&(m=null);i&&(l=i.length-1,n[0]=Object(a.v)({derive:b,pulse:l?i:i[0]}),(b||l)&&n.splice(1,0,c()));m||n.push(c());return n.push(Object(a.y)({})),n}(e,t,r))}function c(e){const t=Object(a.d)({},e);return t.metadata={source:!0},t}function f(e,t){return Object(a.m)({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}},function(e,t,r){"use strict";var n=r(63),i=r(1383),a=r(1384),o=r(1385),s=r(1386),u=r(1387),c=r(1388),f=r(26),l=r(373),d=r(106),p=r(69),m=r(412),b=r(64),h=r(28);function g(e,t){const r={enter:{},update:{}};return Object(n.a)(r,{orient:e("orient"),offset:e("offset")||0,position:Object(h.r)(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),r}t.a=function(e,t){const r=Object(i.a)(e,t),y=e.encode||{},O=y.axis||{},v=O.name||void 0,j=O.interactive,$=O.style,x=Object(d.f)(e,r),k=Object(d.g)(x),E={scale:e.scale,ticks:!!x("ticks"),labels:!!x("labels"),grid:!!x("grid"),domain:!!x("domain"),title:null!=e.title},w=Object(h.p)(t.add(Object(b.d)({},[E]))),A=Object(h.p)(t.add(Object(b.b)({scale:t.scaleRef(e.scale),extra:t.property(k.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),_=[];let F;return E.grid&&_.push(Object(o.a)(e,r,y.grid,A,k)),E.ticks&&(F=x("tickSize"),_.push(Object(s.a)(e,r,y.ticks,A,F,k))),E.labels&&(F=E.ticks?F:0,_.push(Object(u.a)(e,r,y.labels,A,F,k))),E.domain&&_.push(Object(a.a)(e,r,y.domain,w)),E.title&&_.push(Object(c.a)(e,r,y.title,w)),Object(m.a)(Object(l.a)({role:p.d,from:w,encode:Object(n.c)(g(x,e),O,f.t),marks:_,aria:x("aria"),description:x("description"),zindex:x("zindex"),name:v,interactive:j,style:$}),t)}},function(e,t,r){"use strict";var n=r(82),i=r(26),a=r(28),o=r(1);function s(e,t,r,n){let a;if(t&&Object(o.w)(t,e))return t[e];if(Object(o.w)(r,e))return r[e];if(e.startsWith("title")){switch(e){case"titleColor":a="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":a=e[5].toLowerCase()+e.slice(6)}return n[i.i][a]}if(e.startsWith("label")){switch(e){case"labelColor":a="fill";break;case"labelFont":case"labelFontSize":a=e[5].toLowerCase()+e.slice(6)}return n[i.h][a]}return null}function u(e){const t={};for(const r of e)if(r)for(const e in r)t[e]=1;return Object.keys(t)}t.a=function(e,t){var r,c,f,l=t.config,d=l.style,p=l.axis,m="band"===t.scaleType(e.scale)&&l.axisBand,b=e.orient;if(Object(a.l)(b)){const e=u([l.axisX,l.axisY]),t=u([l.axisTop,l.axisBottom,l.axisLeft,l.axisRight]);for(f of(r={},e))r[f]=Object(n.e)(b,s(f,l.axisX,p,d),s(f,l.axisY,p,d));for(f of(c={},t))c[f]=Object(n.b)(b.signal,s(f,l.axisTop,p,d),s(f,l.axisBottom,p,d),s(f,l.axisLeft,p,d),s(f,l.axisRight,p,d))}else r=b===i.w||b===i.a?l.axisX:l.axisY,c=l["axis"+b[0].toUpperCase()+b.slice(1)];return r||c||m?Object(o.p)({},p,r,c,m):p}},function(e,t,r){"use strict";var n=r(82),i=r(26),a=r(156),o=r(106),s=r(63),u=r(124),c=r(69);function f(e,t){return{scale:e.scale,range:t}}t.a=function(e,t,r,l){const d=Object(o.f)(e,t),p=e.orient;let m,b;const h={enter:m={opacity:i.A},update:b={opacity:i.z},exit:{opacity:i.A}};Object(s.a)(h,{stroke:d("domainColor"),strokeCap:d("domainCap"),strokeDash:d("domainDash"),strokeDashOffset:d("domainDashOffset"),strokeWidth:d("domainWidth"),strokeOpacity:d("domainOpacity")});const g=f(e,0),y=f(e,1);return m.x=b.x=Object(n.e)(p,g,i.A),m.x2=b.x2=Object(n.e)(p,y),m.y=b.y=Object(n.f)(p,g,i.A),m.y2=b.y2=Object(n.f)(p,y),Object(a.a)({type:u.c,role:c.a,from:l,encode:h},r)}},function(e,t,r){"use strict";var n=r(82),i=r(26),a=r(156),o=r(106),s=r(63),u=r(124),c=r(69),f=r(28),l=r(1);t.a=function(e,t,r,d,p){const m=Object(o.f)(e,t),b=e.orient,h=e.gridScale,g=Object(n.a)(b,1,-1),y=function(e,t){if(1===t);else if(Object(l.G)(e)){let r=e=Object(l.p)({},e);for(;null!=r.mult;){if(!Object(l.G)(r.mult))return r.mult=Object(f.l)(t)?{signal:`(${r.mult}) * (${t.signal})`}:r.mult*t,e;r=r.mult=Object(l.p)({},r.mult)}r.mult=t}else e=Object(f.l)(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,g);let O,v,j;const $={enter:O={opacity:i.A},update:j={opacity:i.z},exit:v={opacity:i.A}};Object(s.a)($,{stroke:m("gridColor"),strokeCap:m("gridCap"),strokeDash:m("gridDash"),strokeDashOffset:m("gridDashOffset"),strokeOpacity:m("gridOpacity"),strokeWidth:m("gridWidth")});const x={scale:e.scale,field:i.x,band:p.band,extra:p.extra,offset:p.offset,round:m("tickRound")},k=Object(n.e)(b,{signal:"height"},{signal:"width"}),E=h?{scale:h,range:0,mult:g,offset:y}:{value:0,offset:y},w=h?{scale:h,range:1,mult:g,offset:y}:Object(l.p)(k,{mult:g,offset:y});return O.x=j.x=Object(n.e)(b,x,E),O.y=j.y=Object(n.f)(b,x,E),O.x2=j.x2=Object(n.f)(b,w),O.y2=j.y2=Object(n.e)(b,w),v.x=Object(n.e)(b,x),v.y=Object(n.f)(b,x),Object(a.a)({type:u.c,role:c.b,key:i.x,from:d,encode:$},r)}},function(e,t,r){"use strict";var n=r(82),i=r(26),a=r(156),o=r(106),s=r(63),u=r(124),c=r(69);t.a=function(e,t,r,f,l,d){const p=Object(o.f)(e,t),m=e.orient,b=Object(n.a)(m,-1,1);let h,g,y;const O={enter:h={opacity:i.A},update:y={opacity:i.z},exit:g={opacity:i.A}};Object(s.a)(O,{stroke:p("tickColor"),strokeCap:p("tickCap"),strokeDash:p("tickDash"),strokeDashOffset:p("tickDashOffset"),strokeOpacity:p("tickOpacity"),strokeWidth:p("tickWidth")});const v=Object(s.b)(l);v.mult=b;const j={scale:e.scale,field:i.x,band:d.band,extra:d.extra,offset:d.offset,round:p("tickRound")};return y.y=h.y=Object(n.e)(m,i.A,j),y.y2=h.y2=Object(n.e)(m,v),g.x=Object(n.e)(m,j),y.x=h.x=Object(n.f)(m,i.A,j),y.x2=h.x2=Object(n.f)(m,v),g.y=Object(n.f)(m,j),Object(a.a)({type:u.c,role:c.e,key:i.x,from:f,encode:O},r)}},function(e,t,r){"use strict";var n=r(82),i=r(26),a=r(156),o=r(106),s=r(63),u=r(124),c=r(69),f=r(28);function l(e,t,r,n,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+r+","+n+","+i+")"}}t.a=function(e,t,r,d,p,m){const b=Object(o.f)(e,t),h=e.orient,g=e.scale,y=Object(n.a)(h,-1,1),O=Object(f.g)(b("labelFlush")),v=Object(f.g)(b("labelFlushOffset")),j=b("labelAlign"),$=b("labelBaseline");let x,k=0===O||!!O;const E=Object(s.b)(p);E.mult=y,E.offset=Object(s.b)(b("labelPadding")||0),E.offset.mult=y;const w={scale:g,field:i.x,band:.5,offset:Object(o.c)(m.offset,b("labelOffset"))},A=Object(n.e)(h,k?l(g,O,'"left"','"right"','"center"'):{value:"center"},Object(n.c)(h,"left","right")),_=Object(n.e)(h,Object(n.d)(h,"bottom","top"),k?l(g,O,'"top"','"bottom"','"middle"'):{value:"middle"}),F=l(g,O,`-(${v})`,v,0);k=k&&v;const D={opacity:i.A,x:Object(n.e)(h,w,E),y:Object(n.f)(h,w,E)},S={enter:D,update:x={opacity:i.z,text:{field:i.k},x:D.x,y:D.y,align:A,baseline:_},exit:{opacity:i.A,x:D.x,y:D.y}};Object(s.a)(S,{dx:!j&&k?Object(n.e)(h,F):null,dy:!$&&k?Object(n.f)(h,F):null}),Object(s.a)(S,{angle:b("labelAngle"),fill:b("labelColor"),fillOpacity:b("labelOpacity"),font:b("labelFont"),fontSize:b("labelFontSize"),fontWeight:b("labelFontWeight"),fontStyle:b("labelFontStyle"),limit:b("labelLimit"),lineHeight:b("labelLineHeight")},{align:j,baseline:$});const C=b("labelBound");let M=b("labelOverlap");return M=M||C?{separation:b("labelSeparation"),method:M,order:"datum.index",bound:C?{scale:g,orient:h,tolerance:C}:null}:void 0,x.align!==A&&(x.align=Object(n.h)(x.align,A)),x.baseline!==_&&(x.baseline=Object(n.h)(x.baseline,_)),Object(a.a)({type:u.e,role:c.c,style:i.h,key:i.x,from:d,encode:S,overlap:M},r)}},function(e,t,r){"use strict";var n=r(82),i=r(26),a=r(156),o=r(106),s=r(63),u=r(124),c=r(69),f=r(1);t.a=function(e,t,r,l){const d=Object(o.f)(e,t),p=e.orient,m=Object(n.a)(p,-1,1);let b,h;const g={enter:b={opacity:i.A,anchor:Object(s.b)(d("titleAnchor",null)),align:{signal:o.a}},update:h=Object(f.p)({},b,{opacity:i.z,text:Object(s.b)(e.title)}),exit:{opacity:i.A}},y={signal:`lerp(range("${e.scale}"), ${Object(o.b)(0,1,.5)})`};return h.x=Object(n.e)(p,y),h.y=Object(n.f)(p,y),b.angle=Object(n.e)(p,i.A,Object(n.g)(m,90)),b.baseline=Object(n.e)(p,Object(n.d)(p,i.a,i.w),{value:i.a}),h.angle=b.angle,h.baseline=b.baseline,Object(s.a)(g,{fill:d("titleColor"),fillOpacity:d("titleOpacity"),font:d("titleFont"),fontSize:d("titleFontSize"),fontStyle:d("titleFontStyle"),fontWeight:d("titleFontWeight"),limit:d("titleLimit"),lineHeight:d("titleLineHeight")},{align:d("titleAlign"),angle:d("titleAngle"),baseline:d("titleBaseline")}),function(e,t,r,i){const a=(e,t)=>null!=e?(r.update[t]=Object(n.h)(Object(s.b)(e),r.update[t]),!1):!Object(s.d)(t,i),o=a(e("titleX"),"x"),u=a(e("titleY"),"y");r.enter.auto=u===o?Object(s.b)(u):Object(n.e)(t,Object(s.b)(u),Object(s.b)(o))}(d,p,g,r),g.update.align=Object(n.h)(g.update.align,b.align),g.update.angle=Object(n.h)(g.update.angle,b.angle),g.update.baseline=Object(n.h)(g.update.baseline,b.baseline),Object(a.a)({type:u.e,role:c.f,style:i.i,from:l,encode:g},r)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(38),r(1570),r(145),r(1038);var n,i=r(83),a=r(274);r(1039),r(821),r(319),r(1),r(1574),r(858),r(1040),r(1222);const o=i;let s=a;const u="undefined"!=typeof window?window:void 0;void 0===s&&(null===(n=null==u?void 0:u.vl)||void 0===n?void 0:n.compile)&&(s=u.vl);o.version,s&&s.version},,function(e){e.exports=JSON.parse('{"name":"vega-themes","version":"2.8.5","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"https://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"@rollup/plugin-json":"^4.1.0","browser-sync":"^2.26.7","concurrently":"^5.2.0","gh-pages":"^3.1.0","rollup":"^2.21.0","terser":"^4.8.0","typescript":"^3.9.6","vega":"^5.10.0","vega-lite":"^4.8.1","vega-lite-dev-config":"^0.11.8"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.23.2","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@rollup/plugin-commonjs":"13.0.0","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^8.1.0","@types/jest":"^26.0.4","browser-sync":"^2.26.7","codecov":"^3.7.0","concurrently":"^5.2.0","gh-pages":"^3.1.0","jest":"^26.1.0","node-sass":"^4.14.1","path":"^0.12.7","rollup":"^2.21.0","terser":"^4.8.0","ts-jest":"^26.1.1","typescript":"^3.9.6","vega-datasets":"^2.1.0","vega-lite-dev-config":"^0.11.8","vega-typings":"^0.18.0"},"dependencies":{"vega-util":"^1.14.1"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},function(e,t,r){"use strict";t.a="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n"},function(e,t,r){"use strict";t.a=function(e,t,r){const n=e.open(t),{origin:i}=new URL(t);let a=40;e.addEventListener("message",(function t(r){r.source===n&&(a=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){a<=0||(n.postMessage(r,i),setTimeout(e,250),a-=1)}),250)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"Bar Charts":[{"name":"bar-chart"},{"name":"stacked-bar-chart"},{"name":"grouped-bar-chart"},{"name":"nested-bar-chart"},{"name":"population-pyramid"}],"Line & Area Charts":[{"name":"line-chart"},{"name":"area-chart"},{"name":"stacked-area-chart"},{"name":"horizon-graph"},{"name":"job-voyager"}],"Circular Charts":[{"name":"pie-chart"},{"name":"donut-chart"},{"name":"radial-plot"},{"name":"radar-chart"}],"Scatter Plots":[{"name":"scatter-plot"},{"name":"scatter-plot-null-values"},{"name":"connected-scatter-plot"},{"name":"error-bars"},{"name":"barley-trellis-plot"},{"name":"regression"},{"name":"loess-regression"}],"Distributions":[{"name":"top-k-plot"},{"name":"top-k-plot-with-others"},{"name":"histogram"},{"name":"histogram-null-values"},{"name":"dot-plot"},{"name":"probability-density"},{"name":"box-plot"},{"name":"violin-plot"},{"name":"binned-scatter-plot"},{"name":"contour-plot"},{"name":"wheat-plot"},{"name":"quantile-quantile-plot"},{"name":"quantile-dot-plot"},{"name":"hypothetical-outcome-plots"},{"name":"time-units"}],"Geographic Maps":[{"name":"county-unemployment"},{"name":"dorling-cartogram"},{"name":"world-map"},{"name":"earthquakes"},{"name":"projections"},{"name":"zoomable-world-map"},{"name":"distortion-comparison"},{"name":"volcano-contours"},{"name":"wind-vectors"},{"name":"annual-precipitation"}],"Tree Diagrams":[{"name":"tree-layout"},{"name":"radial-tree-layout"},{"name":"treemap"},{"name":"circle-packing"},{"name":"sunburst"}],"Network Diagrams":[{"name":"edge-bundling"},{"name":"force-directed-layout"},{"name":"reorderable-matrix"},{"name":"arc-diagram"},{"name":"airport-connections"}],"Other Chart Types":[{"name":"heatmap"},{"name":"density-heatmaps"},{"name":"parallel-coordinates"},{"name":"word-cloud"},{"name":"beeswarm-plot"}],"Custom Designs":[{"name":"budget-forecasts"},{"name":"wheat-and-wages"},{"name":"falkensee-population"},{"name":"annual-temperature"},{"name":"weekly-temperature"},{"name":"flight-passengers"},{"name":"timelines"},{"name":"u-district-cuisine"},{"name":"clock"},{"name":"watch"}],"Interaction Techniques":[{"name":"crossfilter-flights"},{"name":"overview-plus-detail"},{"name":"brushing-scatter-plots"},{"name":"zoomable-scatter-plot"},{"name":"global-development"},{"name":"interactive-legend"},{"name":"stock-index-chart"},{"name":"pi-monte-carlo"},{"name":"pacman"}]}')},,function(e,t,r){const n=r(502);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},function(e,t,r){const n=r(502);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},function(e,t,r){const n=r(228);e.exports=(e,t,r,i)=>{"string"==typeof r&&(i=r,r=void 0);try{return new n(e,r).inc(t,i).version}catch(e){return null}}},function(e,t,r){const n=r(502),i=r(884);e.exports=(e,t)=>{if(i(e,t))return null;{const r=n(e),i=n(t),a=r.prerelease.length||i.prerelease.length,o=a?"pre":"",s=a?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==i[e])return o+e;return s}}},function(e,t,r){const n=r(228);e.exports=(e,t)=>new n(e,t).major},function(e,t,r){const n=r(228);e.exports=(e,t)=>new n(e,t).minor},function(e,t,r){const n=r(228);e.exports=(e,t)=>new n(e,t).patch},function(e,t,r){const n=r(502);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},function(e,t,r){const n=r(310);e.exports=(e,t,r)=>n(t,e,r)},function(e,t,r){const n=r(310);e.exports=(e,t)=>n(e,t,!0)},function(e,t,r){const n=r(885);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},function(e,t,r){const n=r(885);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},function(e,t,r){const n=r(228),i=r(502),{re:a,t:o}=r(501);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=a[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),a[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;a[o.COERCERTL].lastIndex=-1}else r=e.match(a[o.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},function(e,t,r){const n=r(311);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},function(e,t,r){const n=r(228),i=r(311);e.exports=(e,t,r)=>{let a=null,o=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(a&&-1!==o.compare(e)||(a=e,o=new n(a,r)))}),a}},function(e,t,r){const n=r(228),i=r(311);e.exports=(e,t,r)=>{let a=null,o=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(a&&1!==o.compare(e)||(a=e,o=new n(a,r)))}),a}},function(e,t,r){const n=r(228),i=r(311),a=r(673);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){e.set[t].forEach(e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!a(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}return r&&e.test(r)?r:null}},function(e,t,r){const n=r(311);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},function(e,t,r){const n=r(889);e.exports=(e,t,r)=>n(e,t,">",r)},function(e,t,r){const n=r(889);e.exports=(e,t,r)=>n(e,t,"<",r)},function(e,t,r){const n=r(311);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},function(e,t,r){const n=r(675),i=r(310);e.exports=(e,t,r)=>{const a=[];let o=null,s=null;const u=e.sort((e,t)=>i(e,t,r));for(const e of u){n(e,t,r)?(s=e,o||(o=e)):(s&&a.push([o,s]),s=null,o=null)}o&&a.push([o,null]);const c=[];for(const[e,t]of a)e===t?c.push(e):t||e!==u[0]?t?e===u[0]?c.push("<="+t):c.push(`${e} - ${t}`):c.push(">="+e):c.push("*");const f=c.join(" || "),l="string"==typeof t.raw?t.raw:String(t);return f.length<l.length?f:t}},function(e,t,r){const n=r(311),{ANY:i}=r(674),a=r(675),o=r(310),s=(e,t,r)=>{if(1===e.length&&e[0].semver===i)return 1===t.length&&t[0].semver===i;const n=new Set;let s,f,l,d,p,m,b;for(const t of e)">"===t.operator||">="===t.operator?s=u(s,t,r):"<"===t.operator||"<="===t.operator?f=c(f,t,r):n.add(t.semver);if(n.size>1)return null;if(s&&f){if(l=o(s.semver,f.semver,r),l>0)return null;if(0===l&&(">="!==s.operator||"<="!==f.operator))return null}for(const e of n){if(s&&!a(e,String(s),r))return null;if(f&&!a(e,String(f),r))return null;for(const n of t)if(!a(e,String(n),r))return!1;return!0}for(const e of t){if(b=b||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,s)if(">"===e.operator||">="===e.operator){if(d=u(s,e,r),d===e)return!1}else if(">="===s.operator&&!a(s.semver,String(e),r))return!1;if(f)if("<"===e.operator||"<="===e.operator){if(p=c(f,e,r),p===e)return!1}else if("<="===f.operator&&!a(f.semver,String(e),r))return!1;if(!e.operator&&(f||s)&&0!==l)return!1}return!(s&&m&&!f&&0!==l)&&!(f&&b&&!s&&0!==l)},u=(e,t,r)=>{if(!e)return t;const n=o(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},c=(e,t,r)=>{if(!e)return t;const n=o(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r)=>{e=new n(e,r),t=new n(t,r);let i=!1;e:for(const n of e.set){for(const e of t.set){const t=s(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}}]]);
//# sourceMappingURL=vega.js.map