(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,function(e,t,n){"use strict";var r=n(205);n.d(t,"f",(function(){return r.c})),n.d(t,"h",(function(){return r.b})),n.d(t,"g",(function(){return r.a}));var i=n(329);n.d(t,"w",(function(){return i.b})),n.d(t,"x",(function(){return i.c})),n.d(t,"kb",(function(){return i.f})),n.d(t,"O",(function(){return i.d})),n.d(t,"gb",(function(){return i.e})),n.d(t,"r",(function(){return i.a}));var a=n(458);n.d(t,"K",(function(){return a.f})),n.d(t,"d",(function(){return a.d})),n.d(t,"b",(function(){return a.b})),n.d(t,"e",(function(){return a.e})),n.d(t,"c",(function(){return a.c})),n.d(t,"a",(function(){return a.a}));var o=n(901);n.d(t,"N",(function(){return o.a})),n.d(t,"jb",(function(){return o.b}));var u=n(366);n.d(t,"Q",(function(){return u.a})),n.d(t,"R",(function(){return u.b})),n.d(t,"S",(function(){return u.c})),n.d(t,"T",(function(){return u.d})),n.d(t,"lb",(function(){return u.e})),n.d(t,"mb",(function(){return u.f})),n.d(t,"nb",(function(){return u.g})),n.d(t,"ob",(function(){return u.h}));var s=n(902);n.d(t,"V",(function(){return s.a})),n.d(t,"hb",(function(){return s.b}));var f=n(414);n.d(t,"i",(function(){return f.a}));var c=n(1093);n.d(t,"j",(function(){return c.a}));var l=n(1094);n.d(t,"k",(function(){return l.a}));var d=n(1095);n.d(t,"l",(function(){return d.a}));var p=n(1096);n.d(t,"m",(function(){return p.a}));var m=n(538);n.d(t,"n",(function(){return m.a}));var b=n(1097);n.d(t,"o",(function(){return b.a}));var h=n(1098);n.d(t,"p",(function(){return h.a}));var g=n(1099);n.d(t,"q",(function(){return g.a}));var y=n(1100);n.d(t,"s",(function(){return y.a}));var O=n(521);n.d(t,"t",(function(){return O.a}));var v=n(1101);n.d(t,"u",(function(){return v.a}));var j=n(345);n.d(t,"v",(function(){return j.a}));var $=n(1102);n.d(t,"y",(function(){return $.a}));var x=n(1103);n.d(t,"z",(function(){return x.a}));var k=n(408);n.d(t,"A",(function(){return k.a}));var A=n(1104);n.d(t,"B",(function(){return A.a}));var E=n(697);n.d(t,"C",(function(){return E.a}));var w=n(523);n.d(t,"D",(function(){return w.a}));var _=n(698);n.d(t,"E",(function(){return _.a}));var F=n(465);n.d(t,"F",(function(){return F.a}));var D=n(1105);n.d(t,"G",(function(){return D.a}));var S=n(699);n.d(t,"H",(function(){return S.a}));var C=n(1106);n.d(t,"I",(function(){return C.a}));var M=n(1107);n.d(t,"J",(function(){return M.a}));var q=n(1108);n.d(t,"L",(function(){return q.a}));var R=n(1109);n.d(t,"M",(function(){return R.a}));var T=n(1110);n.d(t,"P",(function(){return T.a}));var B=n(313);n.d(t,"U",(function(){return B.a}));var z=n(471);n.d(t,"W",(function(){return z.a}));var I=n(1111);n.d(t,"X",(function(){return I.a}));var P=n(522);n.d(t,"Y",(function(){return P.a}));var L=n(1112);n.d(t,"Z",(function(){return L.a}));var N=n(1113);n.d(t,"ab",(function(){return N.a}));var V=n(1114);n.d(t,"bb",(function(){return V.a}));var U=n(610);n.d(t,"cb",(function(){return U.a}));var W=n(1115);n.d(t,"eb",(function(){return W.a}));var G=n(1116);n.d(t,"db",(function(){return G.a}));var H=n(1117);n.d(t,"fb",(function(){return H.a}));var X=n(1118);n.d(t,"ib",(function(){return X.a}))},,,,,,,,,,,,,function(e,t,n){"use strict";n(330);var r=n(539);n.d(t,"h",(function(){return r.a}));var i=n(460);n.d(t,"i",(function(){return i.a})),n.d(t,"m",(function(){return i.b}));var a=n(1119);n.d(t,"a",(function(){return a.a}));var o=n(700);n.d(t,"b",(function(){return o.a}));var u=n(611);n.d(t,"e",(function(){return u.a}));var s=n(293);n.d(t,"f",(function(){return s.b}));var f=n(703);n.d(t,"c",(function(){return f.a}));var c=n(257);n.d(t,"d",(function(){return c.a}));var l=n(1125);n.d(t,"g",(function(){return l.a}));var d=n(171);n.d(t,"k",(function(){return d.a})),n.d(t,"l",(function(){return d.b})),n.d(t,"n",(function(){return d.c})),n.d(t,"o",(function(){return d.d})),n.d(t,"p",(function(){return d.e})),n.d(t,"q",(function(){return d.f})),n.d(t,"t",(function(){return d.g}));var p=n(682);n.d(t,"j",(function(){return p.a})),n.d(t,"r",(function(){return p.b})),n.d(t,"s",(function(){return p.c}))},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"w",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"r",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"y",(function(){return s})),n.d(t,"u",(function(){return f})),n.d(t,"n",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return h})),n.d(t,"x",(function(){return g})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return j})),n.d(t,"v",(function(){return $})),n.d(t,"e",(function(){return x})),n.d(t,"c",(function(){return k})),n.d(t,"s",(function(){return A})),n.d(t,"m",(function(){return E})),n.d(t,"t",(function(){return w})),n.d(t,"A",(function(){return _})),n.d(t,"z",(function(){return F}));const r="top",i="left",a="right",o="bottom",u="center",s="vertical",f="start",c="middle",l="end",d="index",p="label",m="offset",b="perc",h="perc2",g="value",y="guide-label",O="guide-title",v="group-title",j="group-subtitle",$="symbol",x="gradient",k="discrete",A="size",E=[A,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],w={name:1,style:1,interactive:1},_={value:0},F={value:1}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"o",(function(){return o})),n.d(t,"p",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return f})),n.d(t,"f",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"q",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"r",(function(){return v})),n.d(t,"g",(function(){return j}));var r=n(1);function i(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function a(e,t,n,r){return new i(e,t,n,r)}function o(e,t){return a("operator",e,t)}function u(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function s(e,t){return t?{$field:e,$name:t}:{$field:e}}var f=s("key");function c(e,t){return{$compare:e,$order:t}}function l(e,t){var n={$key:e};return t&&(n.$flat=!0),n}var d="ascending";function p(e){return Object(r.F)(e)?("descending"===e.order?"-":"+")+m(e.op,e.field):""}function m(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}var b="scope",h="view";function g(e){return e&&e.signal}function y(e){return e&&e.expr}function O(e){if(g(e))return!0;if(Object(r.F)(e))for(var t in e)if(O(e[t]))return!0;return!1}function v(e,t){return null!=e?e:t}function j(e){return e&&e.signal||e}},,,,,,,function(e,t,n){"use strict";n.d(t,"G",(function(){return r})),n.d(t,"r",(function(){return i})),n.d(t,"x",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"H",(function(){return u})),n.d(t,"I",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"D",(function(){return l})),n.d(t,"t",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"J",(function(){return m})),n.d(t,"K",(function(){return b})),n.d(t,"q",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"F",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"C",(function(){return v})),n.d(t,"s",(function(){return j})),n.d(t,"A",(function(){return $})),n.d(t,"z",(function(){return x})),n.d(t,"B",(function(){return k})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return E})),n.d(t,"h",(function(){return w})),n.d(t,"w",(function(){return _})),n.d(t,"E",(function(){return F})),n.d(t,"l",(function(){return D})),n.d(t,"m",(function(){return S})),n.d(t,"n",(function(){return C})),n.d(t,"v",(function(){return M})),n.d(t,"u",(function(){return q})),n.d(t,"a",(function(){return R})),n.d(t,"j",(function(){return T})),n.d(t,"o",(function(){return B})),n.d(t,"i",(function(){return z})),n.d(t,"y",(function(){return I}));const r="top",i="left",a="right",o="bottom",u="top-left",s="top-right",f="bottom-left",c="bottom-right",l="start",d="middle",p="end",m="x",b="y",h="group",g="axis",y="title",O="frame",v="scope",j="legend",$="row-header",x="row-footer",k="row-title",A="column-header",E="column-footer",w="column-title",_="padding",F="symbol",D="fit",S="fit-x",C="fit-y",M="pad",q="none",R="all",T="each",B="flush",z="column",I="row"},function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return a})),n.d(t,"m",(function(){return o})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return s})),n.d(t,"u",(function(){return f})),n.d(t,"v",(function(){return c})),n.d(t,"p",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"o",(function(){return m})),n.d(t,"t",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return $})),n.d(t,"h",(function(){return x})),n.d(t,"s",(function(){return k}));const r="identity",i="linear",a="log",o="pow",u="sqrt",s="symlog",f="time",c="utc",l="sequential",d="diverging",p="quantile",m="quantize",b="threshold",h="ordinal",g="point",y="band",O="bin-ordinal",v="continuous",j="discrete",$="discretizing",x="interpolating",k="temporal"},,,,,function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"k",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"n",(function(){return g})),n.d(t,"m",(function(){return O}));var r=n(1);const i="year",a="quarter",o="month",u="week",s="date",f="day",c="dayofyear",l="hours",d="minutes",p="seconds",m="milliseconds",b=[i,a,o,u,s,f,c,l,d,p,m],h=b.reduce((e,t,n)=>(e[t]=1+n,e),{});function g(e){const t=Object(r.i)(e).slice(),n={};t.length||Object(r.n)("Missing time unit."),t.forEach(e=>{Object(r.v)(h,e)?n[e]=1:Object(r.n)(`Invalid time unit: ${e}.`)});return(n[u]||n[f]?1:0)+(n[a]||n[o]||n[s]?1:0)+(n[c]?1:0)>1&&Object(r.n)("Incompatible time units: "+e),t.sort((e,t)=>h[e]-h[t]),t}const y={[i]:"%Y ",[a]:"Q%q ",[o]:"%b ",[s]:"%d ",[u]:"W%U ",[f]:"%a ",[c]:"%j ",[l]:"%H:00",[d]:"00:%M",[p]:":%S",[m]:".%L",[`${i}-${o}`]:"%Y-%m ",[`${i}-${o}-${s}`]:"%Y-%m-%d ",[`${l}-${d}`]:"%H:%M"};function O(e,t){const n=Object(r.o)({},y,t),i=g(e),a=i.length;let o,u,s="",f=0;for(f=0;f<a;)for(o=i.length;o>f;--o)if(u=i.slice(f,o).join("-"),null!=n[u]){s+=n[u],f=o;break}return s.trim()}},,,,,,,function(e,t,n){"use strict";var r=n(719);n.d(t,"s",(function(){return r.a}));var i=n(35);n.d(t,"e",(function(){return i.i})),n.d(t,"f",(function(){return i.j})),n.d(t,"i",(function(){return i.m})),n.d(t,"m",(function(){return i.q})),n.d(t,"o",(function(){return i.r})),n.d(t,"q",(function(){return i.u})),n.d(t,"r",(function(){return i.v})),n.d(t,"l",(function(){return i.p})),n.d(t,"c",(function(){return i.f})),n.d(t,"j",(function(){return i.n})),n.d(t,"k",(function(){return i.o})),n.d(t,"p",(function(){return i.t})),n.d(t,"b",(function(){return i.b})),n.d(t,"g",(function(){return i.k})),n.d(t,"a",(function(){return i.a})),n.d(t,"h",(function(){return i.l}));var a=n(367);n.d(t,"u",(function(){return a.a})),n.d(t,"v",(function(){return a.b})),n.d(t,"w",(function(){return a.c})),n.d(t,"J",(function(){return a.e})),n.d(t,"H",(function(){return a.d}));var o=n(196);n.d(t,"I",(function(){return o.i})),n.d(t,"D",(function(){return o.h})),n.d(t,"x",(function(){return o.a})),n.d(t,"y",(function(){return o.b})),n.d(t,"z",(function(){return o.c})),n.d(t,"A",(function(){return o.d})),n.d(t,"B",(function(){return o.e})),n.d(t,"C",(function(){return o.f}));var u=n(1183);n.d(t,"L",(function(){return u.a}));var s=n(462);n.d(t,"n",(function(){return s.c})),n.d(t,"d",(function(){return s.b}));var f=n(369);n.d(t,"M",(function(){return f.a})),n.d(t,"N",(function(){return f.b})),n.d(t,"O",(function(){return f.d})),n.d(t,"P",(function(){return f.e}));var c=n(463);n.d(t,"E",(function(){return c.a})),n.d(t,"F",(function(){return c.b})),n.d(t,"G",(function(){return c.c}));var l=n(1184);n.d(t,"t",(function(){return l.a}));var d=n(628);n.d(t,"K",(function(){return d.b}))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n(1);const i=e=>Object(r.F)(e)&&!Object(r.A)(e)?Object(r.o)({},e):{value:e};function a(e,t,n,i){return null!=n?(Object(r.F)(n)&&!Object(r.A)(n)?e.update[t]=n:e[i||"enter"][t]={value:n},1):0}function o(e,t,n){for(const n in t)a(e,n,t[n]);for(const t in n)a(e,t,n[t],"update")}function u(e,t,n){for(const i in t)n&&Object(r.v)(n,i)||(e[i]=Object(r.o)(e[i]||{},t[i]));return e}function s(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return v})),n.d(t,"q",(function(){return j})),n.d(t,"r",(function(){return $})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return k})),n.d(t,"u",(function(){return A})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return F})),n.d(t,"z",(function(){return D})),n.d(t,"B",(function(){return S})),n.d(t,"A",(function(){return C}));var r=n(27);const i=e=>(t,n,i)=>Object(r.h)(e,n,t||void 0,i);var a=i("aggregate"),o=i("axisticks"),u=i("bound"),s=i("collect"),f=i("compare"),c=i("datajoin"),l=i("encode"),d=i("expression"),p=(i("extent"),i("facet")),m=i("field"),b=i("key"),h=i("legendentries"),g=i("load"),y=i("mark"),O=i("multiextent"),v=i("multivalues"),j=i("overlap"),$=i("params"),x=i("prefacet"),k=i("projection"),A=i("proxy"),E=i("relay"),w=i("render"),_=i("scale"),F=i("sieve"),D=i("sortitems"),S=i("viewlayout"),C=i("values")},,,,,function(e,t,n){"use strict";n.d(t,"o",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"p",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"q",(function(){return O})),n.d(t,"s",(function(){return v})),n.d(t,"r",(function(){return j}));var r="mark",i="frame",a="scope",o="axis",u="axis-domain",s="axis-grid",f="axis-label",c="axis-tick",l="axis-title",d="legend",p="legend-band",m="legend-entry",b="legend-gradient",h="legend-label",g="legend-symbol",y="legend-title",O="title",v="title-text",j="title-subtitle"},,,function(e,t,n){"use strict";var r=n(704);n.d(t,"a",(function(){return r.a}));var i=n(1126);n.d(t,"b",(function(){return i.a}));var a=n(1127);n.d(t,"c",(function(){return a.a}));var o=n(1128);n.d(t,"j",(function(){return o.a}));var u=n(706);n.d(t,"n",(function(){return u.a}));var s=n(705);n.d(t,"o",(function(){return s.a}));var f=n(216);n.d(t,"p",(function(){return f.a})),n.d(t,"I",(function(){return f.b}));var c=n(1129);n.d(t,"s",(function(){return c.a}));var l=n(1130);n.d(t,"q",(function(){return l.a}));var d=n(1131);n.d(t,"r",(function(){return d.a}));var p=n(506);n.d(t,"t",(function(){return p.b})),n.d(t,"F",(function(){return p.e})),n.d(t,"g",(function(){return p.c})),n.d(t,"d",(function(){return p.a})),n.d(t,"k",(function(){return p.d}));var m=n(1132);n.d(t,"u",(function(){return m.a}));var b=n(283);n.d(t,"v",(function(){return b.b})),n.d(t,"G",(function(){return b.e})),n.d(t,"h",(function(){return b.c})),n.d(t,"e",(function(){return b.a})),n.d(t,"l",(function(){return b.d}));var h=n(507);n.d(t,"w",(function(){return h.b})),n.d(t,"H",(function(){return h.e})),n.d(t,"i",(function(){return h.c})),n.d(t,"f",(function(){return h.a})),n.d(t,"m",(function(){return h.d}));var g=n(707);n.d(t,"y",(function(){return g.a}));var y=n(1133);n.d(t,"A",(function(){return y.a}));var O=n(1134);n.d(t,"x",(function(){return O.a}));var v=n(1135);n.d(t,"C",(function(){return v.a}));var j=n(708);n.d(t,"D",(function(){return j.a}));var $=n(1136);n.d(t,"B",(function(){return $.a}));var x=n(1137);n.d(t,"z",(function(){return x.a}));var k=n(1138);n.d(t,"E",(function(){return k.a}))},,,,function(e,t,n){"use strict";n.d(t,"U",(function(){return I}));var r=n(254),i=n(331),a=n(169);n.d(t,"a",(function(){return a.a})),n.d(t,"d",(function(){return r.a}));var o=n(713);n.d(t,"e",(function(){return o.a}));var u=n(714);n.d(t,"k",(function(){return u.a}));var s=n(614);n.d(t,"g",(function(){return s.a}));var f=n(1177);n.d(t,"o",(function(){return f.a}));var c=n(348);n.d(t,"f",(function(){return c.a}));var l=n(258);n.d(t,"j",(function(){return l.a}));var d=n(716);n.d(t,"b",(function(){return d.a}));var p=n(616);n.d(t,"c",(function(){return p.a}));var m=n(717);n.d(t,"l",(function(){return m.a}));var b=n(718);n.d(t,"m",(function(){return b.a}));var h=n(725);n.d(t,"n",(function(){return h.a}));var g=n(910);n.d(t,"i",(function(){return g.a})),n.d(t,"S",(function(){return g.b}));var y=n(1185);n.d(t,"C",(function(){return y.a}));var O=n(179);n.d(t,"h",(function(){return O.a}));var v=n(1186);n.d(t,"p",(function(){return v.a}));var j=n(332);n.d(t,"q",(function(){return j.a}));var $=n(250);n.d(t,"t",(function(){return $.a}));var x=n(615);n.d(t,"r",(function(){return x.a}));var k=n(715);n.d(t,"s",(function(){return k.a}));var A=n(613);n.d(t,"K",(function(){return A.a}));var E=n(710);n.d(t,"P",(function(){return E.a}));var w=n(711);n.d(t,"N",(function(){return w.a}));var _=n(712);n.d(t,"Q",(function(){return _.a}));var F=n(371);n.d(t,"M",(function(){return F.a}));var D=n(467);n.d(t,"O",(function(){return D.a}));var S=n(526);n.d(t,"R",(function(){return S.a}));var C=n(93);n.d(t,"x",(function(){return C.d})),n.d(t,"y",(function(){return C.e})),n.d(t,"v",(function(){return C.b})),n.d(t,"w",(function(){return C.c}));var M=n(85);n.d(t,"J",(function(){return M.b})),n.d(t,"u",(function(){return M.a}));var q=n(112);n.d(t,"z",(function(){return q.a})),n.d(t,"A",(function(){return q.b})),n.d(t,"B",(function(){return q.c})),n.d(t,"H",(function(){return q.d})),n.d(t,"I",(function(){return q.e})),n.d(t,"bb",(function(){return q.h}));var R=n(911);n.d(t,"V",(function(){return R.b})),n.d(t,"L",(function(){return R.a}));var T=n(525);n.d(t,"Y",(function(){return T.b})),n.d(t,"W",(function(){return T.a}));var B=n(157);n.d(t,"E",(function(){return B.b})),n.d(t,"F",(function(){return B.c})),n.d(t,"G",(function(){return B.e})),n.d(t,"D",(function(){return B.a}));var z=n(150);function I(){Object(i.b)(),Object(r.e)()}n.d(t,"ab",(function(){return z.c})),n.d(t,"Z",(function(){return z.b})),n.d(t,"X",(function(){return z.a})),n.d(t,"T",(function(){return i.b}))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return k}));var r=n(1),i=n(25),a=n(63),o=n(27);const u=e=>e===i.a||e===i.w,s=(e,t,n)=>Object(o.l)(e)?b(e.signal,t,n):e===i.l||e===i.w?t:n,f=(e,t,n)=>Object(o.l)(e)?p(e.signal,t,n):u(e)?t:n,c=(e,t,n)=>Object(o.l)(e)?m(e.signal,t,n):u(e)?n:t,l=(e,t,n)=>Object(o.l)(e)?h(e.signal,t,n):e===i.w?{value:t}:{value:n},d=(e,t,n)=>Object(o.l)(e)?g(e.signal,t,n):e===i.r?{value:t}:{value:n},p=(e,t,n)=>y(`${e} === '${i.w}' || ${e} === '${i.a}'`,t,n),m=(e,t,n)=>y(`${e} !== '${i.w}' && ${e} !== '${i.a}'`,t,n),b=(e,t,n)=>v(`${e} === '${i.l}' || ${e} === '${i.w}'`,t,n),h=(e,t,n)=>v(`${e} === '${i.w}'`,t,n),g=(e,t,n)=>v(`${e} === '${i.r}'`,t,n),y=(e,t,n)=>(t=null!=t?Object(a.b)(t):t,n=null!=n?Object(a.b)(n):n,O(t)&&O(n)?{signal:`${e} ? (${t=t?t.signal||Object(r.Z)(t.value):null}) : (${n=n?n.signal||Object(r.Z)(n.value):null})`}:[Object(r.o)({test:e},t)].concat(n||[])),O=e=>null==e||1===Object.keys(e).length,v=(e,t,n)=>({signal:`${e} ? (${$(t)}) : (${$(n)})`}),j=(e,t,n,r,a)=>({signal:(null!=r?`${e} === '${i.l}' ? (${$(r)}) : `:"")+(null!=n?`${e} === '${i.a}' ? (${$(n)}) : `:"")+(null!=a?`${e} === '${i.r}' ? (${$(a)}) : `:"")+(null!=t?`${e} === '${i.w}' ? (${$(t)}) : `:"")+"(null)"}),$=e=>Object(o.l)(e)?e.signal:null==e?null:Object(r.Z)(e),x=(e,t)=>0===t?0:Object(o.l)(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},k=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e}},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(14),a=n(1335),o=n(1340),u=n(1369),s=n(1370),f=n(1378),c=n(1387),l=n(1401),d=n(1402),p=n(1404),m=n(1406),b=n(1244);n.d(t,"version",(function(){return b.a}));var h=n(72);n.d(t,"bandwidthNRD",(function(){return h.a})),n.d(t,"bin",(function(){return h.b})),n.d(t,"bootstrapCI",(function(){return h.c})),n.d(t,"dotbin",(function(){return h.j})),n.d(t,"quantiles",(function(){return h.n})),n.d(t,"quartiles",(function(){return h.o})),n.d(t,"random",(function(){return h.p})),n.d(t,"setRandom",(function(){return h.I})),n.d(t,"randomLCG",(function(){return h.s})),n.d(t,"randomInteger",(function(){return h.q})),n.d(t,"randomKDE",(function(){return h.r})),n.d(t,"randomLogNormal",(function(){return h.t})),n.d(t,"sampleLogNormal",(function(){return h.F})),n.d(t,"densityLogNormal",(function(){return h.g})),n.d(t,"cumulativeLogNormal",(function(){return h.d})),n.d(t,"quantileLogNormal",(function(){return h.k})),n.d(t,"randomMixture",(function(){return h.u})),n.d(t,"randomNormal",(function(){return h.v})),n.d(t,"sampleNormal",(function(){return h.G})),n.d(t,"densityNormal",(function(){return h.h})),n.d(t,"cumulativeNormal",(function(){return h.e})),n.d(t,"quantileNormal",(function(){return h.l})),n.d(t,"randomUniform",(function(){return h.w})),n.d(t,"sampleUniform",(function(){return h.H})),n.d(t,"densityUniform",(function(){return h.i})),n.d(t,"cumulativeUniform",(function(){return h.f})),n.d(t,"quantileUniform",(function(){return h.m})),n.d(t,"regressionLinear",(function(){return h.y})),n.d(t,"regressionLog",(function(){return h.A})),n.d(t,"regressionExp",(function(){return h.x})),n.d(t,"regressionPow",(function(){return h.C})),n.d(t,"regressionQuad",(function(){return h.D})),n.d(t,"regressionPoly",(function(){return h.B})),n.d(t,"regressionLoess",(function(){return h.z})),n.d(t,"sampleCurve",(function(){return h.E}));var g=n(90);n.d(t,"TIME_UNITS",(function(){return g.j})),n.d(t,"YEAR",(function(){return g.l})),n.d(t,"QUARTER",(function(){return g.h})),n.d(t,"MONTH",(function(){return g.g})),n.d(t,"WEEK",(function(){return g.k})),n.d(t,"DATE",(function(){return g.a})),n.d(t,"DAY",(function(){return g.b})),n.d(t,"DAYOFYEAR",(function(){return g.c})),n.d(t,"HOURS",(function(){return g.d})),n.d(t,"MINUTES",(function(){return g.f})),n.d(t,"SECONDS",(function(){return g.i})),n.d(t,"MILLISECONDS",(function(){return g.e})),n.d(t,"timeUnitSpecifier",(function(){return g.s})),n.d(t,"timeUnits",(function(){return g.t})),n.d(t,"dayofyear",(function(){return g.m})),n.d(t,"week",(function(){return g.A})),n.d(t,"utcdayofyear",(function(){return g.y})),n.d(t,"utcweek",(function(){return g.z})),n.d(t,"timeFloor",(function(){return g.o})),n.d(t,"utcFloor",(function(){return g.u})),n.d(t,"timeInterval",(function(){return g.p})),n.d(t,"timeOffset",(function(){return g.q})),n.d(t,"timeSequence",(function(){return g.r})),n.d(t,"utcInterval",(function(){return g.v})),n.d(t,"utcOffset",(function(){return g.w})),n.d(t,"utcSequence",(function(){return g.x})),n.d(t,"timeBin",(function(){return g.n})),n.d(t,"accessor",(function(){return r.f})),n.d(t,"accessorName",(function(){return r.h})),n.d(t,"accessorFields",(function(){return r.g})),n.d(t,"id",(function(){return r.w})),n.d(t,"identity",(function(){return r.x})),n.d(t,"zero",(function(){return r.kb})),n.d(t,"one",(function(){return r.O})),n.d(t,"truthy",(function(){return r.gb})),n.d(t,"falsy",(function(){return r.r})),n.d(t,"logger",(function(){return r.K})),n.d(t,"None",(function(){return r.d})),n.d(t,"Error",(function(){return r.b})),n.d(t,"Warn",(function(){return r.e})),n.d(t,"Info",(function(){return r.c})),n.d(t,"Debug",(function(){return r.a})),n.d(t,"mergeConfig",(function(){return r.N})),n.d(t,"writeConfig",(function(){return r.jb})),n.d(t,"panLinear",(function(){return r.Q})),n.d(t,"panLog",(function(){return r.R})),n.d(t,"panPow",(function(){return r.S})),n.d(t,"panSymlog",(function(){return r.T})),n.d(t,"zoomLinear",(function(){return r.lb})),n.d(t,"zoomLog",(function(){return r.mb})),n.d(t,"zoomPow",(function(){return r.nb})),n.d(t,"zoomSymlog",(function(){return r.ob})),n.d(t,"quarter",(function(){return r.V})),n.d(t,"utcquarter",(function(){return r.hb})),n.d(t,"array",(function(){return r.i})),n.d(t,"clampRange",(function(){return r.j})),n.d(t,"compare",(function(){return r.k})),n.d(t,"constant",(function(){return r.l})),n.d(t,"debounce",(function(){return r.m})),n.d(t,"error",(function(){return r.n})),n.d(t,"extend",(function(){return r.o})),n.d(t,"extent",(function(){return r.p})),n.d(t,"extentIndex",(function(){return r.q})),n.d(t,"fastmap",(function(){return r.s})),n.d(t,"field",(function(){return r.t})),n.d(t,"flush",(function(){return r.u})),n.d(t,"hasOwnProperty",(function(){return r.v})),n.d(t,"inherits",(function(){return r.y})),n.d(t,"inrange",(function(){return r.z})),n.d(t,"isArray",(function(){return r.A})),n.d(t,"isBoolean",(function(){return r.B})),n.d(t,"isDate",(function(){return r.C})),n.d(t,"isFunction",(function(){return r.D})),n.d(t,"isNumber",(function(){return r.E})),n.d(t,"isObject",(function(){return r.F})),n.d(t,"isRegExp",(function(){return r.G})),n.d(t,"isString",(function(){return r.H})),n.d(t,"key",(function(){return r.I})),n.d(t,"lerp",(function(){return r.J})),n.d(t,"lruCache",(function(){return r.L})),n.d(t,"merge",(function(){return r.M})),n.d(t,"pad",(function(){return r.P})),n.d(t,"peek",(function(){return r.U})),n.d(t,"repeat",(function(){return r.W})),n.d(t,"span",(function(){return r.X})),n.d(t,"splitAccessPath",(function(){return r.Y})),n.d(t,"stringValue",(function(){return r.Z})),n.d(t,"toBoolean",(function(){return r.ab})),n.d(t,"toDate",(function(){return r.bb})),n.d(t,"toNumber",(function(){return r.cb})),n.d(t,"toString",(function(){return r.eb})),n.d(t,"toSet",(function(){return r.db})),n.d(t,"truncate",(function(){return r.fb})),n.d(t,"visitArray",(function(){return r.ib}));var y=n(314);n.d(t,"loader",(function(){return y.e})),n.d(t,"read",(function(){return y.f})),n.d(t,"inferType",(function(){return y.c})),n.d(t,"inferTypes",(function(){return y.d})),n.d(t,"typeParsers",(function(){return y.h})),n.d(t,"format",(function(){return y.a})),n.d(t,"formats",(function(){return y.b})),n.d(t,"responseType",(function(){return y.g}));var O=n(76);n.d(t,"Bounds",(function(){return O.a})),n.d(t,"Gradient",(function(){return O.d})),n.d(t,"GroupItem",(function(){return O.e})),n.d(t,"ResourceLoader",(function(){return O.k})),n.d(t,"Item",(function(){return O.g})),n.d(t,"Scenegraph",(function(){return O.o})),n.d(t,"Handler",(function(){return O.f})),n.d(t,"Renderer",(function(){return O.j})),n.d(t,"CanvasHandler",(function(){return O.b})),n.d(t,"CanvasRenderer",(function(){return O.c})),n.d(t,"SVGHandler",(function(){return O.l})),n.d(t,"SVGRenderer",(function(){return O.m})),n.d(t,"SVGStringRenderer",(function(){return O.n})),n.d(t,"RenderType",(function(){return O.i})),n.d(t,"renderModule",(function(){return O.S})),n.d(t,"intersect",(function(){return O.C})),n.d(t,"Marks",(function(){return O.h})),n.d(t,"boundClip",(function(){return O.p})),n.d(t,"boundContext",(function(){return O.q})),n.d(t,"boundStroke",(function(){return O.t})),n.d(t,"boundItem",(function(){return O.r})),n.d(t,"boundMark",(function(){return O.s})),n.d(t,"pathCurves",(function(){return O.K})),n.d(t,"pathSymbols",(function(){return O.P})),n.d(t,"pathRectangle",(function(){return O.N})),n.d(t,"pathTrail",(function(){return O.Q})),n.d(t,"pathParse",(function(){return O.M})),n.d(t,"pathRender",(function(){return O.O})),n.d(t,"point",(function(){return O.R})),n.d(t,"domCreate",(function(){return O.x})),n.d(t,"domFind",(function(){return O.y})),n.d(t,"domChild",(function(){return O.v})),n.d(t,"domClear",(function(){return O.w})),n.d(t,"openTag",(function(){return O.J})),n.d(t,"closeTag",(function(){return O.u})),n.d(t,"font",(function(){return O.z})),n.d(t,"fontFamily",(function(){return O.A})),n.d(t,"fontSize",(function(){return O.B})),n.d(t,"lineHeight",(function(){return O.H})),n.d(t,"multiLineOffset",(function(){return O.I})),n.d(t,"textMetrics",(function(){return O.bb})),n.d(t,"sceneEqual",(function(){return O.V})),n.d(t,"pathEqual",(function(){return O.L})),n.d(t,"sceneToJSON",(function(){return O.Y})),n.d(t,"sceneFromJSON",(function(){return O.W})),n.d(t,"intersectPath",(function(){return O.E})),n.d(t,"intersectPoint",(function(){return O.F})),n.d(t,"intersectRule",(function(){return O.G})),n.d(t,"intersectBoxLine",(function(){return O.D})),n.d(t,"sceneZOrder",(function(){return O.ab})),n.d(t,"sceneVisit",(function(){return O.Z})),n.d(t,"scenePickVisit",(function(){return O.X})),n.d(t,"resetSVGClipId",(function(){return O.T})),n.d(t,"resetSVGDefIds",(function(){return O.U})),n.d(t,"Dataflow",(function(){return i.a})),n.d(t,"EventStream",(function(){return i.b})),n.d(t,"Parameters",(function(){return i.e})),n.d(t,"Pulse",(function(){return i.f})),n.d(t,"MultiPulse",(function(){return i.c})),n.d(t,"Operator",(function(){return i.d})),n.d(t,"Transform",(function(){return i.g})),n.d(t,"changeset",(function(){return i.i})),n.d(t,"ingest",(function(){return i.l})),n.d(t,"isTuple",(function(){return i.n})),n.d(t,"definition",(function(){return i.j})),n.d(t,"transform",(function(){return i.r})),n.d(t,"transforms",(function(){return i.s})),n.d(t,"tupleid",(function(){return i.t}));var v=n(47);n.d(t,"scale",(function(){return v.I})),n.d(t,"scheme",(function(){return v.L})),n.d(t,"interpolate",(function(){return v.u})),n.d(t,"interpolateColors",(function(){return v.v})),n.d(t,"interpolateRange",(function(){return v.w})),n.d(t,"quantizeInterpolator",(function(){return v.H}));var j=n(340);n.d(t,"projection",(function(){return j.b}));var $=n(1245);n.d(t,"View",(function(){return $.a}));var x=n(282);n.d(t,"formatLocale",(function(){return x.c})),n.d(t,"timeFormatLocale",(function(){return x.e})),n.d(t,"locale",(function(){return x.b})),n.d(t,"defaultLocale",(function(){return x.a})),n.d(t,"resetDefaultLocale",(function(){return x.d}));var k=n(170);n.d(t,"expressionFunction",(function(){return k.a}));var A=n(1254);n.d(t,"parse",(function(){return A.a}));var E=n(744);n.d(t,"runtimeContext",(function(){return E.a})),Object(r.o)(i.s,a,o,u,s,f,c,l,d,p,m)},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const r=e=>(e+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;");function i(e,t,n){var i,a,o="<"+e;if(t)for(i in t)null!=(a=t[i])&&(o+=" "+i+'="'+r(a)+'"');return n&&(o+=" "+n),o+">"}function a(e){return"</"+e+">"}},,,,,function(e,t,n){"use strict";var r=n(40);n.d(t,"j",(function(){return r.j})),n.d(t,"l",(function(){return r.l})),n.d(t,"h",(function(){return r.h})),n.d(t,"g",(function(){return r.g})),n.d(t,"k",(function(){return r.k})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"f",(function(){return r.f})),n.d(t,"i",(function(){return r.i})),n.d(t,"e",(function(){return r.e})),n.d(t,"s",(function(){return r.m})),n.d(t,"t",(function(){return r.n}));var i=n(185);n.d(t,"m",(function(){return i.a})),n.d(t,"A",(function(){return i.l})),n.d(t,"y",(function(){return i.j})),n.d(t,"z",(function(){return i.k}));var a=n(905);n.d(t,"o",(function(){return a.a})),n.d(t,"u",(function(){return a.b}));var o=n(459);n.d(t,"p",(function(){return o.a})),n.d(t,"q",(function(){return o.b})),n.d(t,"r",(function(){return o.c})),n.d(t,"v",(function(){return o.d})),n.d(t,"w",(function(){return o.e})),n.d(t,"x",(function(){return o.f}));var u=n(1124);n.d(t,"n",(function(){return u.a}))},,,function(e,t,n){"use strict";function r(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function i(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function a(e,t,n,i){var a,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(a=o||null,o=r(e.ownerDocument,n,i),e.insertBefore(o,a)),o}function o(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function u(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u}))},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return u}));const r=Math.PI/180,i=1e-14,a=Math.PI/2,o=2*Math.PI,u=Math.sqrt(3)/2},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"p",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return g})),n.d(t,"f",(function(){return y}));const r="dragenter",i="dragleave",a="dragover",o="mousedown",u="mousemove",s="mouseout",f="mouseover",c="click",l="mousewheel",d="touchstart",p="touchmove",m="touchend",b=["keydown","keypress","keyup",r,i,a,o,"mouseup",u,s,f,c,"dblclick","wheel",l,d,p,m],h=u,g=s,y=c},,,function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(25),i=n(27),a=n(1);function o(e,t){const n=(n,r)=>Object(i.r)(e[n],Object(i.r)(t[n],r));return n.isVertical=n=>r.y===Object(i.r)(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Object(i.r)(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Object(i.r)(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Object(i.r)(e.columns,Object(i.r)(t.columns,+n.isVertical(!0))),n}function u(e,t){var n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function s(e,t,n){var r=t.config.style[n];return r&&r[e]}function f(e,t,n){return`item.anchor === '${r.u}' ? ${e} : item.anchor === '${r.d}' ? ${t} : ${n}`}const c=f(Object(a.Z)(r.l),Object(a.Z)(r.r),Object(a.Z)(r.b));function l(e){let t,n,r=e("tickBand"),i=e("tickOffset");return r?r.signal?(t={signal:`(${r.signal}) === 'extent' ? 1 : 0.5`},n={signal:`(${r.signal}) === 'extent'`},Object(a.F)(i)||(i={signal:`(${r.signal}) === 'extent' ? 0 : ${i}`})):"extent"===r?(t=1,n=!0,i=0):(t=.5,n=!1):(t=e("bandPosition"),n=e("tickExtra")),{extra:n,band:t,offset:i}}function d(e,t){return t?e?Object(a.F)(e)?Object.assign({},e,{offset:d(e.offset,t)}):{value:e,offset:t}:t:e}},,,,,,function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return O}));var r=n(446),i=n(1);const a=Object(i.L)();var o={height:d,measureWidth:c,estimateWidth:s,width:s,canvas:u};function u(e){o.width=e&&r.a?c:s}function s(e,t){return f(h(e,t),d(e))}function f(e,t){return~~(.8*e.length*t)}function c(e,t){return d(e)<=0||!(t=h(e,t))?0:l(t,y(e))}function l(e,t){const n=`(${t}) ${e}`;let i=a.get(n);return void 0===i&&(r.a.font=t,i=r.a.measureText(e).width,a.set(n,i)),i}function d(e){return null!=e.fontSize?+e.fontSize||0:11}function p(e){return null!=e.lineHeight?e.lineHeight:d(e)+2}function m(e){return t=e.lineBreak&&e.text&&!Object(i.A)(e.text)?e.text.split(e.lineBreak):e.text,Object(i.A)(t)?t.length>1?t:t[0]:t;var t}function b(e){const t=m(e);return(Object(i.A)(t)?t.length-1:0)*p(e)}function h(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,r=function(e){if(o.width===c){const t=y(e);return e=>l(e,t)}{const t=d(e);return e=>f(e,t)}}(e);if(r(t)<n)return t;var i,a=e.ellipsis||"…",u="rtl"===e.dir,s=0,p=t.length;if(n-=r(a),u){for(;s<p;)i=s+p>>>1,r(t.slice(i))>n?s=i+1:p=i;return a+t.slice(s)}for(;s<p;)i=1+(s+p>>>1),r(t.slice(0,i))<n?s=i:p=i-1;return t.slice(0,s)+a}(e,n):n}function g(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function y(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+d(e)+"px "+g(e,t)}function O(e){var t=e.baseline,n=d(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*p(e):"line-bottom"===t?.29*n-.5*p(e):0)}u(!0)},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u}));var r="group",i="rect",a="rule",o="symbol",u="text"},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var r="Literal",i="CallExpression";function a(e){this.type=e}a.prototype.visit=function(e){var t,n,a;if(e(this))return 1;for(n=0,a=(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case i:var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case r:case"RawCode":default:return[]}}(this)).length;n<a;++n)if(t[n].visit(e))return 1}},function(e,t,n){"use strict";function r(e,t){return e.zindex-t.zindex||e.index-t.index}function i(e){if(!e.zdirty)return e.zitems;var t,n,i,a=e.items,o=[];for(n=0,i=a.length;n<i;++n)(t=a[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(r)}function a(e,t){var n,r,a=e.items;if(a&&a.length){var o=i(e);if(o&&o.length){for(n=0,r=a.length;n<r;++n)a[n].zindex||t(a[n]);a=o}for(n=0,r=a.length;n<r;++n)t(a[n])}}function o(e,t){var n,r,a=e.items;if(!a||!a.length)return null;var o=i(e);for(o&&o.length&&(a=o),r=a.length;--r>=0;)if(n=t(a[r]))return n;if(a===o)for(r=(a=e.items).length;--r>=0;)if(!a[r].zindex&&(n=t(a[r])))return n;return null}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return $})),n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return A})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return F}));var r=n(613),i=n(710),a=n(711),o=n(712),u=n(2052),s=n(1727),f=n(1003),c=n(2053);function l(e,t){return null!=e?e:t}const d=e=>e.x||0,p=e=>e.y||0,m=e=>!(!1===e.defined),b=Object(u.a)().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),h=Object(s.a)().x(d).y1(p).y0(e=>(e.y||0)+(e.height||0)).defined(m),g=Object(s.a)().y(p).x1(d).x0(e=>(e.x||0)+(e.width||0)).defined(m),y=Object(f.a)().x(d).y(p).defined(m),O=Object(a.a)().x(d).y(p).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>l(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>l(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>l(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>l(e.cornerRadiusBottomLeft,e.cornerRadius)||0),v=Object(c.a)().type(e=>Object(i.a)(e.shape||"circle")).size(e=>l(e.size,64)),j=Object(o.a)().x(d).y(p).defined(m).size(e=>e.size||1);function $(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function x(e,t){return b.context(e)(t)}function k(e,t){var n=t[0],i=n.interpolate||"linear";return("horizontal"===n.orient?g:h).curve(Object(r.a)(i,n.orient,n.tension)).context(e)(t)}function A(e,t){var n=t[0],i=n.interpolate||"linear";return y.curve(Object(r.a)(i,n.orient,n.tension)).context(e)(t)}function E(e,t,n,r){return O.context(e)(t,n,r)}function w(e,t){return(t.mark.shape||t.shape).context(e)(t)}function _(e,t){return v.context(e)(t)}function F(e,t){return j.context(e)(t)}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=new(n(76).a);function i(e,t,n){return e[t]===n?0:(e[t]=n,1)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n(446);const i=new(n(169).a);function a(e){return function(t,n){if(!r.a)return!0;e(r.a,t),i.clear().union(t.bounds).intersect(n).round();const{x1:a,y1:o,x2:u,y2:s}=i;for(let e=o;e<=s;++e)for(let t=a;t<=u;++t)if(r.a.isPointInPath(t,e))return!0;return!1}}function o(e,t){return t.contains(e.x||0,e.y||0)}function u(e,t){const n=e.x||0,r=e.y||0,a=e.width||0,o=e.height||0;return t.intersects(i.set(n,r,n+a,r+o))}function s(e,t){const n=e.x||0,r=e.y||0;return f(t,n,r,null!=e.x2?e.x2:n,null!=e.y2?e.y2:r)}function f(e,t,n,r,i){const{x1:a,y1:o,x2:u,y2:s}=e,f=r-t,c=i-n;let l,d,p,m,b=0,h=1;for(m=0;m<4;++m){if(0===m&&(l=-f,d=-(a-t)),1===m&&(l=f,d=u-t),2===m&&(l=-c,d=-(o-n)),3===m&&(l=c,d=s-n),Math.abs(l)<1e-10&&d<0)return!1;if(p=d/l,l<0){if(p>h)return!1;p>b&&(b=p)}else if(l>0){if(p<b)return!1;p<h&&(h=p)}}return!0}},function(e,t,n){"use strict";var r=n(25),i=n(63);t.a=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=Object(i.c)(e.encode,t,r.t)):e.interactive=!1,e}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(217),i=n(198),a=n(1);function o(e,t,n,o){t[0].type!==i.b&&Object(a.n)("First argument to data functions must be a string literal.");const u=t[0].value,s=r.a+u;if(!Object(a.v)(s,o))try{o[s]=n.getData(u).tuplesRef()}catch(e){}}function u(e,t,n,o){t[0].type!==i.b&&Object(a.n)("First argument to indata must be a string literal."),t[1].type!==i.b&&Object(a.n)("Second argument to indata must be a string literal.");const u=t[0].value,s=t[1].value,f=r.b+s;Object(a.v)(f,o)||(o[f]=n.getData(u).indataRef(n,s))}function s(e,t,n,r){if(t[0].type===i.b)f(n,r,t[0].value);else for(e in n.scales)f(n,r,e)}function f(e,t,n){const i=r.c+n;if(!Object(a.v)(t,i))try{t[i]=e.scaleRef(n)}catch(e){}}},,,,,,function(e,t,n){"use strict";function r(e){this.clear(),e&&this.union(e)}n.d(t,"a",(function(){return r}));var i=r.prototype;i.clone=function(){return new r(this)},i.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},i.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},i.equals=function(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},i.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},i.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},i.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},i.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},i.scale=function(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},i.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},i.rotate=function(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},i.rotatedPoints=function(e,t,n){var{x1:r,y1:i,x2:a,y2:o}=this,u=Math.cos(e),s=Math.sin(e),f=t-t*u+n*s,c=n-t*s-n*u;return[u*r-s*i+f,s*r+u*i+c,u*r-s*o+f,s*r+u*o+c,u*a-s*i+f,s*a+u*i+c,u*a-s*o+f,s*a+u*o+c]},i.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},i.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},i.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},i.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},i.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},i.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},i.width=function(){return this.x2-this.x1},i.height=function(){return this.y2-this.y1}},function(e,t,n){"use strict";n(333),n(737),n(178),n(410),n(740),n(411),n(528),n(741),n(742),n(529),n(218),n(743),n(530),n(531),n(412);var r=n(407);n.d(t,"a",(function(){return r.c})),n.d(t,"b",(function(){return r.d}));n(217);var i=n(1252);n.d(t,"c",(function(){return i.a}));n(163)},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));var r=Symbol("vega_id"),i=1;function a(e){return!(!e||!o(e))}function o(e){return e[r]}function u(e,t){return e[r]=t,e}function s(e){var t=e===Object(e)?e:{data:e};return o(t)?t:u(t,i++)}function f(e){return c(e,s({}))}function c(e,t){for(var n in e)t[n]=e[n];return t}function l(e,t){return u(t,o(e))}function d(e,t){return e?t?(n,r)=>e(n,r)||o(t(n))-o(t(r)):(t,n)=>e(t,n)||o(t)-o(n):null}},,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));const r=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},i=r("format"),a=r("timeFormat"),o=r("utcFormat"),u=r("timeParse"),s=r("utcParse");var f=new Date(2e3,0,1);function c(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(f.setYear(2e3),f.setMonth(e),f.setDate(t),a.call(this,f,n)):""}function l(e){return c.call(this,e,1,"%B")}function d(e){return c.call(this,e,1,"%b")}function p(e){return c.call(this,0,2+e,"%A")}function m(e){return c.call(this,0,2+e,"%a")}},function(e,t,n){"use strict";var r=n(1347),i=n(1349),a=n(1350),o=n(1351),u=n(1352),s=n(1353),f=n(1354),c=n(1355),l=n(1356),d=n(1357),p=n(1358),m=n(1359);t.a={arc:r.a,area:i.a,group:a.a,image:o.a,line:u.a,path:s.a,rect:f.a,rule:c.a,shape:l.a,symbol:d.a,text:p.a,trail:m.a}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return y})),n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return v}));var r=n(502),i=n(363),a=n(503),o=n(364);const u=new Date;function s(e){return u.setFullYear(e),u.setMonth(0),u.setDate(1),u.setHours(0,0,0,0),u}function f(e){return l(new Date(e))}function c(e){return d(new Date(e))}function l(e){return r.a.count(s(e.getFullYear())-1,e)}function d(e){return i.b.count(s(e.getFullYear())-1,e)}function p(e){return s(e).getDay()}function m(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(-1,t,n,r,i,a,o);return u.setFullYear(e),u}return new Date(e,t,n,r,i,a,o)}function b(e){return g(new Date(e))}function h(e){return y(new Date(e))}function g(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return a.a.count(t-1,e)}function y(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return o.b.count(t-1,e)}function O(e){return u.setTime(Date.UTC(e,0,1)),u.getUTCDay()}function v(e,t,n,r,i,a,o){if(0<=e&&e<100){var u=new Date(Date.UTC(-1,t,n,r,i,a,o));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,i,a,o))}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return A})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return F})),n.d(t,"e",(function(){return D})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return M}));var r=n(1),i=n(1362),a=n(1363),o=n(35),u=n(1005),s=n(1364),f=n(2054),c=n(269),l=n(630),d=n(568),p=n(631),m=n(1007),b=n(2055),h=n(326),g=n(674),y=n(2056),O=n(2057),v=n(2058),j=n(628);const $={};function x(e,t,n){const o=function(){var n=t();return n.invertRange||(n.invertRange=n.invert?Object(i.a)(n):n.invertExtent?Object(a.a)(n):void 0),n.type=e,n};return o.metadata=Object(r.db)(Object(r.i)(n)),o}function k(e,t,n){return arguments.length>1?($[e]=x(e,t,n),this):A(e)?$[e]:void 0}function A(e){return Object(r.v)($,e)}function E(e,t){const n=$[e];return n&&n.metadata[t]}function w(e){return E(e,o.c)}function _(e){return E(e,o.d)}function F(e){return E(e,o.e)}function D(e){return E(e,o.j)}function S(e){return E(e,o.s)}function C(e){return E(e,o.h)}function M(e){return E(e,o.n)}k(o.g,f.a),k(o.i,c.a,o.c),k(o.j,l.a,[o.c,o.j]),k(o.m,d.a,o.c),k(o.q,d.c,o.c),k(o.r,p.a,o.c),k(o.u,m.b,[o.c,o.s]),k(o.v,b.a,[o.c,o.s]),k(o.p,h.b,[o.c,o.h]),k(`${o.p}-${o.i}`,h.b,[o.c,o.h]),k(`${o.p}-${o.j}`,h.c,[o.c,o.h,o.j]),k(`${o.p}-${o.m}`,h.d,[o.c,o.h]),k(`${o.p}-${o.q}`,h.e,[o.c,o.h]),k(`${o.p}-${o.r}`,h.f,[o.c,o.h]),k(`${o.f}-${o.i}`,g.a,[o.c,o.h]),k(`${o.f}-${o.j}`,g.b,[o.c,o.h,o.j]),k(`${o.f}-${o.m}`,g.c,[o.c,o.h]),k(`${o.f}-${o.q}`,g.d,[o.c,o.h]),k(`${o.f}-${o.r}`,g.e,[o.c,o.h]),k(o.n,y.a,[o.e,o.n]),k(o.o,O.a,o.e),k(o.t,v.a,o.e),k(o.b,s.a,[o.d,o.e]),k(o.k,j.a,o.d),k(o.a,u.a,o.d),k(o.l,u.b,o.d)},,function(e,t,n){"use strict";var r=n(149);n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a}));var i=n(1247);n.d(t,"f",(function(){return i.a}));var a=n(1248);n.d(t,"c",(function(){return a.a}));var o=n(739);n.d(t,"e",(function(){return o.a}));var u=n(738);n.d(t,"d",(function(){return u.a}))},,,,,,,function(e,t,n){"use strict";function r(e){return null==e?null:e.fname}function i(e){return null==e?null:e.fields}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),t.c=function(e,t,n){return e.fields=t||[],e.fname=n,e}},function(e,t,n){"use strict";function r(e,t,n,r){e=e.filter(e=>{let r=t(e),i=n(e);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i}),r&&e.sort((e,n)=>t(e)-t(n));const i=e.length,a=new Float64Array(i),o=new Float64Array(i);let u,s,f,c=0,l=0,d=0;for(f of e)a[c]=u=+t(f),o[c]=s=+n(f),++c,l+=(u-l)/c,d+=(s-d)/c;for(c=0;c<i;++c)a[c]-=l,o[c]-=d;return[a,o,l,d]}function i(e,t,n,r){let i,a,o=-1;for(let u of e)i=t(u),a=n(u),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++o)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n(150),i=n(1);function a(e){return e=e||i.gb,function(t,n,i,a,o,u){return i*=t.pixelRatio,a*=t.pixelRatio,Object(r.a)(n,(function(n){var r=n.bounds;if((!r||r.contains(o,u))&&r)return e(t,n,i,a,o,u)?n:void 0}))}}function o(e,t){return function(n,r,i,a){var o,u,s=Array.isArray(r)?r[0]:r,f=null==t?s.fill:t,c=s.stroke&&n.isPointInStroke;return c&&(o=s.strokeWidth,u=s.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=u?u:"butt"),!e(n,r)&&(f&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a))}}function u(e){return a(o(e))}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=Math.random;function i(e){r=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));const r=":",i="@",a="%",o="$"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d}));var r=n(237),i=n(47),a=n(1);function o(e,t,n){return Object(i.s)(e||0,t||0,n||0)}function u(e,t){const n=Object(r.a)(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function s(e,t){const n=Object(r.a)(e,(t||this).context);return n?n.copy():void 0}function f(e,t){const n=Object(r.a)(e,(t||this).context);return n?n.domain():[]}function c(e,t,n){const i=Object(r.a)(e,(n||this).context);return i?Object(a.A)(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0}function l(e,t){const n=Object(r.a)(e,(t||this).context);return n&&n.range?n.range():[]}function d(e,t,n){const i=Object(r.a)(e,(n||this).context);return i?i(t):void 0}},,,,,,,,,,function(e,t,n){const r=n(686),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=n(685),{re:o,t:u}=n(509),{compareIdentifiers:s}=n(914);class f{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof f){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[u.LOOSE]:o[u.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof f)){if("string"==typeof e&&e===this.version)return 0;e=new f(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof f||(e=new f(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof f||(e=new f(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return s(n,i)}while(++t)}compareBuild(e){e instanceof f||(e=new f(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return s(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=f},,,function(e,t,n){"use strict";function r(e,t){return"translate("+e+","+t+")"}function i(e){return"rotate("+e+")"}function a(e){return r(e.x||0,e.y||0)}function o(e){return r(e.x||0,e.y||0)+(e.angle?" "+i(e.angle):"")+(e.scaleX||e.scaleY?" "+(t=e.scaleX||1,n=e.scaleY||1,"scale("+t+","+n+")"):"");var t,n}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o}))},,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n(1);function i(e,t,n){return n||e+(t?"_"+t:"")}const a=()=>{},o={init:a,add:a,rem:a,idx:0},u={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},s=Object.keys(u);function f(e,t){return u[e](t)}function c(e,t){return e.idx-t.idx}function l(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function d(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t))):++this.missing}function p(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t))):--this.missing}function m(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function b(e,t){var n=t||r.x,i=function(e){const t={};e.forEach(e=>t[e.name]=e);const n=e=>{e.req&&e.req.forEach(e=>{t[e]||n(t[e]=u[e]())})};return e.forEach(n),Object.values(t).sort(c)}(e),a=e.slice().sort(c);function o(e){this._ops=i,this._out=a,this.cell=e,this.init()}return o.prototype.init=l,o.prototype.add=d,o.prototype.rem=p,o.prototype.set=m,o.prototype.get=n,o.fields=e.map(e=>e.out),o}s.forEach(e=>{u[e]=function(e,t){return n=>Object(r.o)({name:e,out:n||e},o,t)}(e,u[e])})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(217),i=n(163),a=n(198),o=n(1);function u(e,t){let n;return Object(o.D)(e)?e:Object(o.H)(e)?(n=t.scales[e])&&n.value:void 0}function s(e,t,n){t.__bandwidth=e=>e&&e.bandwidth?e.bandwidth():0,n._bandwidth=i.c,n._range=i.c,n._scale=i.c;const u=t=>"_["+(t.type===a.b?Object(o.Z)(r.c+t.value):Object(o.Z)(r.c)+"+"+e(t))+"]";return{_bandwidth:e=>`this.__bandwidth(${u(e[0])})`,_range:e=>u(e[0])+".range()",_scale:t=>`${u(t[0])}(${e(t[1])})`}}},,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r}},,function(e,t,n){"use strict";t.a=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const r=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(r+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,r):0))}return e}},,function(e,t,n){"use strict";var r=n(1256);n.d(t,"a",(function(){return r.a}))},,function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var r=0;function i(){r=0}const a="p_";function o(e){return e&&e.gradient}function u(e,t,n){let i=e.id,o=e.gradient,u="radial"===o?a:"";return i||(i=e.id="gradient_"+r++,"radial"===o?(e.x1=s(e.x1,.5),e.y1=s(e.y1,.5),e.r1=s(e.r1,0),e.x2=s(e.x2,.5),e.y2=s(e.y2,.5),e.r2=s(e.r2,.5),u=a):(e.x1=s(e.x1,0),e.y1=s(e.y1,0),e.x2=s(e.x2,1),e.y2=s(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+u+i+")"}function s(e,t){return null!=e?e:t}t.a=function(e,t){var n,r=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(611),i=n(330),a=n(1),o=0,u=new r.a;function s(e,t,n,r){this.id=++o,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}var f=s.prototype;function c(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}f.targets=function(){return this._targets||(this._targets=Object(i.a)(a.w))},f.set=function(e){return this.value!==e?(this.value=e,1):0},f.skip=c(1),f.modified=c(2),f.parameters=function(e,t,n){t=!1!==t;var i,o,u,f,c=this,l=c._argval=c._argval||new r.a,d=c._argops=c._argops||[],p=[];function m(e,n,r){r instanceof s?(r!==c&&(t&&r.targets().add(c),p.push(r)),d.push({op:r,name:e,index:n})):l.set(e,n,r)}for(i in e)if(o=e[i],"pulse"===i)Object(a.i)(o).forEach((function(e){e instanceof s?e!==c&&(e.targets().add(c),p.push(e)):Object(a.n)("Pulse parameters must be operator instances.")})),c.source=o;else if(Object(a.A)(o))for(l.set(i,-1,Array(u=o.length)),f=0;f<u;++f)m(i,f,o[f]);else m(i,-1,o);return this.marshall().clear(),n&&(d.initonly=!0),p},f.marshall=function(e){var t,n,r,i,a,o=this._argval||u,s=this._argops;if(s){for(n=0,r=s.length;n<r;++n)a=(i=(t=s[n]).op).modified()&&i.stamp===e,o.set(t.name,t.index,i.value,a);if(s.initonly){for(n=0;n<r;++n)(t=s[n]).op.targets().remove(this);this._argops=null,this._update=null}}return o},f.detach=function(){var e,t,n,r=this._argops;if(r)for(e=0,t=r.length;e<t;++e)(n=r[e].op)._targets&&n._targets.remove(this)},f.evaluate=function(e){var t=this._update;if(t){var n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},f.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e);var t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(714);function i(e){this._el=null,this._bgcolor=null,this._loader=new r.a(e)}var a=i.prototype;a.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},a.element=function(){return this._el},a.canvas=function(){return this._el&&this._el.firstChild},a.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},a.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},a.dirty=function(){},a.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},a._render=function(){},a.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then((function(){return t})):Promise.resolve(t)},a._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then((function(e){e&&i(),n._ready=null}))}return r},a.sanitizeURL=function(e){return this._load("sanitizeURL",e)},a.loadImage=function(e){return this._load("loadImage",e)}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t){return null==e?t:e}},,,function(e,t,n){"use strict";var r=n(336);n.d(t,"c",(function(){return r.a}));var i=n(337);n.d(t,"e",(function(){return i.b}));var a=n(681);n.d(t,"b",(function(){return a.b})),n.d(t,"a",(function(){return a.a})),n.d(t,"d",(function(){return a.c}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return f}));var r=n(624),i=n(216);let a=NaN;function o(e,t){e=e||0,t=null==t?1:t;let n,r,o=0,u=0;if(a==a)o=a,a=NaN;else{do{o=2*Object(i.a)()-1,u=2*Object(i.a)()-1,n=o*o+u*u}while(0===n||n>1);r=Math.sqrt(-2*Math.log(n)/n),o*=r,a=u*r}return e+o*t}function u(e,t,n){const i=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*i*i)/(n*r.b)}function s(e,t,n){let r,i=(e-(t=t||0))/(n=null==n?1:n),a=Math.abs(i);if(a>37)r=0;else{let e,t=Math.exp(-a*a/2);a<7.07106781186547?(e=.0352624965998911*a+.700383064443688,e=e*a+6.37396220353165,e=e*a+33.912866078383,e=e*a+112.079291497871,e=e*a+221.213596169931,e=e*a+220.206867912376,r=t*e,e=.0883883476483184*a+1.75566716318264,e=e*a+16.064177579207,e=e*a+86.7807322029461,e=e*a+296.564248779674,e=e*a+637.333633378831,e=e*a+793.826512519948,e=e*a+440.413735824752,r/=e):(e=a+.65,e=a+4/e,e=a+3/e,e=a+2/e,e=a+1/e,r=t/e/2.506628274631)}return i>0?1-r:r}function f(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*r.a*function(e){let t,n=-Math.log((1-e)*(1+e));n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0;return t*e}(2*e-1)}t.b=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>o(n,r),pdf:e=>u(e,n,r),cdf:e=>s(e,n,r),icdf:e=>f(e,n,r)};return i.mean(e).stdev(t)}},,,,function(e,t,n){"use strict";var r=n(206);t.a=function(e,t,n,i,a){let o=0,u=0;return Object(r.b)(e,t,n,(e,t)=>{const n=t-a(e),r=t-i;o+=n*n,u+=r*r}),1-o/u}},function(e,t,n){"use strict";var r=n(683);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(171),i=n(1);const a={};function o(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}const u=o.prototype;function s(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}function f(e,t){var n=[];return Object(i.ib)(e,t,e=>n.push(e)),n}function c(e,t){var n={};return e.visit(t,(function(e){n[Object(r.g)(e)]=1})),e=>n[Object(r.g)(e)]?null:e}u.StopPropagation=a,u.ADD=1,u.REM=2,u.MOD=4,u.ADD_REM=3,u.ADD_MOD=5,u.ALL=7,u.REFLOW=8,u.SOURCE=16,u.NO_SOURCE=32,u.NO_FIELDS=64,u.fork=function(e){return new o(this.dataflow).init(this,e)},u.clone=function(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},u.addAll=function(){let e=this;return e.source&&e.source.length!==e.add.length?(e=new o(this.dataflow).init(this),e.add=e.source,e):e},u.init=function(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},u.runAfter=function(e){this.dataflow.runAfter(e)},u.changed=function(e){var t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},u.reflow=function(e){if(e)return this.fork(7).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,c(this,1))),this},u.clean=function(e){return arguments.length?(this.cleans=!!e,this):this.cleans},u.modifies=function(e){var t=this.fields||(this.fields={});return Object(i.A)(e)?e.forEach(e=>t[e]=!0):t[e]=!0,this},u.modified=function(e,t){var n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(i.A)(e)?e.some(e=>n[e]):n[e]:!!n)},u.filter=function(e,t){var n=this;return 1&e&&(n.addF=s(n.addF,t)),2&e&&(n.remF=s(n.remF,t)),4&e&&(n.modF=s(n.modF,t)),16&e&&(n.srcF=s(n.srcF,t)),n},u.materialize=function(e){var t=this;return 1&(e=e||7)&&t.addF&&(t.add=f(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=f(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=f(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},u.visit=function(e,t){var n,r,a=this,o=t;return 16&e?(Object(i.ib)(a.source,a.srcF,o),a):(1&e&&Object(i.ib)(a.add,a.addF,o),2&e&&Object(i.ib)(a.rem,a.remF,o),4&e&&Object(i.ib)(a.mod,a.modF,o),8&e&&(n=a.source)&&((r=a.add.length+a.mod.length)===n.length||(r?Object(i.ib)(n,c(a,5),o):Object(i.ib)(n,a.srcF,o))),a)}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}function o(e,t){return e.parent===t.parent?1:2}Object(i.y)(a,r.g).transform=function(e,t){t.source&&t.source.root||Object(i.n)(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),a=this.fields,u=t.source.root,s=e.as||a;e.field?u.sum(e.field):u.count(),e.sort&&u.sort(Object(r.q)(e.sort,e=>e.data)),function(e,t,n){for(var r,i=0,a=t.length;i<a;++i)(r=t[i])in n&&e[r](n[r])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?o:i.O);try{this.value=n(u)}catch(e){Object(i.n)(e)}return u.each((function(e){!function(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}(e,a,s)})),t.reflow(e.modified()).modifies(s).modifies("leaf")}},,,,,,,,function(e,t,n){const r=n(228);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},function(e,t,n){class r{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof i)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=this.options.loose;e=e.trim();const n=t?u[s.HYPHENRANGELOOSE]:u[s.HYPHENRANGE];e=e.replace(n,x(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[s.COMPARATORTRIM],f),a("comparator trim",e,u[s.COMPARATORTRIM]),e=(e=(e=e.replace(u[s.TILDETRIM],c)).replace(u[s.CARETTRIM],l)).split(/\s+/).join(" ");const r=t?u[s.COMPARATORLOOSE]:u[s.COMPARATOR];return e.split(" ").map(e=>p(e,this.options)).join(" ").split(/\s+/).map(e=>$(e,this.options)).filter(this.options.loose?e=>!!e.match(r):()=>!0).map(e=>new i(e,this.options))}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>d(n,t)&&e.set.some(e=>d(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(k(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const i=n(688),a=n(686),o=n(228),{re:u,t:s,comparatorTrimReplace:f,tildeTrimReplace:c,caretTrimReplace:l}=n(509),d=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every(e=>i.intersects(e,t)),i=r.pop();return n},p=(e,t)=>(a("comp",e,t),e=g(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=O(e,t),a("xrange",e),e=j(e,t),a("stars",e),e),m=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map(e=>h(e,t)).join(" "),h=(e,t)=>{const n=t.loose?u[s.TILDELOOSE]:u[s.TILDE];return e.replace(n,(t,n,r,i,o)=>{let u;return a("tilde",e,t,n,r,i,o),m(n)?u="":m(r)?u=`>=${n}.0.0 <${+n+1}.0.0-0`:m(i)?u=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(a("replaceTilde pr",o),u=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):u=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,a("tilde return",u),u})},g=(e,t)=>e.trim().split(/\s+/).map(e=>y(e,t)).join(" "),y=(e,t)=>{a("caret",e,t);const n=t.loose?u[s.CARETLOOSE]:u[s.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,i,o,u)=>{let s;return a("caret",e,t,n,i,o,u),m(n)?s="":m(i)?s=`>=${n}.0.0${r} <${+n+1}.0.0-0`:m(o)?s="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:u?(a("replaceCaret pr",u),s="0"===n?"0"===i?`>=${n}.${i}.${o}-${u} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${u} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${u} <${+n+1}.0.0-0`):(a("no pr"),s="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),a("caret return",s),s})},O=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map(e=>v(e,t)).join(" ")),v=(e,t)=>{e=e.trim();const n=t.loose?u[s.XRANGELOOSE]:u[s.XRANGE];return e.replace(n,(n,r,i,o,u,s)=>{a("xRange",e,n,r,i,o,u,s);const f=m(i),c=f||m(o),l=c||m(u),d=l;return"="===r&&d&&(r=""),s=t.includePrerelease?"-0":"",f?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&d?(c&&(o=0),u=0,">"===r?(r=">=",c?(i=+i+1,o=0,u=0):(o=+o+1,u=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),"<"===r&&(s="-0"),n=`${r+i}.${o}.${u}${s}`):c?n=`>=${i}.0.0${s} <${+i+1}.0.0-0`:l&&(n=`>=${i}.${o}.0${s} <${i}.${+o+1}.0-0`),a("xRange return",n),n})},j=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[s.STAR],"")),$=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?s.GTE0PRE:s.GTE0],"")),x=e=>(t,n,r,i,a,o,u,s,f,c,l,d,p)=>`${n=m(r)?"":m(i)?`>=${r}.0.0${e?"-0":""}`:m(a)?`>=${r}.${i}.0${e?"-0":""}`:o?">="+n:`>=${n}${e?"-0":""}`} ${s=m(f)?"":m(c)?`<${+f+1}.0.0-0`:m(l)?`<${f}.${+c+1}.0-0`:d?`<=${f}.${c}.${l}-${d}`:e?`<${f}.${c}.${+l+1}-0`:"<="+s}`.trim(),k=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==i.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},,function(e,t,n){"use strict";t.a=function(e){return e[e.length-1]}},function(e,t,n){"use strict";n.d(t,"e",(function(){return u}));var r=n(1327),i=n(1120);n.d(t,"f",(function(){return i.a}));var a=n(409);n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return a.b})),n.d(t,"h",(function(){return a.c}));var o=n(512);n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return o.b})),n.d(t,"g",(function(){return o.c}));var u=Object(r.a)("undefined"!=typeof fetch&&fetch,null)},,function(e,t,n){"use strict";t.a=function(e,t){e.globalCompositeOperation=t.blend||"source-over"}},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return o}));var r=n(1633),i=n(753),a=(n(619),n(754));n.d(t,"c",(function(){return a.b}));n(755);n.d(t,"a",(function(){return i.a}));const o=r.version;t.b=function(e,t){const n=new i.a(t);return e.tooltip(n.call).run(),n}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u}));const r="intersect",i="union",a="vlMulti",o="or",u="and"},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(205),i=n(521),a=[],o=Object(i.a)("id"),u=Object(r.c)((function(e){return e}),a,"identity"),s=Object(r.c)((function(){return 0}),a,"zero"),f=Object(r.c)((function(){return 1}),a,"one"),c=Object(r.c)((function(){return!0}),a,"true"),l=Object(r.c)((function(){return!1}),a,"false")},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=e||r.x,n=[],i={};return n.add=function(e){var r=t(e);return i[r]||(i[r]=1,n.push(e)),n},n.remove=function(e){var r,a=t(e);return i[a]&&(i[a]=0,(r=n.indexOf(e))>=0&&n.splice(r,1)),n},n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(151),i=n(1),a=1;function o(){a=1}t.a=function(e,t,n){var o=t.clip,u=e._defs,s=t.clip_id||(t.clip_id="clip"+a++),f=u.clipping[s]||(u.clipping[s]={id:s});return Object(i.D)(o)?f.path=o(null):Object(r.c)(n)?f.path=Object(r.e)(null,n,0,0):(f.width=n.width||0,f.height=n.height||0),"url(#"+s+")"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,i,a,o=n(99),u=o.e-1e-8;function s(e){return r=e,s}function f(){}function c(e,t){r.add(e,t)}function l(e,t){c(i=e,a=t)}function d(e){c(e,r.y1)}function p(e){c(r.x1,e)}function m(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function b(e,t,n,r,i){const a=r-e+3*t-3*n,u=e+n-2*t,s=e-t;let f,c=0,l=0;Math.abs(a)>o.b?(f=u*u+s*a,f>=0&&(f=Math.sqrt(f),c=(-u+f)/a,l=(-u-f)/a)):c=.5*s/u,0<c&&c<1&&i(h(c,e,t,n,r)),0<l&&l<1&&i(h(l,e,t,n,r))}function h(e,t,n,r,i){const a=1-e,o=a*a,u=e*e;return o*a*t+3*o*e*n+3*a*u*r+u*e*i}s.beginPath=f,s.closePath=f,s.moveTo=l,s.lineTo=l,s.rect=function(e,t,n,r){c(e+n,t+r),l(e,t)},s.quadraticCurveTo=function(e,t,n,r){m(i,e,n,d),m(a,t,r,p),l(n,r)},s.bezierCurveTo=function(e,t,n,r,o,u){b(i,e,n,o,d),b(a,t,r,u,p),l(o,u)},s.arc=function(e,t,n,r,s,f){if(i=n*Math.cos(s)+e,a=n*Math.sin(s)+t,Math.abs(s-r)>u)c(e-n,t-n),c(e+n,t+n);else{const i=r=>c(n*Math.cos(r)+e,n*Math.sin(r)+t);let a,u;if(i(r),i(s),s!==r)if((r%=o.e)<0&&(r+=o.e),(s%=o.e)<0&&(s+=o.e),s<r&&(f=!f,a=r,r=s,s=a),f)for(s-=o.e,a=r-r%o.c,u=0;u<4&&a>s;++u,a-=o.c)i(a);else for(a=r-r%o.c+o.c,u=0;u<4&&a<s;++u,a+=o.c)i(a)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(1);function i(e){const t=this.context.data[e];return t?t.values.value:[]}function a(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function o(e,t){const n=this.context.dataflow,i=this.context.data[e].input;return n.pulse(i,n.changeset().remove(r.gb).insert(t)),1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(64),i=n(27),a=n(1);function o(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}o.fromEntries=function(e,t){var n=t.length,r=1,a=t[0],u=t[n-1],s=t[n-2],f=null;for(a&&"load"===a.type&&(a=t[1]),e.add(t[0]);r<n;++r)t[r].params.pulse=Object(i.p)(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(f=t[r]);return new o(e,a,s,u,f)};var u=o.prototype;function s(e){return Object(a.H)(e)?e:null}function f(e,t,n){var r,a=Object(i.e)(n.op,n.field);if(t.ops){for(var o=0,u=t.as.length;o<u;++o)if(t.as[o]===a)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(a))}function c(e,t,n,r,a,o,u){var f,c,l=t[n]||(t[n]={}),d=Object(i.q)(o),p=s(a);if(null!=p&&(e=t.scope,f=l[p+=d?"|"+d:""]),!f){var m=o?{field:i.m,pulse:t.countsRef(e,a,o)}:{field:e.fieldRef(a),pulse:Object(i.p)(t.output)};d&&(m.sort=e.sortRef(o)),c=e.add(Object(i.h)(r,void 0,m)),u&&(t.index[a]=c),f=Object(i.p)(c),null!=p&&(l[p]=f)}return f}u.countsRef=function(e,t,n){var a,o,u,c=this.counts||(this.counts={}),l=s(t);return null!=l&&(e=this.scope,a=c[l]),a?n&&n.field&&f(e,a.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:Object(i.p)(this.output)},n&&n.field&&f(e,u,n),o=e.add(Object(r.a)(u)),a=e.add(Object(r.d)({pulse:Object(i.p)(o)})),a={agg:o,ref:Object(i.p)(a)},null!=l&&(c[l]=a)),a.ref},u.tuplesRef=function(){return Object(i.p)(this.values)},u.extentRef=function(e,t){return c(e,this,"extent","extent",t,!1)},u.domainRef=function(e,t){return c(e,this,"domain","values",t,!1)},u.valuesRef=function(e,t,n){return c(e,this,"vals","values",t,n||!0)},u.lookupRef=function(e,t){return c(e,this,"lookup","tupleindex",t,!1)},u.indataRef=function(e,t){return c(e,this,"indata","tupleindex",t,!0,!0)}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b}));var r=n(493),i=n(267),a=n(585),o=n(1718),u=n(1719),s=n(1720),f=n(673),c=n(993);function l(e){const t=Object(r.a)(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){var n,r,i=Object(a.a)(e||",");if(null==i.precision){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1}return n=t(i),r=t(".1f")(1)[1],e=>{var t,i,a=n(e),o=a.indexOf(r);if(o<0)return a;for(i=(t=function(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if((n=e.charCodeAt(r))>=48&&n<=57)return r+1}(a,o))<a.length?a.slice(t):"";--t>o;)if("0"!==a[t]){++t;break}return a.slice(0,t)+i}}return t(i)},formatSpan(e,r,f,c){c=Object(a.a)(null==c?",f":c);const l=Object(i.c)(e,r,f),d=Math.max(Math.abs(e),Math.abs(r));let p;if(null==c.precision)switch(c.type){case"s":return isNaN(p=Object(o.a)(l,d))||(c.precision=p),n(c,d);case"":case"e":case"g":case"p":case"r":isNaN(p=Object(u.a)(l,d))||(c.precision=p-("e"===c.type));break;case"f":case"%":isNaN(p=Object(s.a)(l))||(c.precision=p-2*("%"===c.type))}return t(c)}}}let d;function p(){return d=l({format:f.a,formatPrefix:f.b})}function m(e){return l(Object(c.a)(e))}function b(e){return arguments.length?d=m(e):d}p()},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(493),i=n(90),a=n(1),o=n(594),u=n(997);function s(e,t,n){n=n||{},Object(a.F)(n)||Object(a.n)("Invalid time multi-format specifier: "+n);const r=t(i.i),o=t(i.f),u=t(i.d),s=t(i.a),f=t(i.k),c=t(i.g),l=t(i.h),d=t(i.l),p=e(n[i.e]||".%L"),m=e(n[i.i]||":%S"),b=e(n[i.f]||"%I:%M"),h=e(n[i.d]||"%I %p"),g=e(n[i.a]||n[i.b]||"%a %d"),y=e(n[i.k]||"%b %d"),O=e(n[i.g]||"%B"),v=e(n[i.h]||"%B"),j=e(n[i.l]||"%Y");return e=>(r(e)<e?p:o(e)<e?m:u(e)<e?b:s(e)<e?h:c(e)<e?f(e)<e?g:y:d(e)<e?l(e)<e?O:v:j)(e)}function f(e){const t=Object(r.a)(e.format),n=Object(r.a)(e.utcFormat);return{timeFormat:e=>Object(a.H)(e)?t(e):s(t,i.p,e),utcFormat:e=>Object(a.H)(e)?n(e):s(n,i.v,e),timeParse:Object(r.a)(e.parse),utcParse:Object(r.a)(e.utcParse)}}let c;function l(){return c=f({format:o.a,parse:o.b,utcFormat:o.c,utcParse:o.d})}function d(e){return f(Object(u.a)(e))}function p(e){return arguments.length?c=d(e):c}l()},function(e,t,n){"use strict";t.a=function(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e,t){return e?e.map((function(e,n){return t[n]||Object(r.h)(e)})):null}function a(e,t,n){var r,i,a,o,u,s,f=[],c=function(e){return e(o)};if(null==t)f.push(e.map(n));else for(r={},i=0,a=e.length;i<a;++i)o=e[i],(s=r[u=t.map(c)])||(r[u]=s=[],s.dims=u,f.push(s)),s.push(n(o));return f}},function(e,t,n){"use strict";var r=n(684);n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"a",(function(){return r.a}))},,,,,function(e,t,n){"use strict";const r=Object.prototype.hasOwnProperty;t.a=function(e,t){return r.call(e,t)}},,function(e,t,n){"use strict";var r=n(776),i=[];t.a=function(e,t,n){var a=null!=(a=t.strokeWidth)?a:1;return!(a<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=Object(r.a)(e,t,t.stroke),e.lineWidth=a,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||i),e.lineDashOffset=t.strokeDashOffset||0),!0))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(93),i=n(1360),a=n(314);function o(e,t){this._active=null,this._handlers={},this._loader=e||Object(a.e)(),this._tooltip=t||u}function u(e,t,n,r){e.element().setAttribute("title",r||"")}const s=o.prototype;s.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},s.element=function(){return this._el},s.canvas=function(){return this._el&&this._el.firstChild},s.origin=function(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},s.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},s.on=function(){},s.off=function(){},s._handlerIndex=function(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},s.handlers=function(e){const t=this._handlers,n=[];if(e)n.push.apply(n,t[this.eventName(e)]);else for(const e in t)n.push.apply(n,t[e]);return n},s.eventName=function(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},s.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then(t=>{const n=new MouseEvent(e.type,e),i=Object(r.d)(null,"a");for(const e in t)i.setAttribute(e,t[e]);i.dispatchEvent(n)}).catch((function(){}))},s.handleTooltip=function(e,t,n){if(t&&null!=t.tooltip){t=Object(i.a)(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},s.getItemBoundingClientRect=function(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.width(),o=i.height();let u=i.x1+r[0]+n.left,s=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)u+=e.x||0,s+=e.y||0;return{x:u,y:s,width:a,height:o,left:u,top:s,right:u+a,bottom:s+o}}},,function(e,t,n){"use strict";function r(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function i(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function a(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function o(e){var t=a(e),n=r(e),o=i(e);e._renderer.background(e.background()),e._renderer.resize(n,o,t),e._handler.origin(t),e._resizeListeners.forEach((function(t){try{t(n,o)}catch(t){e.error(t)}}))}n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return v}));var r=n(329),i=n(313),a=n(610);function o(e){return function(t){return e*Math.exp(t)}}function u(e){return function(t){return Math.log(e*t)}}function s(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function f(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function c(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l(e,t,n,r){var a=n(e[0]),o=n(Object(i.a)(e)),u=(o-a)*t;return[r(a-u),r(o-u)]}function d(e,t){return l(e,t,a.a,r.c)}function p(e,t){var n=Math.sign(e[0]);return l(e,t,u(n),o(n))}function m(e,t,n){return l(e,t,c(n),c(1/n))}function b(e,t,n){return l(e,t,s(n),f(n))}function h(e,t,n,r,a){var o=r(e[0]),u=r(Object(i.a)(e)),s=null!=t?r(t):(o+u)/2;return[a(s+(o-s)*n),a(s+(u-s)*n)]}function g(e,t,n){return h(e,t,n,a.a,r.c)}function y(e,t,n){var r=Math.sign(e[0]);return h(e,t,n,u(r),o(r))}function O(e,t,n,r){return h(e,t,n,c(r),c(1/r))}function v(e,t,n,r){return h(e,t,n,s(r),f(r))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(196),i=n(1),a=n(779),o=n(513);const u=["clamp","base","constant","exponent"];function s(e,t){var n=t[0],r=Object(i.U)(t)-n;return function(t){return e(n+t*r)}}function f(e,t,n){return a.a(d(t||"rgb",n),e)}function c(e,t){for(var n=new Array(t),r=t+1,i=0;i<t;)n[i]=e(++i/r);return n}function l(e,t,n){var a,o,s,f=n-t;return f&&Number.isFinite(f)?(a=(o=e.type).indexOf("-"),o=a<0?o:o.slice(a+1),s=Object(r.i)(o)().domain([t,n]).range([0,1]),u.forEach(t=>e[t]?s[t](e[t]()):0),s):Object(i.l)(.5)}function d(e,t){var n=o[function(e){return"interpolate"+e.toLowerCase().split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(196),i=n(35),a=n(90),o=n(1);const u=e=>Object(o.A)(e)?e.map(e=>String(e)):String(e),s=(e,t)=>e[1]-t[1],f=(e,t)=>t[1]-e[1];function c(e,t,n){var r;return Object(o.E)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(o.X)(e.domain())/n||1)))),Object(o.F)(t)&&(r=t.step,t=t.interval),Object(o.H)(t)&&(t=e.type===i.u?Object(a.p)(t):e.type==i.v?Object(a.v)(t):Object(o.n)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function l(e,t,n){let r=e.range(),i=r[0],a=Object(o.U)(r),u=s;if(i>a&&(r=a,a=i,i=r,u=f),i=Math.floor(i),a=Math.ceil(a),t=t.map(t=>[t,e(t)]).filter(e=>i<=e[1]&&e[1]<=a).sort(u).map(e=>e[0]),n>0&&t.length>1){const e=[t[0],Object(o.U)(t)];for(;t.length>n&&t.length>=3;)t=t.filter((e,t)=>!(t%2));t.length<3&&(t=e)}return t}function d(e,t){return e.bins?l(e,e.bins):e.ticks?e.ticks(t):e.domain()}function p(e,t,n,a,o,s){var f=t.type;let c=u;if(f===i.u||o===i.u)c=e.timeFormat(a);else if(f===i.v||o===i.v)c=e.utcFormat(a);else if(Object(r.e)(f)){const r=e.formatFloat(a);if(s||t.bins)c=r;else{const e=m(t,n,!1);c=t=>e(t)?r(t):""}}else if(t.tickFormat){const r=t.domain();c=e.formatSpan(r[0],r[r.length-1],n,a)}else a&&(c=e.format(a));return c}function m(e,t,n){const r=d(e,t),i=e.base(),a=Math.log(i),o=Math.max(1,i*t/r.length),u=e=>{let t=e/Math.pow(i,Math.round(Math.log(e)/a));return t*i<i-.5&&(t*=i),t<=o};return n?r.filter(u):u}},,function(e,t,n){"use strict";var r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},i=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];t.a=function(e){var t,n,a,o,u,s,f,c,l,d,p,m=[];for(c=0,d=(t=e.slice().replace(i[0],"###$1").split(i[1]).slice(1)).length;c<d;++c){for(a=(n=t[c]).slice(1).trim().replace(i[2],"$1###$2").split(i[3]),o=[s=n.charAt(0)],l=0,p=a.length;l<p;++l)(u=+a[l])===u&&o.push(u);if(f=r[s.toLowerCase()],o.length-1>f)for(l=1,p=o.length;l<p;l+=f)m.push([s].concat(o.slice(l,l+f)));else m.push(o)}return m}},,function(e,t,n){"use strict";var r=n(122);t.a=function(e){return e.type=r.a,e.interactive=e.interactive||!1,e}},,,,,,,,function(e,t,n){"use strict";t.a={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},i={fill:"none","stroke-miterlimit":10}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));var r="Feature",i="FeatureCollection",a="MultiPoint"},,function(e,t,n){"use strict";function r(e){return new Uint8Array(e)}function i(e){return new Uint16Array(e)}function a(e){return new Uint32Array(e)}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return T}));var r=n(198),i=n(14),a=n(657),o=n(72),u=n(90),s=n(1),f=n(402),c=n(144),l=n(596),d=n(528),p=n(333),m=n(737),b=n(178),h=n(410),g=n(740),y=n(1419),O=n(411),v=n(741),j=n(742),$=n(529),x=n(218),k=n(743),A=n(530),E=n(531),w=n(412),_=n(217),F=n(237),D=n(163);const S={random:function(){return Object(o.p)()},cumulativeNormal:o.e,cumulativeLogNormal:o.d,cumulativeUniform:o.f,densityNormal:o.h,densityLogNormal:o.g,densityUniform:o.i,quantileNormal:o.l,quantileLogNormal:o.k,quantileUniform:o.m,sampleNormal:o.G,sampleLogNormal:o.F,sampleUniform:o.H,isArray:s.A,isBoolean:s.B,isDate:s.C,isDefined:function(e){return void 0!==e},isNumber:s.E,isObject:s.F,isRegExp:s.G,isString:s.H,isTuple:i.n,isValid:function(e){return null!=e&&e==e},toBoolean:s.ab,toDate:s.bb,toNumber:s.cb,toString:s.eb,flush:s.u,lerp:s.J,merge:v.a,pad:s.P,peek:s.U,span:s.X,inrange:s.z,truncate:s.fb,rgb:c.g,lab:l.a,hcl:l.b,hsl:c.f,luminance:d.b,contrast:d.a,sequence:f.a,format:b.c,utcFormat:b.h,utcParse:b.i,utcOffset:u.w,utcSequence:u.x,timeFormat:b.f,timeParse:b.g,timeOffset:u.q,timeSequence:u.r,timeUnitSpecifier:u.s,monthFormat:b.e,monthAbbrevFormat:b.d,dayFormat:b.b,dayAbbrevFormat:b.a,quarter:s.V,utcquarter:s.hb,week:u.A,utcweek:u.z,dayofyear:u.m,utcdayofyear:u.y,warn:O.c,info:O.b,debug:O.a,extent:s.p,inScope:g.a,intersect:y.a,clampRange:s.j,pinchDistance:$.b,pinchAngle:$.a,screen:w.b,containerSize:w.a,windowSize:w.c,bandspace:x.a,setdata:p.c,pathShape:A.b,panLinear:s.Q,panLog:s.R,panPow:s.S,panSymlog:s.T,zoomLinear:s.lb,zoomLog:s.mb,zoomPow:s.nb,zoomSymlog:s.ob,encode:m.a,modify:j.a},C=["view","item","group","xy","x","y"],M={};function q(e,t,n){return 1===arguments.length?S[e]:(S[e]=t,n&&(M[e]=n),T&&(T.functions[e]="this."+e),this)}q("bandwidth",x.b,D.c),q("copy",x.c,D.c),q("domain",x.d,D.c),q("range",x.f,D.c),q("invert",x.e,D.c),q("scale",x.g,D.c),q("gradient",k.a,D.c),q("geoArea",h.a,D.c),q("geoBounds",h.b,D.c),q("geoCentroid",h.c,D.c),q("geoShape",A.a,D.c),q("indata",p.b,D.b),q("data",p.a,D.a),q("treePath",E.b,D.a),q("treeAncestors",E.a,D.a),q("vlSelectionTest",a.b,a.c),q("vlSelectionResolve",a.a,a.c);const R={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:e=>"_["+Object(s.Z)(_.d+e)+"]",functions:function(e){const t=Object(r.e)(e);C.forEach(e=>t[e]="event.vega."+e);for(let e in S)t[e]="this."+e;return Object(s.o)(t,Object(F.b)(e,S,M)),t},constants:r.d,visitors:M};var T=Object(r.c)(R)},function(e,t,n){"use strict";t.a=Array.isArray},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(1),i={boolean:r.ab,integer:r.cb,number:r.cb,date:r.bb,string:r.eb,unknown:r.x},a=[function(e){return"true"===e||"false"===e||!0===e||!1===e},function(e){return f(e)&&Number.isInteger(+e)},f,function(e){return!Number.isNaN(Date.parse(e))}],o=["boolean","integer","number","date"];function u(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=a.length,i=a.map((e,t)=>t+1);for(let o,s,f=0,c=0;f<n;++f)for(s=t?e[f][t]:e[f],o=0;o<r;++o)if(i[o]&&(null!=(u=s)&&u==u)&&!a[o](s)&&(i[o]=0,++c,c===a.length))return"string";var u;return o[i.reduce((e,t)=>0===e?t:e,0)-1]}function s(e,t){return t.reduce((function(t,n){return t[n]=u(e,n),t}),{})}function f(e){return!(Number.isNaN(+e)||e instanceof Date)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return c}));var r=n(237),i=n(452),a=n(1734),o=n(598);function u(e,t){return function(n,i,a){if(n){const t=Object(r.a)(n,(a||this).context);return t&&t.path[e](i)}return t(i)}}const s=u("area",i.c),f=u("bounds",a.a),c=u("centroid",o.a)},function(e,t,n){"use strict";function r(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function i(){return r(this.context.dataflow,"warn",arguments)}function a(){return r(this.context.dataflow,"info",arguments)}function o(){return r(this.context.dataflow,"debug",arguments)}n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));const r=()=>"undefined"!=typeof window&&window||null;function i(){const e=r();return e?e.screen:{}}function a(){const e=r();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function o(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}},,function(e,t,n){"use strict";var r=n(408);t.a=function(e){return null!=e?Object(r.a)(e)?e:[e]:[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(623),i=n(235),a=n(773),o=n(14),u=n(1);function s(e){o.g.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}s.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var f=Object(u.y)(s,o.g);f.transform=function(e,t){var n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(n.value=n.value||n.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),r.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},f.cross=function(){var e=this,t=e.value,n=e._dnames,r=n.map((function(){return{}})),i=n.length;function a(e){var t,a,o,u;for(t in e)for(o=e[t].tuple,a=0;a<i;++a)r[a][u=o[n[a]]]=u}a(e._prev),a(t),function a(o,u,s){var f,c,l=n[s],d=r[s++];for(f in d)u[l]=d[f],c=o?o+"|"+f:f,s<i?a(c,u,s):t[c]||e.cell(c,u)}("",{},0)},f.init=function(e){var t=this._inputs=[],n=this._outputs=[],a={};function o(e){for(var n,r=Object(u.i)(Object(u.g)(e)),i=0,o=r.length;i<o;++i)a[n=r[i]]||(a[n]=1,t.push(n))}this._dims=Object(u.i)(e.groupby),this._dnames=this._dims.map((function(e){var t=Object(u.h)(e);return o(e),n.push(t),t})),this.cellkey=e.key?e.key:Object(r.a)(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,f,c,l,d,p,m=e.fields||[null],b=e.ops||["count"],h=e.as||[],g=m.length,y={};for(g!==b.length&&Object(u.n)("Unmatched number of fields and aggregate ops."),p=0;p<g;++p)s=m[p],f=b[p],null==s&&"count"!==f&&Object(u.n)("Null aggregate field specified."),l=Object(u.h)(s),d=Object(i.d)(f,l,h[p]),n.push(d),"count"!==f?((c=y[l])||(o(s),(c=y[l]=[]).field=s,this._measures.push(c)),"count"!==f&&(this._countOnly=!1),c.push(Object(i.c)(f,d))):this._counts.push(d);return this._measures=this._measures.map((function(e){return Object(i.b)(e,e.field)})),{}},f.cellkey=Object(r.a)(),f.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},f.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,o=i.length;for(n.agg=Array(o),r=0;r<o;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new a.a),n},f.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,u={};for(n=0,r=a.length;n<r;++n)u[i[n]]=a[n](e);return t?Object(o.p)(t.tuple,u):Object(o.l)(u)},f.clean=function(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},f.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].add(t[n].get(e),e)},f.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),n=0,r=(t=a.agg).length;n<r;++n)t[n].rem(t[n].get(e),e)},f.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(n=0,r=(t=e.agg).length;n<r;++n)t[n].set(i);return i},f.changes=function(e){var t,n,r,i,a=this._adds,o=this._mods,u=this._prev,s=this._drop,f=e.add,c=e.rem,l=e.mod;if(u)for(n in u)t=u[n],s&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)f.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(t=o[r]).num&&s?c:l).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(316),i=n(474),a=n(347),o=n(150);function u(e){return function(t,n,r){Object(o.b)(n,(function(n){r&&!r.intersects(n.bounds)||f(e,t,n,n)}))}}function s(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||f(e,t,n.items[0],n.items)}}function f(e,t,n,o){var u=null==n.opacity?1:n.opacity;0!==u&&(e(t,o)||(Object(r.a)(t,n),n.fill&&Object(i.a)(t,n,u)&&t.fill(),n.stroke&&Object(a.a)(t,n,u)&&t.stroke()))}},,function(e,t,n){"use strict";var r=n(792),i=n(1439),a=n(1440),o=n(1441),u=n(796),s=n(1442),f=n(1443),c=n(795),l=n(122),d=n(69),p=n(545),m=n(797),b=n(334),h=n(27),g=n(1),y=n(64);t.a=function(e,t){var n,O,v,j,$,x,k,A,E,w,_,F,D,S,C=Object(c.a)(e),M=e.type===l.a,q=e.from&&e.from.facet,R=e.layout||C===d.p||C===d.g,T=C===d.o||R||q,B=e.overlap;v=Object(u.a)(e.from,M,t),O=t.add(Object(y.f)({key:v.key||(e.key?Object(h.i)(e.key):void 0),pulse:v.pulse,clean:!M})),w=Object(h.p)(O),O=j=t.add(Object(y.d)({pulse:w})),O=t.add(Object(y.n)({markdef:Object(a.a)(e),interactive:Object(o.a)(e.interactive,t),clip:Object(i.a)(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Object(h.p)(O)})),_=Object(h.p)(O),(O=$=t.add(Object(y.g)(Object(r.a)(e.encode,e.type,C,e.style,t,{mod:!1,pulse:_})))).params.parent=t.encode(),e.transform&&e.transform.forEach((function(e){const n=Object(p.a)(e,t),r=n.metadata;(r.generates||r.changes)&&Object(g.n)("Mark transforms should not generate new data."),r.nomod||($.params.mod=!0),n.params.pulse=Object(h.p)(O),t.add(O=n)})),e.sort&&(O=t.add(Object(y.z)({sort:t.compareRef(e.sort),pulse:Object(h.p)(O)}))),F=Object(h.p)(O),(q||R)&&(R=t.add(Object(y.B)({layout:t.objectProperty(e.layout),legends:t.legends,mark:_,pulse:F})),D=Object(h.p)(R)),x=t.add(Object(y.c)({mark:_,pulse:D||F})),S=Object(h.p)(x),M&&(T&&((n=t.operators).pop(),R&&n.pop()),t.pushState(F,D||S,w),q?Object(s.a)(e,t,v):T?Object(f.a)(e,t,v):t.parse(e),t.popState(),T&&(R&&n.push(R),n.push(x))),B&&(S=function(e,t,n){var r,i=e.method,a=e.bound,o=e.separation,u={separation:Object(h.l)(o)?n.signalRef(o.signal):o,method:Object(h.l)(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(u.sort=n.compareRef({field:e.order}));a&&(r=a.tolerance,u.boundTolerance=Object(h.l)(r)?n.signalRef(r.signal):+r,u.boundScale=n.scaleRef(a.scale),u.boundOrient=a.orient);return Object(h.p)(n.add(Object(y.q)(u)))}(B,S,t)),k=t.add(Object(y.w)({pulse:S})),A=t.add(Object(y.y)({pulse:Object(h.p)(k)},void 0,t.parent())),null!=e.name&&(E=e.name,t.addData(E,new b.a(t,j,k,A)),e.on&&e.on.forEach((function(e){(e.insert||e.remove||e.toggle)&&Object(g.n)("Marks only support modify triggers."),Object(m.a)(e,t,E)})))}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(288),i=(i=Object(r.a)(1,1))?i.getContext("2d"):null},,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s}));var i=0,a=1,o=2,u=3,s=4;t.f=function(e,t){var n=e||i;return{level:function(e){return arguments.length?(n=+e,this):n},error:function(){return n>=a&&r(t||"error","ERROR",arguments),this},warn:function(){return n>=o&&r(t||"warn","WARN",arguments),this},info:function(){return n>=u&&r(t||"log","INFO",arguments),this},debug:function(){return n>=s&&r(t||"log","DEBUG",arguments),this}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"f",(function(){return w}));var r=n(40),i=n(504),a=n(1082),o=n(363),u=n(502),s=n(1721),f=n(1722),c=n(895),l=n(896),d=n(505),p=n(1083),m=n(364),b=n(503),h=n(1723),g=n(1724);const y={[r.l]:i.a,[r.h]:a.a.every(3),[r.g]:a.a,[r.k]:o.b,[r.a]:u.a,[r.b]:u.a,[r.c]:u.a,[r.d]:s.a,[r.f]:f.a,[r.i]:c.a,[r.e]:l.a},O={[r.l]:d.a,[r.h]:p.a.every(3),[r.g]:p.a,[r.k]:m.b,[r.a]:b.a,[r.b]:b.a,[r.c]:b.a,[r.d]:h.a,[r.f]:g.a,[r.i]:c.a,[r.e]:l.a};function v(e){return y[e]}function j(e){return O[e]}function $(e,t,n){return e?e.offset(t,n):void 0}function x(e,t,n){return $(v(e),t,n)}function k(e,t,n){return $(j(e),t,n)}function A(e,t,n,r){return e?e.range(t,n,r):void 0}function E(e,t,n,r){return A(v(e),t,n,r)}function w(e,t,n,r){return A(j(e),t,n,r)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(171),i=n(1);function a(e){return e&&e.constructor===o}function o(){var e=[],t=[],n=[],a=[],u=[],s=null,f=!1;return{constructor:o,insert:function(t){for(var n=Object(i.i)(t),r=0,a=n.length;r<a;++r)e.push(n[r]);return this},remove:function(e){for(var n=Object(i.D)(e)?a:t,r=Object(i.i)(e),o=0,u=r.length;o<u;++o)n.push(r[o]);return this},modify:function(e,t,r){var a={field:t,value:Object(i.l)(r)};return Object(i.D)(e)?(a.filter=e,u.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return Object(i.D)(e)?u.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean:function(e){return s=e,this},reflow:function(){return f=!0,this},pulse:function(i,o){var c,l,d,p,m,b,h={},g={};for(c=0,l=o.length;c<l;++c)h[Object(r.g)(o[c])]=1;for(c=0,l=t.length;c<l;++c)m=t[c],h[Object(r.g)(m)]=-1;for(c=0,l=a.length;c<l;++c)p=a[c],o.forEach((function(e){p(e)&&(h[Object(r.g)(e)]=-1)}));for(c=0,l=e.length;c<l;++c)m=e[c],b=Object(r.g)(m),h[b]?h[b]=1:i.add.push(Object(r.b)(e[c]));for(c=0,l=o.length;c<l;++c)m=o[c],h[Object(r.g)(m)]<0&&i.rem.push(m);function y(e,t,n){n?e[t]=n(e):i.encode=t,f||(g[Object(r.g)(e)]=e)}for(c=0,l=n.length;c<l;++c)m=(d=n[c]).tuple,p=d.field,(b=h[Object(r.g)(m)])>0&&(y(m,p,d.value),i.modifies(p));for(c=0,l=u.length;c<l;++c)d=u[c],p=d.filter,o.forEach((function(e){p(e)&&h[Object(r.g)(e)]>0&&y(e,d.field,d.value)})),i.modifies(d.field);if(f)i.mod=t.length||a.length?o.filter((function(e){return h[Object(r.g)(e)]>0})):o.slice();else for(b in g)i.mod.push(g[b]);return(s||null==s&&(t.length||a.length))&&i.clean(!0),i}}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r="symbol",i="discrete",a="gradient"},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var r=n(462),i=n(35),a=n(369),o=n(1);const u={[i.n]:"quantiles",[i.o]:"thresholds",[i.t]:"domain"},s={[i.n]:"quantiles",[i.o]:"domain"};function f(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=Object(o.U)(e),t}(e.bins):e.type===i.j?Object(a.c)(e,t,!0):u[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[u[e.type]]()):Object(a.d)(e,t)}function c(e,t,n,o,f,c,p){const m=s[t.type]&&c!==i.u&&c!==i.v?function(e,t,n){var r,i=t[s[t.type]](),a=i.length,o=a>1?i[1]-i[0]:i[0];for(r=1;r<a;++r)o=Math.min(o,i[r]-i[r-1]);return e.formatSpan(0,o,30,n)}(e,t,f):Object(a.b)(e,t,n,f,c,p);return o===r.c&&function(e){return u[e.type]||e.bins}(t)?function(e){return(t,n,r)=>{var i=l(r[n+1],l(r.max,1/0)),a=d(t,e),o=d(i,e);return a&&o?a+" – "+o:o?"< "+o:"≥ "+a}}(m):o===r.a?function(e){return(t,n)=>n?e(t):null}(m):function(e){return t=>e(t)}(m)}function l(e,t){return null!=e?e:t}function d(e,t){return Number.isFinite(e)?t(e):null}function p(e){var t=e.domain(),n=t.length-1,r=+t[0],a=+Object(o.U)(t),u=a-r;if(e.type===i.t){const e=n?u/n:.1;u=(a+=e)-(r-=e)}return e=>(e-r)/u}},,function(e,t,n){"use strict";t.a=function(e){return e===Object(e)}},,function(e,t,n){"use strict";var r=n(1002),i=["l",0,0,0,0,0,0,0];function a(e,t,n){var r=i[0]=e[0];if("a"===r||"A"===r)i[1]=t*e[1],i[2]=n*e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=t*e[6],i[7]=n*e[7];else if("h"===r||"H"===r)i[1]=t*e[1];else if("v"===r||"V"===r)i[1]=n*e[1];else for(var a=1,o=e.length;a<o;++a)i[a]=(a%2==1?t:n)*e[a];return i}function o(e,t,n,i){for(var a=Object(r.b)(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n),o=0;o<a.length;++o){var u=Object(r.a)(a[o]);e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5])}}t.a=function(e,t,n,r,i,u){var s,f,c,l,d,p=null,m=0,b=0,h=0,g=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),null==u&&(u=i),e.beginPath&&e.beginPath();for(var y=0,O=t.length;y<O;++y){switch(s=t[y],1===i&&1===u||(s=a(s,i,u)),s[0]){case"l":m+=s[1],b+=s[2],e.lineTo(m+n,b+r);break;case"L":m=s[1],b=s[2],e.lineTo(m+n,b+r);break;case"h":m+=s[1],e.lineTo(m+n,b+r);break;case"H":m=s[1],e.lineTo(m+n,b+r);break;case"v":b+=s[1],e.lineTo(m+n,b+r);break;case"V":b=s[1],e.lineTo(m+n,b+r);break;case"m":m+=s[1],b+=s[2],e.moveTo(m+n,b+r);break;case"M":m=s[1],b=s[2],e.moveTo(m+n,b+r);break;case"c":f=m+s[5],c=b+s[6],h=m+s[3],g=b+s[4],e.bezierCurveTo(m+s[1]+n,b+s[2]+r,h+n,g+r,f+n,c+r),m=f,b=c;break;case"C":m=s[5],b=s[6],h=s[3],g=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,h+n,g+r,m+n,b+r);break;case"s":f=m+s[3],c=b+s[4],h=2*m-h,g=2*b-g,e.bezierCurveTo(h+n,g+r,m+s[1]+n,b+s[2]+r,f+n,c+r),h=m+s[1],g=b+s[2],m=f,b=c;break;case"S":f=s[3],c=s[4],h=2*m-h,g=2*b-g,e.bezierCurveTo(h+n,g+r,s[1]+n,s[2]+r,f+n,c+r),m=f,b=c,h=s[1],g=s[2];break;case"q":f=m+s[3],c=b+s[4],h=m+s[1],g=b+s[2],e.quadraticCurveTo(h+n,g+r,f+n,c+r),m=f,b=c;break;case"Q":f=s[3],c=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,f+n,c+r),m=f,b=c,h=s[1],g=s[2];break;case"t":f=m+s[1],c=b+s[2],null===p[0].match(/[QqTt]/)?(h=m,g=b):"t"===p[0]?(h=2*m-l,g=2*b-d):"q"===p[0]&&(h=2*m-h,g=2*b-g),l=h,d=g,e.quadraticCurveTo(h+n,g+r,f+n,c+r),b=c,h=(m=f)+s[1],g=b+s[2];break;case"T":f=s[1],c=s[2],h=2*m-h,g=2*b-g,e.quadraticCurveTo(h+n,g+r,f+n,c+r),m=f,b=c;break;case"a":o(e,m+n,b+r,[s[1],s[2],s[3],s[4],s[5],s[6]+m+n,s[7]+b+r]),m+=s[6],b+=s[7];break;case"A":o(e,m+n,b+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),m=s[6],b=s[7];break;case"z":case"Z":e.closePath()}p=s}}},,,,function(e,t,n){"use strict";t.a=function(e,t){for(var n="";--t>=0;)n+=e;return n}},,,function(e,t,n){"use strict";var r=n(776);t.a=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=Object(r.a)(e,t,t.fill),!0)}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return f}));var r=n(1);const i=Object(r.db)(["rule"]),a=Object(r.db)(["group","image","rect"]);function o(e,t){let n="";return i[t]||(e.x2&&(e.x?(a[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(a[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function u(e){return(e+"").toLowerCase()}function s(e){return"operator"===u(e)}function f(e){return"collect"===u(e)}},,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){const t={};return n=>t[n]||(t[n]=e(n))}},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(293),i=n(703),a=n(539),o=n(330),u=n(1);async function s(e,t,n){const i=this,s=[];if(i._pulse)return d(i);if(i._pending&&await i._pending,t&&await Object(a.a)(i,t),!i._touched.length)return i.debug("Dataflow invoked, but nothing to do."),i;const f=++i._clock;i._pulse=new r.b(i,f,e),i._touched.forEach(e=>i._enqueue(e,!0)),i._touched=Object(o.a)(u.w);let c,l,p,m=0;try{for(;i._heap.size()>0;)c=i._heap.pop(),c.rank===c.qrank?(l=c.run(i._getPulse(c,e)),l.then?l=await l:l.async&&(s.push(l.async),l=r.a),l!==r.a&&c._targets&&c._targets.forEach(e=>i._enqueue(e)),++m):i._enqueue(c,!0)}catch(e){i._heap.clear(),p=e}if(i._input={},i._pulse=null,i.debug(`Pulse ${f}: ${m} operators`),p&&(i._postrun=[],i.error(p)),i._postrun.length){const e=i._postrun.sort((e,t)=>t.priority-e.priority);i._postrun=[];for(let t=0;t<e.length;++t)await Object(a.a)(i,e[t].callback)}return n&&await Object(a.a)(i,n),s.length&&Promise.all(s).then(e=>i.runAsync(null,()=>{e.forEach(e=>{try{e(i)}catch(e){i.error(e)}})})),i}async function f(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function c(e,t,n){return this._pulse?d(this):(this.evaluate(e,t,n),this)}function l(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}}function d(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function p(e,t){var n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function m(e,t){var n=e.source,a=this._clock;return n&&Object(u.A)(n)?new i.a(this,a,n.map(e=>e.pulse),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==r.a&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return f}));var r=n(14),i=n(1);function a(e,t){var n=e._runtime.data;return Object(i.v)(n,t)||Object(i.n)("Unrecognized data set: "+t),n[t]}function o(e,t){return arguments.length<2?a(this,e).values.value:u.call(this,e,Object(r.i)().remove(i.gb).insert(t))}function u(e,t){Object(r.m)(t)||Object(i.n)("Second argument to changes must be a changeset.");var n=a(this,e);return n.modified=!0,this.pulse(n.input,t)}function s(e,t){return u.call(this,e,Object(r.i)().insert(t))}function f(e,t){return u.call(this,e,Object(r.i)().remove(t))}},,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n(283),i=n(624);function a(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+Object(r.e)()*t)}function o(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*i.b*e)}function u(e,t,n){return Object(r.a)(Math.log(e),t,n)}function s(e,t,n){return Math.exp(Object(r.d)(e,t,n))}t.b=function(e,t){var n,r,i={mean:function(e){return arguments.length?(n=e||0,i):n},stdev:function(e){return arguments.length?(r=null==e?1:e,i):r},sample:()=>a(n,r),pdf:e=>o(e,n,r),cdf:e=>u(e,n,r),icdf:e=>s(e,n,r)};return i.mean(e).stdev(t)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u}));var r=n(216);function i(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*Object(r.a)()}function a(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function o(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function u(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}t.b=function(e,t){var n,r,s={min:function(e){return arguments.length?(n=e||0,s):n},max:function(e){return arguments.length?(r=null==e?1:e,s):r},sample:()=>i(n,r),pdf:e=>a(e,n,r),cdf:e=>o(e,n,r),icdf:e=>u(e,n,r)};return null==t&&(t=null==e?1:e,e=0),s.min(e).max(t)}},,function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(685),i=n(686),a=(t=e.exports={}).re=[],o=t.src=[],u=t.t={};let s=0;const f=(e,t,n)=>{const r=s++;i(r,t),u[e]=r,o[r]=t,a[r]=new RegExp(t,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","[0-9]+"),f("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),f("MAINVERSION",`(${o[u.NUMERICIDENTIFIER]})\\.(${o[u.NUMERICIDENTIFIER]})\\.(${o[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${o[u.NUMERICIDENTIFIERLOOSE]})\\.(${o[u.NUMERICIDENTIFIERLOOSE]})\\.(${o[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${o[u.NUMERICIDENTIFIER]}|${o[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${o[u.NUMERICIDENTIFIERLOOSE]}|${o[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${o[u.PRERELEASEIDENTIFIER]}(?:\\.${o[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${o[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER","[0-9A-Za-z-]+"),f("BUILD",`(?:\\+(${o[u.BUILDIDENTIFIER]}(?:\\.${o[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${o[u.MAINVERSION]}${o[u.PRERELEASE]}?${o[u.BUILD]}?`),f("FULL",`^${o[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${o[u.MAINVERSIONLOOSE]}${o[u.PRERELEASELOOSE]}?${o[u.BUILD]}?`),f("LOOSE",`^${o[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",o[u.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),f("XRANGEIDENTIFIER",o[u.NUMERICIDENTIFIER]+"|x|X|\\*"),f("XRANGEPLAIN",`[v=\\s]*(${o[u.XRANGEIDENTIFIER]})(?:\\.(${o[u.XRANGEIDENTIFIER]})(?:\\.(${o[u.XRANGEIDENTIFIER]})(?:${o[u.PRERELEASE]})?${o[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${o[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[u.XRANGEIDENTIFIERLOOSE]})(?:${o[u.PRERELEASELOOSE]})?${o[u.BUILD]}?)?)?`),f("XRANGE",`^${o[u.GTLT]}\\s*${o[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${o[u.GTLT]}\\s*${o[u.XRANGEPLAINLOOSE]}$`),f("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),f("COERCERTL",o[u.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${o[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${o[u.LONETILDE]}${o[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${o[u.LONETILDE]}${o[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${o[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${o[u.LONECARET]}${o[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${o[u.LONECARET]}${o[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${o[u.GTLT]}\\s*(${o[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${o[u.GTLT]}\\s*(${o[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${o[u.GTLT]}\\s*(${o[u.LOOSEPLAIN]}|${o[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${o[u.XRANGEPLAIN]})\\s+-\\s+(${o[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${o[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0.0.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){const{MAX_LENGTH:r}=n(685),{re:i,t:a}=n(509),o=n(228);e.exports=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[a.LOOSE]:i[a.FULL]).test(e))return null;try{return new o(e,t)}catch(e){return null}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f}));var r=n(871),i=n(769),a=n(1328),o=n(1);const u={dsv:r.a,csv:Object(r.b)(","),tsv:Object(r.b)("\t"),json:i.a,topojson:a.a};function s(e,t){return arguments.length>1?(u[e]=t,this):Object(o.v)(u,e)?u[e]:null}function f(e){const t=s(e);return t&&t.responseType||"text"}},,,,,,,,,function(e,t,n){"use strict";var r=n(205),i=n(768),a=n(522);t.a=function(e,t,n){const o=Object(a.a)(e);return e=1===o.length?o[0]:e,Object(r.c)((n&&n.get||i.a)(o),[e],t||e)}},function(e,t,n){"use strict";var r=n(538);t.a=function(e){var t,n,i,a=[],o=null,u=0,s=e.length,f="";function c(){a.push(f+e.substring(t,n)),f="",t=n+1}for(e+="",t=n=0;n<s;++n)if("\\"===(i=e[n]))f+=e.substring(t,n),f+=e.substring(++n,++n),t=n;else if(i===o)c(),o=null,u=-1;else{if(o)continue;t===u&&'"'===i||t===u&&"'"===i?(t=n+1,o=i):"."!==i||u?"["===i?(n>t&&c(),u=t=n+1):"]"===i&&(u||Object(r.a)("Access path missing open bracket: "+e),u>0&&c(),u=0,t=n+1):n>t?c():t=n+1}return u&&Object(r.a)("Access path missing closing bracket: "+e),o&&Object(r.a)("Access path missing closing quote: "+e),n>t&&(n++,c()),a}},function(e,t,n){"use strict";t.a=function(e){return"function"==typeof e}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(715),i=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function a(e,t){return JSON.stringify(e,i,t)}function o(e){return function e(t){var n,i,a,o=t.marktype,u=t.items;if(u)for(i=0,a=u.length;i<a;++i)n=o?"mark":"group",u[i][n]=t,u[i].zindex&&(u[i][n].zdirty=!0),"group"===(o||n)&&e(u[i]);o&&Object(r.a)(t);return t}("string"==typeof e?JSON.parse(e):e)}},function(e,t,n){"use strict";t.a=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(144);function i(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function a(e){const t=Object(r.g)(e);return.2126*i(t.r)+.7152*i(t.g)+.0722*i(t.b)}function o(e,t){const n=a(e),r=a(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}},function(e,t,n){"use strict";function r(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function i(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(237),i=n(76);function a(e,t,n){const i=Object(r.a)(e,(n||this).context);return function(e){return i?i.path.context(e)(t):""}}function o(e){let t=null;return function(n){return n?Object(i.O)(n,t=t||Object(i.M)(e)):e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(333);const i=e=>e.data;function a(e,t){const n=r.a.call(t,e);return n.root&&n.root.lookup||{}}function o(e,t,n){const r=a(e,this),o=r[t],u=r[n];return o&&u?o.path(u).map(i):void 0}function u(e,t){const n=a(e,this)[t];return n?n.ancestors().map(i):void 0}},function(e,t,n){"use strict";var r=n(1),i=["value","update","init","react","bind"];function a(e,t){Object(r.n)(e+' for "outer" push: '+Object(r.Z)(t))}t.a=function(e,t){var n=e.name;if("outer"===e.push)t.signals[n]||a("No prior signal definition",n),i.forEach((function(t){void 0!==e[t]&&a("Invalid property ",t)}));else{var r=t.addSignal(n,e.value);!1===e.react&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}},,,,,,function(e,t,n){"use strict";t.a=function(e){throw Error(e)}},function(e,t,n){"use strict";t.a=async function(e,t){try{await t(e)}catch(t){e.error(t)}}},function(e,t,n){"use strict";var r=n(250),i=n(332),a=n(157),o=n(416),u=n(207),s=n(231),f=n(99);t.a=function(e,t,n){function c(e,n){var r=n.x||0,i=n.y||0,a=n.angle||0;e.translate(r,i),a&&e.rotate(a*=f.a),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",Object(s.b)(n)),e("d",t(null,n))},bound:function(e,n){var a=n.x||0,o=n.y||0;return t(Object(i.a)(e),n),Object(r.a)(e,n).translate(a,o),n.angle&&e.rotate(n.angle*f.a,a,o),e},draw:Object(o.a)(c),pick:Object(u.c)(c),isect:n||Object(a.b)(c)}}},function(e,t,n){"use strict";function r(e,t){for(var n,r,i="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,u=1/0;--o>=0;)!1!==e[o].defined&&(r=Math.abs(e[o][a]-i))<u&&(u=r,n=e[o]);return n}function i(e,t){for(var n,r,i=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(r=e[a].y-t[1])*r<i)return e[a];return null}function a(e,t){for(var n,r,i=e.length;--i>=0;)if(!1!==e[i].defined&&(n=e[i].x-t[0])*n+(r=e[i].y-t[1])*r<(n=e[i].size||1)*n)return e[i];return null}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},function(e,t,n){"use strict";var r=n(250),i=n(332),a=n(157),o=n(416),u=n(207);t.a=function(e,t,n){function s(e,n){e.beginPath(),t(e,n)}var f=Object(u.a)(s);return{type:e,tag:"path",nested:!0,attr:function(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))},bound:function(e,n){var a=n.items;return 0===a.length?e:(t(Object(i.a)(e),a),Object(r.a)(e,a[0]))},draw:Object(o.b)(s),pick:function(e,t,n,r,i,a){var o=t.items,u=t.bounds;return!o||!o.length||u&&!u.contains(i,a)?null:(n*=e.pixelRatio,r*=e.pixelRatio,f(e,o,n,r)?o[0]:null)},isect:a.c,tip:n}}},,function(e,t,n){"use strict";var r=n(791),i=n(76),a=n(1);t.a=async function(e,t,n,o){const u=Object(i.S)(t),s=u&&u.headless;return s||Object(a.n)("Unrecognized renderer type: "+t),await e.runAsync(),Object(r.a)(e,null,null,s,n,o).renderAsync(e._scenegraph.root)}},function(e,t,n){"use strict";var r=n(64),i=n(27),a=n(14),o=n(170),u=n(1);function s(e,t,n){var r,i,a,o={};for(i=0,a=e.params.length;i<a;++i)o[(r=e.params[i]).name]=f(r,t,n);return o}function f(e,t,n){var r=e.type,a=t[e.name];return"index"===r?function(e,t,n){Object(u.H)(t.from)||Object(u.n)('Lookup "from" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===r?function(e,t,n){var r=t[e.name];return e.array?(Object(u.A)(r)||Object(u.n)("Expected an array of sub-parameters. Instead: "+Object(u.Z)(r)),r.map((function(t){return l(e,t,n)}))):l(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!Object(i.l)(a)?a.map((function(t){return c(e,t,n)})):c(e,a,n):void(e.required&&Object(u.n)("Missing required "+Object(u.Z)(t.type)+" parameter: "+Object(u.Z)(e.name)))}function c(e,t,n){var r=e.type;if(Object(i.l)(t))return d(r)?Object(u.n)("Expression references can not be signals."):p(r)?n.fieldRef(t):m(r)?n.compareRef(t):n.signalRef(t.signal);var a,s=e.expr||p(r);return s&&((a=t)&&a.expr)?n.exprRef(t.expr,t.as):s&&function(e){return e&&e.field}(t)?Object(i.i)(t.field,t.as):d(r)?Object(o.c)(t,n):function(e){return"data"===e}(r)?Object(i.p)(n.getData(t).values):p(r)?Object(i.i)(t):m(r)?n.compareRef(t):t}function l(e,t,n){var a,o,f,c,l;for(c=0,l=e.params.length;c<l;++c){for(f in(o=e.params[c]).key)if(o.key[f]!==t[f]){o=null;break}if(o)break}return o||Object(u.n)("Unsupported parameter: "+Object(u.Z)(t)),a=Object(u.o)(s(o,t,n),o.key),Object(i.p)(n.add(Object(r.r)(a)))}function d(e){return"expr"===e}function p(e){return"field"===e}function m(e){return"compare"===e}t.a=function(e,t){var n=Object(a.j)(e.type);n||Object(u.n)("Unrecognized transform type: "+Object(u.Z)(e.type));var r=Object(i.h)(n.type.toLowerCase(),null,s(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c}));var r=n(47),i=n(1);const a=(e,t,n)=>({role:e,"aria-roledescription":t,"aria-label":n||void 0}),o=Object(i.db)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),u={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,i=t.title?d(e):null,a=e.context,o=a.scales[t.scale].value,u=a.dataflow.locale(),s=o.type;return("left"===n||"right"===n?"Y":"X")+"-axis"+(i?` titled '${i}'`:"")+` for a ${Object(r.y)(s)?"discrete":s} scale with `+Object(r.t)(u,o,e)}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?d(e):null,a=((t.type||"")+" legend").trim(),o=t.scales,u=Object.keys(o),s=e.context,f=s.scales[o[u[0]]].value,c=s.dataflow.locale();return l=a,(l.length?l[0].toUpperCase()+l.slice(1):l)+(n?` titled '${n}'`:"")+" for "+function(e){return(e=e.map(e=>e+("fill"===e||"stroke"===e?" color":""))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Object(i.U)(e)}(u)+" with "+Object(r.t)(c,f,e);var l}},"title-text":{desc:"title",caption:e=>`Title text '${l(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${l(e)}'`}},s={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"};function f(e,t){const n=!1===t.aria;if(e("aria-hidden",n||void 0),n||null==t.description)for(const t in s)e(s[t],void 0);else{const n=t.mark.marktype;e("aria-label",t.description),e("role",t.ariaRole||("group"===n?"graphics-object":"graphics-symbol")),e("aria-roledescription",t.ariaRoleDescription||n+" mark")}}function c(e){return!1===e.aria?{"aria-hidden":!0}:o[e.role]?null:u[e.role]?function(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return a(t.role||"graphics-symbol",t.desc,n.description||r(n))}catch(e){return null}}(e,u[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some(e=>null!=e.description&&!1!==e.aria);return a(n?"graphics-object":"graphics-symbol",t+" mark container",e.description)}(e)}function l(e){return Object(i.i)(e.text).join(" ")}function d(e){try{return Object(i.i)(Object(i.U)(e.items).items[0].text).join(" ")}catch(e){return null}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:+e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i="_:mod:_";function a(){Object.defineProperty(this,i,{writable:!0,value:{}})}var o=a.prototype;o.set=function(e,t,n,a){var o=this,u=o[e],s=o[i];return null!=t&&t>=0?(u[t]!==n||a)&&(u[t]=n,s[t+":"+e]=-1,s[e]=-1):(u!==n||a)&&(o[e]=n,s[e]=Object(r.A)(n)?1+n.length:-1),o},o.modified=function(e,t){var n,a=this[i];if(!arguments.length){for(n in a)if(a[n])return!0;return!1}if(Object(r.A)(e)){for(n=0;n<e.length;++n)if(a[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<a[e]||!!a[t+":"+e]:!!a[e]},o.clear=function(){return this[i]={},this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(709),i=n(14),a=n(1);function o(e){i.g.call(this,{},e),this._keys=Object(a.s)();const t=this._targets=[];t.active=0,t.forEach=e=>{for(let n=0,r=t.active;n<r;++n)e(t[n],n,t)}}const u=Object(a.y)(o,i.g);u.activate=function(e){this._targets[this._targets.active++]=e},u.subflow=function(e,t,n,i){let o,u,s=this.value,f=Object(a.v)(s,e)&&s[e];return f?f.value.stamp<n.stamp&&(f.init(n),this.activate(f)):(u=i||(u=this._group[e])&&u.tuple,o=n.dataflow,f=new r.a(n.fork(n.NO_SOURCE),this),o.add(f).connect(t(o,e,u)),s[e]=f,this.activate(f)),f},u.clean=function(){const e=this.value;for(const t in e)if(0===e[t].count){const n=e[t].detachSubflow;n&&n(),delete e[t]}},u.initTargets=function(){const e=this._targets,t=e.length;for(let n=0;n<t&&null!=e[n];++n)e[n]=null;e.active=0},u.transform=function(e,t){const n=t.dataflow,r=e.key,a=e.subflow,o=this._keys,u=e.modified("key"),s=e=>this.subflow(e,a,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,e=>{const t=Object(i.t)(e),n=o.get(t);void 0!==n&&(o.delete(t),s(n).rem(e))}),t.visit(t.ADD,e=>{const t=r(e);o.set(Object(i.t)(e),t),s(t).add(e)}),u||t.modified(r.fields)?t.visit(t.MOD,e=>{const t=Object(i.t)(e),n=o.get(t),a=r(e);n===a?s(a).mod(e):(o.set(t,a),s(n).rem(e),s(a).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,e=>{s(o.get(Object(i.t)(e))).mod(e)}),u&&t.visit(t.REFLOW,e=>{const t=Object(i.t)(e),n=o.get(t),a=r(e);n!==a&&(o.set(t,a),s(n).rem(e),s(a).add(e))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(1),i=n(430),a=n(2045),o=n(2046),u=n(2047),s=n(473),f=n(1e3),c=n(1001),l=n(626),d=n(2048),p=n(2049),m=n(627),b=n(2050),h=n(1726),g=n(2051),y=n(1084),O={basis:{curve:i.b},"basis-closed":{curve:a.a},"basis-open":{curve:o.a},bundle:{curve:u.a,tension:"beta",value:.85},cardinal:{curve:s.b,tension:"tension",value:0},"cardinal-open":{curve:f.b,tension:"tension",value:0},"cardinal-closed":{curve:c.b,tension:"tension",value:0},"catmull-rom":{curve:l.a,tension:"alpha",value:.5},"catmull-rom-closed":{curve:d.a,tension:"alpha",value:.5},"catmull-rom-open":{curve:p.a,tension:"alpha",value:.5},linear:{curve:m.a},"linear-closed":{curve:b.a},monotone:{horizontal:h.b,vertical:h.a},natural:{curve:g.a},step:{curve:y.a},"step-after":{curve:y.b},"step-before":{curve:y.c}};function v(e,t,n){var i=Object(r.v)(O,e)&&O[e],a=null;return i&&(a=i.curve||i[t||"vertical"],i.tension&&null!=n&&(a=a[i.tension](n))),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(169);function i(e){this.mark=e,this.bounds=this.bounds||new r.a}},function(e,t,n){"use strict";var r=n(169),i=n(179);t.a=function(e,t,n){var a=i.a[e.mark.marktype],o=t||a.bound;return a.nested&&(e=e.mark),o(e.bounds||(e.bounds=new r.a),e,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(258),i=n(169),a=n(179),o=n(93),u=n(777),s=n(1361),f=n(288),c=n(1);function l(e){r.a.call(this,e),this._options={},this._redraw=!1,this._dirty=new i.a,this._tempb=new i.a}const d=Object(c.y)(l,r.a),p=r.a.prototype;d.initialize=function(e,t,n,r,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:Object(f.a)(1,1,this._options.type),e&&this._canvas&&(Object(o.c)(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),p.initialize.call(this,e,t,n,r,i)},d.resize=function(e,t,n,r){if(p.resize.call(this,e,t,n,r),this._canvas)Object(s.a)(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||Object(c.n)("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},d.canvas=function(){return this._canvas},d.context=function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},d.dirty=function(e){let t=this._tempb.clear().union(e.bounds),n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)};d._render=function(e){const t=this.context(),n=this._origin,r=this._width,a=this._height,o=this._dirty,u=(s=n,f=r,c=a,(new i.a).set(0,0,f,c).translate(-s[0],-s[1]));var s,f,c;t.save();const l=this._redraw||o.empty()?(this._redraw=!1,u.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,u.intersect(o),n);return this.clear(-n[0],-n[1],r,a),this.draw(t,e,l),t.restore(),o.clear(),this},d.draw=function(e,t,n){const r=a.a[t.marktype];t.clip&&Object(u.b)(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},d.clear=function(e,t,n,r){const i=this._options,a=this.context();"pdf"===i.type||i.externalContext||a.clearRect(e,t,n,r),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,r))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1634);const i="vg-tooltip-element",a={offsetX:10,offsetY:10,id:i,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function o(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return r.a.toString().replace(i,e)}},,,,function(e,t,n){"use strict";function r(e){return e&&e.length?1===e.length?e[0]:(t=e,function(e){for(var n=t.length,r=1,i=String(t[0](e));r<n;++r)i+="|"+t[r](e);return i}):function(){return""};var t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=Math.sqrt(2*Math.PI),i=Math.SQRT2},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(1);function i(e,t,n,i){let o=a[e](t,n);return{init:o.init||r.kb,update:function(e,t){t[i]=o.next(e)}}}const a={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{let n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){let e=a.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{let n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){(t=+t)>0||Object(r.n)("ntile num must be greater than zero.");let n=a.cume_dist(),i=n.next;return{init:n.init,next:e=>Math.ceil(t*i(e))}},lag:function(e,t){return t=+t||1,{next:n=>{let r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{let r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Object(r.n)("nth_value nth must be greater than zero."),{next:n=>{let r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{let r=e(n.data[n.index]);return null!=r?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{let i=r.data;return r.index<=n?t:(n=function(e,t,n){for(let r=t.length;n<r;++n){if(null!=e(t[n]))return n}return-1}(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};var o=Object.keys(a)},,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r={};return e.each((function(e){var i=e.data;n(i)&&(r[t(i)]=e)})),e.lookup=r,e}},,function(e,t,n){"use strict";t.a=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s}));var r=n(314),i=n(1);function a(e,t){const n=this.locale();return Object(r.f)(e,t,n.timeParse,n.utcParse)}function o(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function u(e,t){const n=this;let i,a=0;try{i=await n.loader().load(e,{context:"dataflow",response:Object(r.g)(t&&t.type)});try{i=n.parse(i,t)}catch(t){a=-2,n.warn("Data ingestion failed",e,t)}}catch(t){a=-1,n.warn("Loading failed",e,t)}return{data:i,status:a}}async function s(e,t,n){const r=this,a=r._pending||function(e){var t,n=new Promise((function(e){t=e}));return n.requests=0,n.done=function(){0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);a.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(i.gb).insert(o.data||[])),a.done(),o}},,,function(e,t,n){"use strict";var r=n(1249);n.d(t,"b",(function(){return r.a}));var i=n(1250);n.d(t,"a",(function(){return i.a}));var a=n(1251);n.d(t,"c",(function(){return a.a}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r={skip:!0};function i(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.left+r.right:0)}function a(e,t){var n=e.autosize(),r=e.padding();return t-(n&&"padding"===n.contains?r.top+r.bottom:0)}function o(e){var t=e._signals,n=t.width,r=t.height,o=t.padding;function u(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(function(t){e._width=t.size,e._viewWidth=i(e,t.size),u()}),{size:n}),e._resizeHeight=e.add(null,(function(t){e._height=t.size,e._viewHeight=a(e,t.size),u()}),{size:r});var s=e.add(null,u,{pad:o});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=o.rank+1}function u(e,t,n,i,a,o){this.runAfter((function(u){var s=0;u._autosize=0,u.width()!==n&&(s=1,u.signal("width",n,r),u._resizeWidth.skip(!0)),u.height()!==i&&(s=1,u.signal("height",i,r),u._resizeHeight.skip(!0)),u._viewWidth!==e&&(u._resize=1,u._viewWidth=e),u._viewHeight!==t&&(u._resize=1,u._viewHeight=t),u._origin[0]===a[0]&&u._origin[1]===a[1]||(u._resize=1,u._origin=a),s&&u.run("enter"),o&&u.runAfter(e=>e.resize())}),!1,1)}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return f}));var r=n(336),i=n(337),a=n(1);const o=(e,t)=>Object(a.o)({},e,t);function u(e,t){const n=e?Object(r.b)(e):Object(r.a)(),a=t?Object(i.c)(t):Object(i.b)();return o(n,a)}function s(e,t){const n=arguments.length;return n&&2!==n&&Object(a.n)("defaultLocale expects either zero or two arguments."),n?o(Object(r.a)(e),Object(i.b)(t)):o(Object(r.a)(),Object(i.b)())}function f(){return Object(r.c)(),Object(i.a)(),s()}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1),i={};function a(e){var t=o(e);return t&&t.Definition||null}function o(e){return e=e&&e.toLowerCase(),Object(r.v)(i,e)?i[e]:null}},function(e,t,n){"use strict";function r(e,t){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function i(){return"undefined"!=typeof Image?Image:null}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return $})),n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return A}));var r=n(1730),i=n(1016),a=n(2059),o=n(897),u=n(597),s=n(2060),f=n(571),c=n(2061),l=n(2062),d=n(874),p=n(675),m=n(2063),b=n(633),h=n(984),g=n(1731),y=n(2064),O=n(2065),v=n(180),j=Object(r.a)(),$=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function x(e,t){return function n(){var i=t();return i.type=e,i.path=Object(r.a)().projection(i),i.copy=i.copy||function(){var e=n();return $.forEach((function(t){i[t]&&e[t](i[t]())})),e.path.pointRadius(i.path.pointRadius()),e},i}}function k(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(E[e]=x(e,t),this):E[e]||null}function A(e){return e&&e.path||j}var E={albers:i.a,albersusa:a.a,azimuthalequalarea:o.b,azimuthalequidistant:u.b,conicconformal:s.a,conicequalarea:f.a,conicequidistant:c.a,equalEarth:l.a,equirectangular:d.a,gnomonic:p.a,identity:m.a,mercator:b.a,mollweide:v.a,naturalEarth1:h.a,orthographic:g.a,stereographic:y.a,transversemercator:O.a};for(var w in E)k(w,E[w])},function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(508))},function(e,t,n){const r=n(310);e.exports=(e,t,n)=>r(e,t,n)>0},function(e,t,n){const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const t=this.options.loose?a[o.COMPARATORLOOSE]:a[o.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new f(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new f(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new c(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new c(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=u(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),f=u(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||a&&o||s||f}}e.exports=i;const{re:a,t:o}=n(509),u=n(1267),s=n(686),f=n(228),c=n(311)},function(e,t,n){const r=n(311);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},,,,,,,,function(e,t,n){"use strict";t.a=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e}},function(e,t,n){"use strict";t.a=function(e){return"string"==typeof e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(330),i=n(1),a=0;function o(e,t,n){this.id=++a,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function u(e,t,n){return new o(e,t,n)}var s=o.prototype;s._filter=i.gb,s._apply=i.x,s.targets=function(){return this._targets||(this._targets=Object(r.a)(i.w))},s.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},s.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},s.filter=function(e){var t=u(e);return this.targets().add(t),t},s.apply=function(e){var t=u(null,e);return this.targets().add(t),t},s.merge=function(){var e=u();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},s.throttle=function(e){var t=-1;return this.filter((function(){var n=Date.now();return n-t>e?(t=n,1):0}))},s.debounce=function(e){var t=u();return this.targets().add(u(null,null,Object(i.m)(e,(function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},s.between=function(e,t){var n=!1;return e.targets().add(u(null,null,(function(){n=!0}))),t.targets().add(u(null,null,(function(){n=!1}))),this.filter((function(){return n}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(293),i=n(1);function a(e,t,n,r){var i,a,o,u,s,f=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,o=0,u=n.length;o<u;++o)if((i=n[o]).stamp===t){if(i.fields)for(s in a=f.fields||(f.fields={}),i.fields)a[s]=1;i.changed(f.ADD)&&(c|=f.ADD),i.changed(f.REM)&&(c|=f.REM),i.changed(f.MOD)&&(c|=f.MOD)}this.changes=c}var o=Object(i.y)(a,r.b);o.fork=function(e){var t=new r.b(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(function(e){return t.add.push(e)})),e&t.REM&&this.visit(t.REM,(function(e){return t.rem.push(e)})),e&t.MOD&&this.visit(t.MOD,(function(e){return t.mod.push(e)}))),t},o.changed=function(e){return this.changes&e},o.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Object(i.A)(e)?e.some((function(e){return n[e]})):n[e]:0},o.filter=function(){Object(i.n)("MultiPulse does not support filtering.")},o.materialize=function(){Object(i.n)("MultiPulse does not support materialization.")},o.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}},function(e,t,n){"use strict";var r=n(705),i=n(2043);t.a=function(e,t){var n=e.length,a=Object(i.a)(e,t),o=Object(r.a)(e,t),u=(o[2]-o[0])/1.34;return 1.06*(a=Math.min(a,u)||a||Math.abs(o[0])||1)*Math.pow(n,-.2)}},function(e,t,n){"use strict";var r=n(706);t.a=function(e,t){return Object(r.a)(e,[.25,.5,.75],t)}},function(e,t,n){"use strict";var r=n(774),i=n(380),a=n(586);t.a=function(e,t,n){var o=Float64Array.from(Object(r.a)(e,n));return o.sort(i.a),t.map(e=>Object(a.b)(o,e))}},function(e,t,n){"use strict";var r=n(338),i=n(206),a=n(287);t.a=function(e,t,n){let o=0,u=0,s=0,f=0,c=0;Object(i.b)(e,t,n,(e,t)=>{++c,o+=(e-o)/c,u+=(t-u)/c,s+=(e*t-s)/c,f+=(e*e-f)/c});const l=Object(r.a)(o,u,s,f),d=e=>l[0]+l[1]*e;return{coef:l,predict:d,rSquared:Object(a.a)(e,t,n,u,d)}}},function(e,t,n){"use strict";var r=n(206),i=n(287);t.a=function(e,t,n){const[a,o,u,s]=Object(r.a)(e,t,n),f=a.length;let c,l,d,p,m=0,b=0,h=0,g=0,y=0;for(c=0;c<f;)l=a[c],d=o[c++],p=l*l,m+=(p-m)/c,b+=(p*l-b)/c,h+=(p*p-h)/c,g+=(l*d-g)/c,y+=(p*d-y)/c;const O=h-m*m,v=m*O-b*b,j=(y*m-g*b)/v,$=(g*O-y*b)/v,x=-j*m,k=e=>j*(e-=u)*e+$*e+x+s;return{coef:[x-$*u+j*u*u+s,$-2*j*u,j],predict:k,rSquared:Object(i.a)(e,t,n,s,k)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e,t){r.d.call(this,e),this.parent=t,this.count=0}var o=Object(i.y)(a,r.d);o.connect=function(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},o.add=function(e){this.count+=1,this.value.add.push(e)},o.rem=function(e){this.count-=1,this.value.rem.push(e)},o.mod=function(e){this.value.mod.push(e)},o.init=function(e){this.value.init(e,e.NO_SOURCE)},o.evaluate=function(){return this.value}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(371),i=n(467),a=n(99),o=n(1),u=.5773502691896257,s={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,a.e)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n,i=r-n*u,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n,i=r-n*u;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=a.d*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function f(e){return Object(o.v)(s,e)?s[e]:function(e){if(!Object(o.v)(c,e)){var t=Object(r.a)(e);c[e]={draw:function(e,n){Object(i.a)(e,t,0,0,Math.sqrt(n)/2)}}}return c[e]}(e)}var c={}},function(e,t,n){"use strict";var r=n(595);const i=.448084975506;function a(e){return e.x}function o(e){return e.y}function u(e){return e.width}function s(e){return e.height}function f(e){return"function"==typeof e?e:()=>+e}function c(e,t,n){return Math.max(t,Math.min(e,n))}t.a=function(){var e=a,t=o,n=u,l=s,d=f(0),p=d,m=d,b=d,h=null;function g(a,o,u){var s,f=null!=o?o:+e.call(this,a),g=null!=u?u:+t.call(this,a),y=+n.call(this,a),O=+l.call(this,a),v=Math.min(y,O)/2,j=c(+d.call(this,a),0,v),$=c(+p.call(this,a),0,v),x=c(+m.call(this,a),0,v),k=c(+b.call(this,a),0,v);if(h||(h=s=Object(r.a)()),j<=0&&$<=0&&x<=0&&k<=0)h.rect(f,g,y,O);else{var A=f+y,E=g+O;h.moveTo(f+j,g),h.lineTo(A-$,g),h.bezierCurveTo(A-i*$,g,A,g+i*$,A,g+$),h.lineTo(A,E-k),h.bezierCurveTo(A,E-i*k,A-i*k,E,A-k,E),h.lineTo(f+x,E),h.bezierCurveTo(f+i*x,E,f,E-i*x,f,E-x),h.lineTo(f,g+j),h.bezierCurveTo(f,g+i*j,f+i*j,g,f+j,g),h.closePath()}if(s)return h=null,s+""||null}return g.x=function(t){return arguments.length?(e=f(t),g):e},g.y=function(e){return arguments.length?(t=f(e),g):t},g.width=function(e){return arguments.length?(n=f(e),g):n},g.height=function(e){return arguments.length?(l=f(e),g):l},g.cornerRadius=function(e,t,n,r){return arguments.length?(d=f(e),p=null!=t?f(t):d,b=null!=n?f(n):d,m=null!=r?f(r):p,g):d},g.context=function(e){return arguments.length?(h=null==e?null:e,g):h},g}},function(e,t,n){"use strict";var r=n(99),i=n(595);t.a=function(){var e,t,n,a,o,u,s,f,c=null;function l(e,t,n){var i=n/2;if(o){var a=s-t,l=e-u;if(a||l){var d=Math.sqrt(a*a+l*l),p=(a/=d)*f,m=(l/=d)*f,b=Math.atan2(l,a);c.moveTo(u-p,s-m),c.lineTo(e-a*i,t-l*i),c.arc(e,t,i,b-Math.PI,b),c.lineTo(u+p,s+m),c.arc(u,s,f,b,b+Math.PI)}else c.arc(e,t,i,0,r.e);c.closePath()}else o=1;u=e,s=t,f=i}function d(r){var u,s,f,d=r.length,p=!1;for(null==c&&(c=f=Object(i.a)()),u=0;u<=d;++u)!(u<d&&a(s=r[u],u,r))===p&&(p=!p)&&(o=0),p&&l(+e(s,u,r),+t(s,u,r),+n(s,u,r));if(f)return c=null,f+""||null}return d.x=function(t){return arguments.length?(e=t,d):e},d.y=function(e){return arguments.length?(t=e,d):t},d.size=function(e){return arguments.length?(n=e,d):n},d.defined=function(e){return arguments.length?(a=e,d):a},d.context=function(e){return arguments.length?(c=null==e?null:e,d):c},d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(614),i=n(1);function a(e){r.a.call(this,e),this.items=this.items||[]}Object(i.y)(a,r.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(288),i=n(314),a=n(1);function o(e){this._pending=0,this._loader=e||Object(i.e)()}var u=o.prototype;function s(e){e._pending+=1}function f(e){e._pending-=1}u.pending=function(){return this._pending},u.sanitizeURL=function(e){var t=this;return s(t),t._loader.sanitize(e,{context:"href"}).then((function(e){return f(t),e})).catch((function(){return f(t),null}))},u.loadImage=function(e){const t=this,n=Object(r.b)();return s(t),t._loader.sanitize(e,{context:"image"}).then((function(e){const r=e.href;if(!r||!n)throw{url:r};const i=new n,o=Object(a.v)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(i.crossOrigin=o),i.onload=()=>f(t),i.onerror=()=>f(t),i.src=r,i})).catch((function(e){return f(t),{complete:!1,width:0,height:0,src:e&&e.url||""}}))},u.ready=function(){var e=this;return new Promise((function(t){!function n(r){e.pending()?setTimeout((function(){n(!0)}),10):t(r)}(!1)}))}},function(e,t,n){"use strict";var r=n(169),i=n(615),a=n(179),o={mark:null};t.a=function(e,t,n){var u,s,f,c,l=a.a[e.marktype],d=l.bound,p=e.items,m=p&&p.length;if(l.nested)return m?f=p[0]:(o.mark=e,f=o),c=Object(i.a)(f,d,n),t=t&&t.union(c)||c;if(t=t||e.bounds&&e.bounds.clear()||new r.a,m)for(u=0,s=p.length;u<s;++u)t.union(Object(i.a)(p[u],d,n));return e.bounds=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(348),i=n(179),a=n(103),o=n(526),u=n(93),s=n(1);function f(e,t){r.a.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const c=Object(s.y)(f,r.a);c.initialize=function(e,t,n){return this._canvas=e&&Object(u.e)(e,"canvas"),[a.a,a.g,a.h,a.i,a.c].forEach(e=>l(this,e)),r.a.prototype.initialize.call(this,e,t,n)};function l(e,t){(e=>e===a.p||e===a.o||e===a.n?[a.p,a.o,a.n]:[e])(t).forEach(t=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t))}function d(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i||(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r)),this.fire(e,r)}}function p(e){return function(t){this.fire(e,t),this._active=null}}c.canvas=function(){return this._canvas},c.context=function(){return this._canvas.getContext("2d")},c.events=a.e,c.DOMMouseScroll=function(e){this.fire(a.k,e)},c.mousemove=d(a.h,a.j,a.i),c.dragover=d(a.d,a.b,a.c),c.mouseout=p(a.i),c.dragleave=p(a.c),c.mousedown=function(e){this._down=this._active,this.fire(a.g,e)},c.click=function(e){this._down===this._active&&(this.fire(a.a,e),this._down=null)},c.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(a.p,e,!0)},c.touchmove=function(e){this.fire(a.o,e,!0)},c.touchend=function(e){this.fire(a.n,e,!0),this._touch=null},c.fire=function(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===a.f&&r&&r.href?this.handleHref(t,r,r.href):e!==a.m&&e!==a.l||this.handleTooltip(t,r,e!==a.l),i)for(let e=0,n=i.length;e<n;++e)i[e].handler.call(this._obj,t,r)},c.on=function(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(l(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},c.off=function(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},c.pickEvent=function(e){const t=Object(o.a)(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},c.pick=function(e,t,n,r,a){const o=this.context();return i.a[e.marktype].pick.call(this,o,e,t,n,r,a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(348),i=n(93),a=n(103),o=n(1);function u(e,t){r.a.call(this,e,t);const n=this;n._hrefHandler=f(n,(e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)}),n._tooltipHandler=f(n,(e,t)=>{n.handleTooltip(e,t,e.type!==a.l)})}const s=Object(o.y)(u,r.a);s.initialize=function(e,t,n){let o=this._svg;return o&&(o.removeEventListener(a.f,this._hrefHandler),o.removeEventListener(a.m,this._tooltipHandler),o.removeEventListener(a.l,this._tooltipHandler)),this._svg=o=e&&Object(i.e)(e,"svg"),o&&(o.addEventListener(a.f,this._hrefHandler),o.addEventListener(a.m,this._tooltipHandler),o.addEventListener(a.l,this._tooltipHandler)),r.a.prototype.initialize.call(this,e,t,n)},s.canvas=function(){return this._svg};const f=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};s.on=function(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const i={type:e,handler:t,listener:f(this,t)};(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener)}return this},s.off=function(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(258),i=n(254),a=n(179),o=n(565),u=n(93),s=n(85),f=n(112),c=n(150),l=n(331),d=n(381),p=n(392),m=n(1);const b=d.a.xmlns;function h(e){r.a.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var g=Object(m.y)(h,r.a),y=r.a.prototype;function O(e,t,n){var r,a,o;if("radial"===t.gradient){var s=Object(u.b)(e,n++,"pattern",b);s.setAttribute("id",i.d+t.id),s.setAttribute("viewBox","0,0,1,1"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("preserveAspectRatio","xMidYMid slice"),(s=Object(u.b)(s,0,"rect",b)).setAttribute("width","1"),s.setAttribute("height","1"),s.setAttribute("fill","url("+F()+"#"+t.id+")"),(e=Object(u.b)(e,n++,"radialGradient",b)).setAttribute("id",t.id),e.setAttribute("fx",t.x1),e.setAttribute("fy",t.y1),e.setAttribute("fr",t.r1),e.setAttribute("cx",t.x2),e.setAttribute("cy",t.y2),e.setAttribute("r",t.r2)}else(e=Object(u.b)(e,n++,"linearGradient",b)).setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2);for(r=0,a=t.stops.length;r<a;++r)(o=Object(u.b)(e,r,"stop",b)).setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Object(u.c)(e,r),n}function v(e,t,n){var r;return(e=Object(u.b)(e,n,"clipPath",b)).setAttribute("id",t.id),t.path?(r=Object(u.b)(e,0,"path",b)).setAttribute("d",t.path):((r=Object(u.b)(e,0,"rect",b)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)),Object(u.c)(e,1),n+1}function j(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function $(e,t,n,r,i){let a,o=e._svg;if(!o&&(a=t.ownerDocument,o=Object(u.d)(a,r,b),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===r))){const t=Object(u.d)(a,"path",b);o.appendChild(t),t.__data__=e;const n=Object(u.d)(a,"g",b);o.appendChild(n),n.__data__=e;const r=Object(u.d)(a,"path",b);o.appendChild(r),r.__data__=e,r.__values__={fill:"default"}}return(o.ownerSVGElement!==i||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}g.initialize=function(e,t,n,r){if(this._defs={gradient:{},clipping:{}},e){this._svg=Object(u.b)(e,0,"svg",b),this._svg.setAttribute("class","marks"),Object(u.c)(e,1),this._root=Object(u.b)(this._svg,0,"g",b);for(const e in p.a)this._root.setAttribute(e,p.a[e]);Object(u.c)(this._svg,1)}return this.background(this._bgcolor),y.initialize.call(this,e,t,n,r)},g.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),y.background.apply(this,arguments)},g.resize=function(e,t,n,r){return y.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},g.canvas=function(){return this._svg},g.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in d.a)e[t]=d.a[t];var n=this._bgcolor?Object(s.b)("rect",{width:this._width,height:this._height,fill:this._bgcolor})+Object(s.a)("rect"):"";return Object(s.b)("svg",e)+(this._defs.el?this._defs.el.outerHTML:"")+n+this._root.outerHTML+Object(s.a)("svg")},g._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),Object(u.c)(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},g.updateDefs=function(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=Object(u.b)(e,0,"defs",b)),r=O(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=Object(u.b)(e,0,"defs",b)),r=v(n,t.clipping[i],r);n&&(0===r?(e.removeChild(n),t.el=null):Object(u.c)(n,r))},g._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},g.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},g.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},g._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length||!this._dirtyID)return!0;var t,n,r,i,o,u,s,f=++this._dirtyID;for(o=0,u=e.length;o<u;++o)(n=(t=e[o]).mark).marktype!==r&&(r=n.marktype,i=a.a[r]),n.zdirty&&n.dirty!==f&&(this._dirtyAll=!1,j(t,f),n.items.forEach((function(e){e.dirty=f}))),n.zdirty||(t.exit?(i.nested&&n.items.length?(s=n.items[0])._svg&&this._update(i,s._svg,s):t._svg&&(s=t._svg.parentNode)&&s.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t)._update!==f&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,j(t,f)),t._update=f));return!this._dirtyAll},g.draw=function(e,t,n){if(!this.isDirty(t))return t._svg;var r,i=this._svg,s=a.a[t.marktype],f=!1===t.interactive?"none":null,d="g"===s.tag,p=null,m=0;(r=$(t,e,n,"g",i)).setAttribute("class",Object(u.a)(t));const b=Object(o.b)(t);for(const e in b)_(r,e,b[e]);d||_(r,"pointer-events",f),_(r,"clip-path",t.clip?Object(l.a)(this,t,t.group):null);const h=e=>{const t=this.isDirty(e),n=$(e,r,p,s.tag,i);t&&(this._update(s,n,e),d&&function(e,t,n){t=t.lastChild.previousSibling;let r,i=0;Object(c.b)(n,n=>{r=e.draw(t,n,r),++i}),Object(u.c)(t,1+i)}(this,n,e)),p=n,++m};return s.nested?t.items.length&&h(t.items[0]):Object(c.b)(t,h),Object(u.c)(r,m),r};var x=null,k=null,A={group:function(e,t,n){const r=x=t.childNodes[2];k=r.__values__,e.foreground(w,n,this),k=t.__values__,x=t.childNodes[1],e.content(w,n,this);const i=x=t.childNodes[0];e.background(w,n,this);const a=!1===n.mark.interactive?"none":null;if(a!==k.events&&(_(r,"pointer-events",a),_(i,"pointer-events",a),k.events=a),n.strokeForeground&&n.stroke){const e=n.fill;_(r,"display",null),this.style(i,n),_(i,"stroke",null),e&&(n.fill=null),k=r.__values__,this.style(r,n),e&&(n.fill=e),x=null}else _(r,"display","none")},image:function(e,t,n){!1===n.smooth?(E(t,"image-rendering","optimizeSpeed"),E(t,"image-rendering","pixelated")):E(t,"image-rendering",null)},text:function(e,t,n){let r,i,a,o,s=Object(f.g)(n);Object(m.A)(s)?(i=s.map(e=>Object(f.i)(n,e)),r=i.join("\n"),r!==k.text&&(Object(u.c)(t,0),a=t.ownerDocument,o=Object(f.d)(n),i.forEach((e,r)=>{const i=Object(u.d)(a,"tspan",b);i.__data__=n,i.textContent=e,r&&(i.setAttribute("x",0),i.setAttribute("dy",o)),t.appendChild(i)}),k.text=r)):(i=Object(f.i)(n,s),i!==k.text&&(t.textContent=i,k.text=i)),_(t,"font-family",Object(f.b)(n)),_(t,"font-size",Object(f.c)(n)+"px"),_(t,"font-style",n.fontStyle),_(t,"font-variant",n.fontVariant),_(t,"font-weight",n.fontWeight)}};function E(e,t,n){n!==k[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),k[t]=n)}function w(e,t,n){t!==k[e]&&(n?function(e,t,n,r){null!=n?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}(x,e,t,n):_(x,e,t),k[e]=t)}function _(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function F(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}g._update=function(e,t,n){x=t,k=t.__values__,Object(o.a)(w,n),e.attr(w,n,this);const r=A[e.type];r&&r.call(this,e,t,n),x&&this.style(x,n)},g.style=function(e,t){if(null!=t)for(const n in p.b){let r="font"===n?Object(f.b)(t):t[n];if(r===k[n])continue;const a=p.b[n];null==r?e.removeAttribute(a):(Object(i.c)(r)&&(r=Object(i.b)(r,this._defs.gradient,F())),e.setAttribute(a,r+"")),k[n]=r}}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(258),i=n(254),a=n(179),o=n(565),u=n(93),s=n(85),f=n(112),c=n(150),l=n(331),d=n(381),p=n(392),m=n(1);function b(e){r.a.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}var h=Object(m.y)(b,r.a),g=r.a.prototype;function y(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}h.resize=function(e,t,n,r){g.resize.call(this,e,t,n,r);var i=this._origin,a=this._text,o={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var u in d.a)o[u]=d.a[u];a.head=Object(s.b)("svg",o);var f=this._bgcolor;return"transparent"!==f&&"none"!==f||(f=null),a.bg=f?Object(s.b)("rect",{width:this._width,height:this._height,fill:f})+Object(s.a)("rect"):"",a.root=Object(s.b)("g",Object(m.o)({},p.a,{transform:"translate("+i+")"})),a.foot=Object(s.a)("g")+Object(s.a)("svg"),this},h.background=function(){var e=g.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},h.svg=function(){var e=this._text;return e.head+e.defs+e.bg+e.root+e.body+e.foot},h._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},h.buildDefs=function(){let e,t="";for(const n in this._defs.gradient){const r=this._defs.gradient[n],a=r.stops;"radial"===r.gradient?(t+=Object(s.b)(e="pattern",{id:i.d+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t+=Object(s.b)("rect",{width:"1",height:"1",fill:"url(#"+n+")"})+Object(s.a)("rect"),t+=Object(s.a)(e),t+=Object(s.b)(e="radialGradient",{id:n,fx:r.x1,fy:r.y1,fr:r.r1,cx:r.x2,cy:r.y2,r:r.r2})):t+=Object(s.b)(e="linearGradient",{id:n,x1:r.x1,x2:r.x2,y1:r.y1,y2:r.y2});for(let e=0;e<a.length;++e)t+=Object(s.b)("stop",{offset:a[e].offset,"stop-color":a[e].color})+Object(s.a)("stop");t+=Object(s.a)(e)}for(const e in this._defs.clipping){const n=this._defs.clipping[e];t+=Object(s.b)("clipPath",{id:e}),n.path?t+=Object(s.b)("path",{d:n.path})+Object(s.a)("path"):t+=Object(s.b)("rect",{x:0,y:0,width:n.width,height:n.height})+Object(s.a)("rect"),t+=Object(s.a)("clipPath")}return t?Object(s.b)("defs")+t+Object(s.a)("defs"):""},h.attr=function(e,t,n,r){const a={},o=(e,t,n,r)=>{a[r||e]=t};return Array.isArray(n)?n.forEach(e=>e(o,t,this)):n(o,t,this),r&&function(e,t,n,r,a){if(null==t)return e;"bgrect"===r&&!1===n.interactive&&(e["pointer-events"]="none");if("bgfore"===r&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===r&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===r&&(e["font-family"]=Object(f.b)(t),e["font-size"]=Object(f.c)(t)+"px",t.fontStyle&&(e["font-style"]=t.fontStyle),t.fontVariant&&(e["font-variant"]=t.fontVariant),t.fontWeight&&(e["font-weight"]=t.fontWeight));for(const n in p.b){let r=t[n];const o=p.b[n];("transparent"!==r||"fill"!==o&&"stroke"!==o)&&null!=r&&(Object(i.c)(r)&&(r=Object(i.b)(r,a.gradient,"")),e[o]=r)}}(a,t,e,r,this._defs),a},h.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(e=>{e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},h.mark=function(e){const t=a.a[e.marktype],n=t.tag,r=[o.a,t.attr];let i="";i+=Object(s.b)("g",Object(m.o)({class:Object(u.a)(e),"clip-path":e.clip?Object(l.a)(this,e,e.group):null},Object(o.b)(e),{"pointer-events":"g"!==n&&!1===e.interactive?"none":null}));const d=a=>{const o=this.href(a);if(o&&(i+=Object(s.b)("a",o)),i+=Object(s.b)(n,this.attr(e,a,r,"g"!==n?n:null)),"text"===n){const e=Object(f.g)(a);if(Object(m.A)(e)){const t={x:0,dy:Object(f.d)(a)};for(let n=0;n<e.length;++n)i+=Object(s.b)("tspan",n?t:null)+y(Object(f.i)(a,e[n]))+Object(s.a)("tspan")}else i+=y(Object(f.i)(a,e))}else if("g"===n){const n=a.strokeForeground,r=a.fill,o=a.stroke;n&&o&&(a.stroke=null),i+=Object(s.b)("path",this.attr(e,a,t.background,"bgrect"))+Object(s.a)("path"),i+=Object(s.b)("g",this.attr(e,a,t.content))+this.markGroup(a)+Object(s.a)("g"),n&&o?(r&&(a.fill=null),a.stroke=o,i+=Object(s.b)("path",this.attr(e,a,t.foreground,"bgrect"))+Object(s.a)("path"),r&&(a.fill=r)):i+=Object(s.b)("path",this.attr(e,a,t.foreground,"bgfore"))+Object(s.a)("path")}i+=Object(s.a)(n),o&&(i+=Object(s.a)("a"))};return t.nested?e.items&&e.items.length&&d(e.items[0]):Object(c.b)(e,d),i+Object(s.a)("g")},h.markGroup=function(e){let t="";return Object(c.b)(e,e=>{t+=this.mark(e)}),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f}));var r=n(450),i=n(14),a=n(1),o=n(780),u=n(781);function s(e){i.g.call(this,null,e)}function f(e,t,n,r,i){const a=e.x1||0,o=e.y1||0,u=t*n<0;function s(e){e.forEach(f)}function f(e){u&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-a)*t+r,e[1]=(e[1]-o)*n+i}return function(e){return e.coordinates.forEach(s),e}}s.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},Object(a.y)(s,i.g).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=t.materialize(t.SOURCE).source,c=e.field||a.x,l=Object(o.a)().smooth(!1!==e.smooth),d=e.thresholds||function(e,t,n){const i=Object(u.a)(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?i:i(e.map(e=>Object(r.a)(t(e).values)))}(s,c,e),p=null===e.as?null:e.as||"contour",m=[];return s.forEach(t=>{const n=c(t),r=l.size([n.width,n.height])(n.values,Object(a.A)(d)?d:d(n.values));!function(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;Object(a.D)(i)&&(i=i(n,r));Object(a.D)(o)&&(o=o(n,r));if((1===i||null==i)&&!o)return;const u=(Object(a.E)(i)?i:i[0])||1,s=(Object(a.E)(i)?i:i[1])||1,c=o&&o[0]||0,l=o&&o[1]||0;e.forEach(f(t,u,s,c,l))}(r,n,t,e),r.forEach(e=>{m.push(Object(i.o)(t,Object(i.l)(null!=p?{[p]:e}:e)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=m,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return f}));var r=n(782),i=n(14),a=n(1);function o(e){i.g.call(this,null,e)}o.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};var u=Object(a.y)(o,i.g);const s=["x","y","weight","size","cellSize","bandwidth"];function f(e,t){return s.forEach(n=>null!=t[n]?e[n](t[n]):0),e}u.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,o=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=function(e,t){var n,r,i,a,o,u,s=[],f=e=>e(a);if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],o=t.map(f),(u=n[o])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(a);return s}(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(a.h),c=f(Object(r.a)(),e),l=e.as||"grid";return n=u.map(t=>Object(i.l)(function(e,t){for(let n=0;n<s.length;++n)e[s[n]]=t[n];return e}({[l]:c(t,e.counts)},t.dims))),this.value&&(o.rem=this.value),this.value=o.source=o.add=n,o}},,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){if(e){const n=this.context.dataflow,r=e.mark.source;n.pulse(r,n.changeset().encode(e,t))}return void 0!==n?n:e}},function(e,t,n){"use strict";t.a={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){function t(t,n,r){return function(i){return function(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}(t,i,n,r)}}var n="new Date";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Object(r.n)("Missing arguments to clamp function."),t.length>3&&Object(r.n)("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),join:t("join",null),indexof:t("indexOf",null),lastindexof:t("lastIndexOf",null),slice:t("slice",null),reverse:function(t){return"("+e(t[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase","String",0),lower:t("toLowerCase","String",0),substring:t("substring","String"),split:t("split","String"),replace:t("replace","String"),trim:t("trim","String",0),regexp:"RegExp",test:t("test","RegExp"),if:function(t){t.length<3&&Object(r.n)("Missing arguments to if function."),t.length>3&&Object(r.n)("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}},function(e,t,n){"use strict";t.a=function(e){let t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}},function(e,t,n){"use strict";var r=n(1);t.a=function(){var e=[].slice.call(arguments);return e.unshift({}),r.o.apply(null,e)}},function(e,t,n){"use strict";var r=n(14),i=n(1);function a(e,t){return e===t||e!=e&&t!=t||(Object(i.A)(e)?!(!Object(i.A)(t)||e.length!==t.length)&&function(e,t){for(let n=0,r=e.length;n<r;++n)if(!a(e[n],t[n]))return!1;return!0}(e,t):!(!Object(i.F)(e)||!Object(i.F)(t))&&o(e,t))}function o(e,t){for(let n in e)if(!a(e[n],t[n]))return!1;return!0}function u(e){return t=>o(e,t)}t.a=function(e,t,n,a,o,s){let f,c,l=this.context.dataflow,d=this.context.data[e],p=d.input,m=d.changes,b=l.stamp();if(!1===l._trigger||!(p.value.length||t||a))return 0;if((!m||m.stamp<b)&&(d.changes=m=l.changeset(),m.stamp=b,l.runAfter((function(){d.modified=!0,l.pulse(p,m).run()}),!0,1)),n&&(f=!0===n?i.gb:Object(i.A)(n)||Object(r.n)(n)?n:u(n),m.remove(f)),t&&m.insert(t),a&&(f=u(a),p.value.some(f)?m.remove(f):m.insert(a)),o)for(c in s)m.modify(o,c,s[c]);return 1}},function(e,t,n){"use strict";var r=n(237),i=n(47),a=n(76),o=n(1);t.a=function(e,t,n,u,s){e=Object(r.a)(e,(s||this).context);const f=Object(a.d)(t,n);let c=e.domain(),l=c[0],d=Object(o.U)(c),p=o.x;return d-l?p=Object(i.J)(e,l,d):e=(e.interpolator?Object(i.I)("sequential")().interpolator(e.interpolator()):Object(i.I)("linear")().interpolate(e.interpolate()).range(e.range())).domain([l=0,d=1]),e.ticks&&(c=e.ticks(+u||15),l!==c[0]&&c.unshift(l),d!==Object(o.U)(c)&&c.push(d)),c.forEach(t=>f.stop(p(t),e(t))),f}},function(e,t,n){"use strict";var r=n(1253);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(1433),i=n(170),a=n(1);t.a=function(e,t){var n=t.getSignal(e.name),o=e.update;e.init&&(o?Object(a.n)("Signals can not include both init and update expressions."):(o=e.init,n.initonly=!0)),o&&(o=Object(i.c)(o,t),n.update=o.$expr,n.params=o.$params),e.on&&e.on.forEach((function(e){Object(r.a)(e,t,n.id)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(27),i=n(170),a=n(1);function o(e,t){return(e.merge?u:e.stream?s:e.type?f:Object(a.n)("Invalid stream specification: "+Object(a.Z)(e)))(e,t)}function u(e,t){var n=c({merge:e.merge.map(e=>o(e,t))},e,t);return t.addStream(n).id}function s(e,t){var n=c({stream:o(e.stream,t)},e,t);return t.addStream(n).id}function f(e,t){var n,i,a;return"timer"===e.type?(n=t.event("timer",e.throttle),e={between:e.between,filter:e.filter}):n=t.event((a=e.source)===r.c?r.d:a||r.d,e.type),i=c({stream:n},e,t),1===Object.keys(i).length?n:t.addStream(i).id}function c(e,t,n){var u,s,f,c,l=t.between;return l&&(2!==l.length&&Object(a.n)('Stream "between" parameter must have 2 entries: '+Object(a.Z)(t)),e.between=[o(l[0],n),o(l[1],n)]),l=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&l.push((u=t.marktype,s=t.markname,f=t.markrole,(c="event.item")+(u&&"*"!==u?"&&"+c+".mark.marktype==='"+u+"'":"")+(f?"&&"+c+".mark.role==='"+f+"'":"")+(s?"&&"+c+".mark.name==='"+s+"'":""))),t.source===r.c&&l.push("inScope(event.item)"),l.length&&(e.filter=Object(i.c)("("+l.join(")&&(")+")",n).$expr),null!=(l=t.throttle)&&(e.throttle=+l),null!=(l=t.debounce)&&(e.debounce=+l),t.consume&&(e.consume=!0),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(334),i=n(64),a=n(27),o=n(794),u=n(170),s=n(1);function f(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function c(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}var l=f.prototype=c.prototype;function d(e){return(Object(s.A)(e)?p:m)(e)}function p(e){for(var t,n="[",r=0,i=e.length;r<i;++r)t=e[r],n+=(r>0?",":"")+(Object(s.F)(t)?t.signal||d(t):Object(s.Z)(t));return n+"]"}function m(e){var t,n,r="{",i=0;for(t in e)n=e[t],r+=(++i>1?",":"")+Object(s.Z)(t)+":"+(Object(s.F)(n)?n.signal||d(n):Object(s.Z)(n));return r+"}"}l.parse=function(e){return Object(o.a)(e,this)},l.fork=function(){return new c(this)},l.isSubscope=function(){return this._subid>0},l.toRuntime=function(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},l.id=function(){return(this._subid?this._subid+":":0)+this._id++},l.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((function(t){t.$ref=e.id})),e.refs=null),e},l.proxy=function(e){var t=e instanceof a.b?Object(a.p)(e):e;return this.add(Object(i.u)({value:t}))},l.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},l.addUpdate=function(e){return this.updates.push(e),e},l.finish=function(){var e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){var r;e&&((r=e.data||(e.data={}))[t]||(r[t]=[])).push(n)}for(e in this.data)for(var r in n((t=this.data[e]).input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values"),t.index)n(t.index[r],e,"index:"+r);return this},l.pushState=function(e,t,n){this._encode.push(Object(a.p)(this.add(Object(i.y)({pulse:e})))),this._parent.push(t),this._lookup.push(n?Object(a.p)(this.proxy(n)):null),this._markpath.push(-1)},l.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},l.parent=function(){return Object(s.U)(this._parent)},l.encode=function(){return Object(s.U)(this._encode)},l.lookup=function(){return Object(s.U)(this._lookup)},l.markpath=function(){var e=this._markpath;return++e[e.length-1]},l.fieldRef=function(e,t){if(Object(s.H)(e))return Object(a.i)(e,t);e.signal||Object(s.n)("Unsupported field reference: "+Object(s.Z)(e));var n,r=e.signal,o=this.field[r];return o||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=o=Object(a.p)(this.add(Object(i.j)(n)))),o},l.compareRef=function(e){function t(e){return Object(a.l)(e)?(r=!0,n.signalRef(e.signal)):Object(a.k)(e)?(r=!0,n.exprRef(e.expr)):e}var n=this,r=!1,o=Object(s.i)(e.field).map(t),u=Object(s.i)(e.order).map(t);return r?Object(a.p)(this.add(Object(i.e)({fields:o,orders:u}))):Object(a.f)(o,u)},l.keyRef=function(e,t){var n=this.signals,r=!1;return e=Object(s.i)(e).map((function(e){return Object(a.l)(e)?(r=!0,Object(a.p)(n[e.signal])):e})),r?Object(a.p)(this.add(Object(i.k)({fields:e,flat:t}))):Object(a.n)(e,t)},l.sortRef=function(e){if(!e)return e;var t=Object(a.e)(e.op,e.field),n=e.order||a.a;return n.signal?Object(a.p)(this.add(Object(i.e)({fields:t,orders:this.signalRef(n.signal)}))):Object(a.f)(t,n)},l.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},l.hasOwnSignal=function(e){return Object(s.v)(this.signals,e)},l.addSignal=function(e,t){this.hasOwnSignal(e)&&Object(s.n)("Duplicate signal name: "+Object(s.Z)(e));var n=t instanceof a.b?t:this.add(Object(a.o)(t));return this.signals[e]=n},l.getSignal=function(e){return this.signals[e]||Object(s.n)("Unrecognized signal name: "+Object(s.Z)(e)),this.signals[e]},l.signalRef=function(e){return this.signals[e]?Object(a.p)(this.signals[e]):(Object(s.v)(this.lambdas,e)||(this.lambdas[e]=this.add(Object(a.o)(null))),Object(a.p)(this.lambdas[e]))},l.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=Object(u.c)(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},l.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},l.objectProperty=function(e){return e&&Object(s.F)(e)?this.signalRef(e.signal||d(e)):e},l.exprRef=function(e,t){var n={expr:Object(u.c)(e,this)};return t&&(n.expr.$name=t),Object(a.p)(this.add(Object(i.h)(n)))},l.addBinding=function(e,t){this.bindings||Object(s.n)("Nested signals do not support binding: "+Object(s.Z)(e)),this.bindings.push(Object(s.o)({signal:e},t))},l.addScaleProj=function(e,t){Object(s.v)(this.scales,e)&&Object(s.n)("Duplicate scale or projection name: "+Object(s.Z)(e)),this.scales[e]=this.add(t)},l.addScale=function(e,t){this.addScaleProj(e,Object(i.x)(t))},l.addProjection=function(e,t){this.addScaleProj(e,Object(i.t)(t))},l.getScale=function(e){return this.scales[e]||Object(s.n)("Unrecognized scale name: "+Object(s.Z)(e)),this.scales[e]},l.projectionRef=l.scaleRef=function(e){return Object(a.p)(this.getScale(e))},l.projectionType=l.scaleType=function(e){return this.getScale(e).params.type},l.addData=function(e,t){return Object(s.v)(this.data,e)&&Object(s.n)("Duplicate data set name: "+Object(s.Z)(e)),this.data[e]=t},l.getData=function(e){return this.data[e]||Object(s.n)("Undefined data set name: "+Object(s.Z)(e)),this.data[e]},l.addDataPipeline=function(e,t){return Object(s.v)(this.data,e)&&Object(s.n)("Duplicate data set name: "+Object(s.Z)(e)),this.addData(e,r.a.fromEntries(this,t))}},function(e,t,n){"use strict";t.a=function(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(619),i=n(754),a=n(755);class o{constructor(e){this.options=Object.assign(Object.assign({},r.a),e);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=Object(r.b)(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(e,t,n,r){if(null==r||""===r)return void this.el.classList.remove("visible",this.options.theme+"-theme");this.el.innerHTML=Object(i.a)(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme");const{x:o,y:u}=Object(a.a)(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${u}px; left: ${o}px`)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function a(e,t,n){if(Object(r.A)(e))return`[${e.map(e=>t(Object(r.H)(e)?e:o(e,n))).join(", ")}]`;if(Object(r.F)(e)){let a="";const u=e,{title:s,image:f}=u,c=i(u,["title","image"]);s&&(a+=`<h2>${t(s)}</h2>`),f&&(a+=`<img src="${t(f)}">`);const l=Object.keys(c);if(l.length>0){a+="<table>";for(const e of l){let i=c[e];void 0!==i&&(Object(r.F)(i)&&(i=o(i,n)),a+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`)}a+="</table>"}return a||"{}"}return t(e)}function o(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}},function(e,t,n){"use strict";function r(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}n.d(t,"a",(function(){return r}))},,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){return 1===e.length?r(e[0]):i(e)};const r=e=>function(t){return t[e]},i=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(1);function i(t,n){const i=n&&n.property?Object(r.t)(n.property):r.x;return!Object(r.F)(t)||(a=t,"function"==typeof e&&Object(r.D)(e.isBuffer)&&e.isBuffer(a))?i(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(i(t));var a}i.responseType="json"}).call(this,n(1121).Buffer)},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(72),a=n(1);function o(e){this._key=e?Object(a.t)(e):r.t,this.reset()}var u=o.prototype;u.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},u.add=function(e){this._add.push(e)},u.rem=function(e){this._rem.push(e)},u.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,u=i.length,s=Array(o-u),f={};for(e=0;e<u;++e)f[a(i[e])]=1;for(e=0,t=0;e<o;++e)f[a(n=r[e])]?f[a(n)]=0:s[t++]=n;return this._rem=[],this._add=s},u.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},o=0;--r>=0;)t=e(n[r])+"",Object(a.v)(i,t)||(i[t]=1,++o);return o},u.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Object(a.q)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},u.argmin=function(e){return this.extent(e)[0]||{}},u.argmax=function(e){return this.extent(e)[1]||{}},u.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):void 0},u.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):void 0},u.quartile=function(e){return this._get===e&&this._q||(this._q=Object(i.o)(this.values(),e),this._get=e),this._q},u.q1=function(e){return this.quartile(e)[0]},u.q2=function(e){return this.quartile(e)[1]},u.q3=function(e){return this.quartile(e)[2]},u.ci=function(e){return this._get===e&&this._ci||(this._ci=Object(i.c)(this.values(),1e3,.05,e),this._get=e),this._ci},u.ci0=function(e){return this.ci(e)[0]},u.ci1=function(e){return this.ci(e)[1]}},function(e,t,n){"use strict";t.a=function*(e,t){if(null==t)for(let t of e)null!=t&&""!==t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)r=t(r,++n,e),null!=r&&""!==r&&(r=+r)>=r&&(yield r)}}},function(e,t,n){"use strict";var r=n(1);t.a=function(e,t,n){var i=e,a=t||[],o=n||[],u={},s=0;return{add:function(e){o.push(e)},remove:function(e){u[i(e)]=++s},size:function(){return a.length},data:function(e,t){return s&&(a=a.filter((function(e){return!u[i(e)]})),u={},s=0),t&&e&&a.sort(e),o.length&&(a=e?Object(r.M)(e,a,o.sort(e)):a.concat(o),o=[]),a}}}},function(e,t,n){"use strict";var r=n(254),i=n(1348);t.a=function(e,t,n){return Object(r.c)(n)?Object(i.a)(e,n,t.bounds):n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(151),i=n(1);function a(e,t){e.beginPath(),Object(r.c)(t)?Object(r.e)(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}t.b=function(e,t){var n=t.clip;e.save(),Object(i.D)(n)?(e.beginPath(),n(e),e.clip()):a(e,t.group)}},,,function(e,t,n){"use strict";var r=n(1);function i(){}const a=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function o(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=u(e,t[r]))return n;return 0}function u(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,u=o-1;a<o;u=a++){var f=e[a],c=f[0],l=f[1],d=e[u],p=d[0],m=d[1];if(s(f,d,t))return 0;l>r!=m>r&&n<(p-c)*(r-l)/(m-l)+c&&(i=-i)}return i}function s(e,t,n){var r,i,a,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],o=t[r],i<=a&&a<=o||o<=a&&a<=i)}t.a=function(){var e=1,t=1,n=c;function u(e,t){return t.map(t=>s(e,t))}function s(r,i){var u=[],s=[];return function(n,r,i){var o,u,s,c,l,d,p=new Array,m=new Array;o=u=-1,c=n[0]>=r,a[c<<1].forEach(b);for(;++o<e-1;)s=c,c=n[o+1]>=r,a[s|c<<1].forEach(b);a[c<<0].forEach(b);for(;++u<t-1;){for(o=-1,c=n[u*e+e]>=r,l=n[u*e]>=r,a[c<<1|l<<2].forEach(b);++o<e-1;)s=c,c=n[u*e+e+o+1]>=r,d=l,l=n[u*e+o+1]>=r,a[s|c<<1|l<<2|d<<3].forEach(b);a[c|l<<3].forEach(b)}o=-1,l=n[u*e]>=r,a[l<<2].forEach(b);for(;++o<e-1;)d=l,l=n[u*e+o+1]>=r,a[l<<2|d<<3].forEach(b);function b(e){var t,n,r=[e[0][0]+o,e[0][1]+u],a=[e[1][0]+o,e[1][1]+u],s=f(r),c=f(a);(t=m[s])?(n=p[c])?(delete m[t.end],delete p[n.start],t===n?(t.ring.push(a),i(t.ring)):p[t.start]=m[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete m[t.end],t.ring.push(a),m[t.end=c]=t):(t=p[c])?(n=m[s])?(delete p[t.start],delete m[n.end],t===n?(t.ring.push(a),i(t.ring)):p[n.start]=m[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(r),p[t.start=s]=t):p[s]=m[c]={start:s,end:c,ring:[r,a]}}a[l<<3].forEach(b)}(r,i,(function(e){n(e,r,i),function(e){var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?u.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=u.length;n<r;++n)if(-1!==o((t=u[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:u}}function f(t){return 2*t[0]+t[1]*(e+1)*4}function c(n,r,i){n.forEach((function(n){var a,o=n[0],u=n[1],s=0|o,f=0|u,c=r[f*e+s];o>0&&o<e&&s===o&&(a=r[f*e+s-1],n[0]=o+(i-a)/(c-a)-.5),u>0&&u<t&&f===u&&(a=r[(f-1)*e+s],n[1]=u+(i-a)/(c-a)-.5)}))}return u.contour=s,u.size=function(n){if(!arguments.length)return[e,t];var i=Math.floor(n[0]),a=Math.floor(n[1]);return i>=0&&a>=0||Object(r.n)("invalid size"),e=i,t=a,u},u.smooth=function(e){return arguments.length?(n=e?c:i,u):n===c},u}},function(e,t,n){"use strict";var r=n(267),i=n(402),a=n(1);t.a=function(e,t,n){return function(o){var u=Object(a.p)(o),s=n?Math.min(u[0],0):u[0],f=u[1],c=f-s,l=t?Object(r.c)(s,f,e):c/(e+1);return Object(i.a)(l,f,l)}}},function(e,t,n){"use strict";var r=n(72),i=n(1),a=n(1729);function o(e,t,n){const i=e>=0?e:Object(r.a)(t,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function u(e){return Object(i.D)(e)?e:Object(i.l)(+e)}function s(e,t,n,r,i){const a=1+(i<<1);for(let o=0;o<t;++o)for(let t=0,u=0;t<e+i;++t)t<e&&(u+=n[t+o*e]),t>=i&&(t>=a&&(u-=n[t-a+o*e]),r[t-i+o*e]=u/Math.min(t+1,e-1+a-t,a))}function f(e,t,n,r,i){const a=1+(i<<1);for(let o=0;o<e;++o)for(let u=0,s=0;u<t+i;++u)u<t&&(s+=n[o+u*e]),u>=i&&(u>=a&&(s-=n[o+(u-a)*e]),r[o+(u-i)*e]=s/Math.min(u+1,t-1+a-u,a))}t.a=function(){var e=e=>e[0],t=e=>e[1],n=i.O,r=[-1,-1],c=960,l=500,d=2;function p(i,u){const p=o(r[0],i,e)>>d,m=o(r[1],i,t)>>d,b=p?p+2:0,h=m?m+2:0,g=2*b+(c>>d),y=2*h+(l>>d),O=new Float32Array(g*y),v=new Float32Array(g*y);let j=O;i.forEach(r=>{const i=b+(+e(r)>>d),a=h+(+t(r)>>d);i>=0&&i<g&&a>=0&&a<y&&(O[i+a*g]+=+n(r))}),p>0&&m>0?(s(g,y,O,v,p),f(g,y,v,O,m),s(g,y,O,v,p),f(g,y,v,O,m),s(g,y,O,v,p),f(g,y,v,O,m)):p>0?(s(g,y,O,v,p),s(g,y,v,O,p),s(g,y,O,v,p),j=v):m>0&&(f(g,y,O,v,m),f(g,y,v,O,m),f(g,y,O,v,m),j=v);let $=u?Math.pow(2,-2*d):1/Object(a.a)(j);for(let e=0,t=g*y;e<t;++e)j[e]*=$;return{values:j,scale:1<<d,width:g,height:y,x1:b,y1:h,x2:b+(c>>d),y2:h+(l>>d)}}return p.x=function(t){return arguments.length?(e=u(t),p):e},p.y=function(e){return arguments.length?(t=u(e),p):t},p.weight=function(e){return arguments.length?(n=u(e),p):n},p.size=function(e){if(!arguments.length)return[c,l];var t=+e[0],n=+e[1];return t>=0&&n>=0||Object(i.n)("invalid size"),c=t,l=n,p},p.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(i.n)("invalid cell size"),d=Math.floor(Math.log(e)/Math.LN2),p):1<<d},p.bandwidth=function(e){return arguments.length?(1===(e=Object(i.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(i.n)("invalid bandwidth"),r=e,p):r},p}},,,,,,,function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,o,u,s=[],f=function(e){return e(a)};if(null==t)s.push(e);else for(n={},r=0,i=e.length;r<i;++r)a=e[r],(u=n[o=t.map(f)])||(n[o]=u=[],u.dims=o,s.push(u)),u.push(a);return s}},function(e,t,n){"use strict";function r(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),i(t,e.description()))}function i(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(350);t.a=function(e,t,n,i,a,o){return(t=t||new i(e.loader())).initialize(n,Object(r.d)(e),Object(r.a)(e),Object(r.b)(e),a,o).background(e.background())}},function(e,t,n){"use strict";var r=n(1431),i=n(793),a=n(1432),o=n(170),u=n(1);function s(e,t,n,r){const o={},s={};for(const t in e)null!=e[t]&&(o[t]=f((c=e[t],Object(u.A)(c)?Object(a.a)(c):Object(i.a)(c)),r,n,s));var c;return{$expr:{marktype:t,channels:o},$fields:Object.keys(s),$output:Object.keys(e)}}function f(e,t,n,r){const i=Object(o.c)(e,t);return i.$fields.forEach(e=>r[e]=1),Object(u.o)(n,i.$params),i.$expr}t.a=function(e,t,n,i,a,o){const u={};(o=o||{}).encoders={$encode:u},e=Object(r.a)(e,t,n,i,a.config);for(const n in e)u[n]=s(e[n],t,o,a);return o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);const i=e=>Object(r.H)(e)?Object(r.Z)(e):e.signal?`(${e.signal})`:s(e);function a(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map(e=>null==e?null:Object(r.Z)(e));for(;t.length&&null==Object(r.U)(t);)t.pop();return t.unshift(i(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(e){return e.c?o("hcl",e.h,e.c,e.l):e.h||e.s?o("hsl",e.h,e.s,e.l):e.l||e.a?o("lab",e.l,e.a,e.b):e.r||e.g||e.b?o("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?s(e.field):void 0!==e.value?Object(r.Z)(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=i(e.scale);null!=e.range?t=`lerp(_range(${n}), ${+e.range})`:(void 0!==t&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(1==+e.band?"":"*"+u(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),null==t&&(t="0"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${u(e.exponent)})`),null!=e.mult&&(t+="*"+u(e.mult)),null!=e.offset&&(t+="+"+u(e.offset)),e.round&&(t=`round(${t})`),t}const o=(e,t,n,r)=>`(${e}(${[t,n,r].map(a).join(",")})+'')`;function u(e){return Object(r.F)(e)?"("+a(e)+")":e}function s(e){return function e(t){let n,i,a;if(t.signal)n="datum",a=t.signal;else if(t.group||t.parent){for(i=Math.max(1,t.level||1),n="item";i-- >0;)n+=".mark.group";t.parent?(a=t.parent,n+=".datum"):a=t.group}else t.datum?(n="datum",a=t.datum):Object(r.n)("Invalid field reference: "+Object(r.Z)(t));t.signal||(a=Object(r.H)(a)?Object(r.Y)(a).map(r.Z).join("]["):e(a));return n+"["+a+"]"}(Object(r.F)(e)?e:{datum:e})}},function(e,t,n){"use strict";var r=n(745),i=n(1033),a=n(1434),o=n(1435),u=n(532),s=n(1444),f=n(1445),c=n(418),l=n(1446),d=n(1);t.a=function(e,t,n){var p=Object(d.i)(e.signals),m=Object(d.i)(e.scales);return n||p.forEach(e=>Object(u.a)(e,t)),Object(d.i)(e.projections).forEach(e=>Object(a.a)(e,t)),m.forEach(e=>Object(i.a)(e,t)),Object(d.i)(e.data).forEach(e=>Object(f.a)(e,t)),m.forEach(e=>Object(i.b)(e,t)),(n||p).forEach(e=>Object(r.a)(e,t)),Object(d.i)(e.axes).forEach(e=>Object(l.a)(e,t)),Object(d.i)(e.marks).forEach(e=>Object(c.a)(e,t)),Object(d.i)(e.legends).forEach(e=>Object(o.a)(e,t)),e.title&&Object(s.a)(e.title,t),t.parseLambdas(),t}},function(e,t,n){"use strict";var r=n(122),i=n(69);t.a=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===r.a?i.p:t||i.o:t}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(545),i=n(64),a=n(27),o=n(1);function u(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Object(a.p)(t.getData(e.data).output)}t.a=function(e,t,n){var s,f,c,l,d;return e?(s=e.facet)&&(t||Object(o.n)("Only group marks can be faceted."),null!=s.field?l=d=u(s,n):(e.data?d=Object(a.p)(n.getData(e.data).aggregate):((c=Object(r.a)(Object(o.o)({type:"aggregate",groupby:Object(o.i)(s.groupby)},s.aggregate),n)).params.key=n.keyRef(s.groupby),c.params.pulse=u(s,n),l=d=Object(a.p)(n.add(c))),f=n.keyRef(s.groupby,!0))):l=Object(a.p)(n.add(Object(i.d)(null,[{}]))),l||(l=u(e,n)),{key:f,pulse:l,parent:d}}},function(e,t,n){"use strict";var r=n(27),i=n(170);t.a=function(e,t,n){var a,o,u=e.remove,s=e.insert,f=e.toggle,c=e.modify,l=e.values,d=t.add(Object(r.o)());a="if("+e.trigger+',modify("'+n+'",'+[s,u,f,c,l].map((function(e){return null==e?"null":e})).join(",")+"),0)",o=Object(i.c)(a,t),d.update=o.$expr,d.params=o.$params}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return p}));var r=n(1632),i=n(1268);n.d(t,"dark",(function(){return i.a}));var a=n(1269);n.d(t,"excel",(function(){return a.a}));var o=n(1270);n.d(t,"fivethirtyeight",(function(){return o.a}));var u=n(1271);n.d(t,"ggplot2",(function(){return u.a}));var s=n(1272);n.d(t,"latimes",(function(){return s.a}));var f=n(1273);n.d(t,"quartz",(function(){return f.a}));var c=n(1274);n.d(t,"vox",(function(){return c.a}));var l=n(1275);n.d(t,"urbaninstitute",(function(){return l.a}));var d=n(1276);n.d(t,"googlecharts",(function(){return d.a}));const p=r.version},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(2042),i=n(1);function a(e){const t=function(t,n){const r={delimiter:e};return o(t,n?Object(i.o)(n,r):r)};return t.responseType="text",t}function o(e,t){return t.header&&(e=t.header.map(i.Z).join(t.delimiter)+"\n"+e),Object(r.a)(t.delimiter).parse(e+"")}o.responseType="text"},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(293),i={skip:!1,force:!1};function a(e,t){var n=t||i;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function o(e,t,n){var r=n||i;return(e.set(t)||r.force)&&this.touch(e,r),this}function u(e,t,n){this.touch(e,n||i);var a=new r.b(this,this._clock+(this._pulse?0:1)),o=e.pulse&&e.pulse.source||[];return a.target=e,this._input[e.id]=t.pulse(a,o),this}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(1);function i(e,t){const n=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}t.a=function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:"default",item:null}));e.on(e.events("view","mousemove"),t,(function(e,n){const i=t.value,a=i?Object(r.H)(i)?i:i.user:"default",o=n.item&&n.item.cursor||null;return i&&a===i.user&&o==i.item?i:{user:a,item:o}})),e.add(null,(function(t){let n=t.cursor,a=this.value;return Object(r.H)(n)||(a=n.item,n=n.user),i(e,n&&"default"!==n?n:a||n),a}),{cursor:t})}},,,,,,,,,,,,,,function(e,t,n){"use strict";t.a='.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(408),i=n(465);const a=e=>"__proto__"!==e;function o(...e){return e.reduce((e,t)=>{for(var n in t)if("signals"===n)e.signals=s(e.signals,t.signals);else{var r="legend"===n?{layout:1}:"style"===n||null;u(e,n,t[n],r)}return e},{})}function u(e,t,n,o){var s,f;if(a(t))if(Object(i.a)(n)&&!Object(r.a)(n))for(s in f=Object(i.a)(e[t])?e[t]:e[t]={},n)o&&(!0===o||o[s])?u(f,s,n[s]):a(s)&&(f[s]=n[s]);else e[t]=n}function s(e,t){if(null==e)return t;const n={},r=[];function i(e){n[e.name]||(n[e.name]=1,r.push(e))}return t.forEach(i),e.forEach(i),r}},function(e,t,n){"use strict";function r(e){return 1+~~(new Date(e).getMonth()/3)}function i(e){return 1+~~(new Date(e).getUTCMonth()/3)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var r=n(40),i=n(185),a=n(1);function o(e,t,n,i,o){const u=t||1,s=Object(a.U)(e),f=(e,t,r)=>function(e,t,n,r){const i=n<=1?e:r?(t,i)=>r+n*Math.floor((e(t,i)-r)/n):(t,r)=>n*Math.floor(e(t,r)/n);return t?(e,n)=>t(i(e,n),n):i}(n[r=r||e],i[r],e===s&&u,t),c=new Date,l=Object(a.db)(e),d=l[r.l]?f(r.l):Object(a.l)(2012),p=l[r.g]?f(r.g):l[r.h]?f(r.h):a.kb,m=l[r.k]&&l[r.b]?f(r.b,1,r.k+r.b):l[r.k]?f(r.k,1):l[r.b]?f(r.b,1):l[r.a]?f(r.a,1):l[r.c]?f(r.c,1):a.O,b=l[r.d]?f(r.d):a.kb,h=l[r.f]?f(r.f):a.kb,g=l[r.i]?f(r.i):a.kb,y=l[r.e]?f(r.e):a.kb;return function(e){c.setTime(+e);const t=d(c);return o(t,p(c),m(c,t),b(c),h(c),g(c),y(c))}}function u(e,t,n){return t+7*e-(n+6)%7}const s={[r.l]:e=>e.getFullYear(),[r.h]:e=>Math.floor(e.getMonth()/3),[r.g]:e=>e.getMonth(),[r.a]:e=>e.getDate(),[r.d]:e=>e.getHours(),[r.f]:e=>e.getMinutes(),[r.i]:e=>e.getSeconds(),[r.e]:e=>e.getMilliseconds(),[r.c]:e=>Object(i.c)(e),[r.k]:e=>Object(i.e)(e),[r.k+r.b]:(e,t)=>u(Object(i.e)(e),e.getDay(),Object(i.d)(t)),[r.b]:(e,t)=>u(1,e.getDay(),Object(i.d)(t))},f={[r.h]:e=>3*e,[r.k]:(e,t)=>u(e,0,Object(i.d)(t))};function c(e,t){return o(e,t||1,s,f,i.b)}const l={[r.l]:e=>e.getUTCFullYear(),[r.h]:e=>Math.floor(e.getUTCMonth()/3),[r.g]:e=>e.getUTCMonth(),[r.a]:e=>e.getUTCDate(),[r.d]:e=>e.getUTCHours(),[r.f]:e=>e.getUTCMinutes(),[r.i]:e=>e.getUTCSeconds(),[r.e]:e=>e.getUTCMilliseconds(),[r.c]:e=>Object(i.g)(e),[r.k]:e=>Object(i.i)(e),[r.b]:(e,t)=>u(1,e.getUTCDay(),Object(i.h)(t)),[r.k+r.b]:(e,t)=>u(Object(i.i)(e),e.getUTCDay(),Object(i.h)(t))},d={[r.h]:e=>3*e,[r.k]:(e,t)=>u(e,0,Object(i.h)(t))};function p(e,t){return o(e,t||1,l,d,i.f)}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(716),i=n(616),a=n(717),o=n(718),u=n(725),s={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},f={};function c(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(f[e]=t,this):f[e]}f.canvas=f.png={renderer:i.a,headless:i.a,handler:r.a},f.svg={renderer:o.a,headless:u.a,handler:a.a},f.none={}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(371),i=n(1);function a(e,t,n){return e===t||("path"===n?o(e,t):e instanceof Date&&t instanceof Date?+e==+t:Object(i.E)(e)&&Object(i.E)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(i.F)(e)||Object(i.F)(t))?null!=e&&null!=t&&function(e,t){var n,r,i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!a(e[n],t[n],n))return!1;return typeof e==typeof t}(e,t):e==t)}function o(e,t){return a(Object(r.a)(e),Object(r.a)(t))}},,,function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),i=n.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},function(e,t,n){const r=n(310);e.exports=(e,t,n)=>0===r(e,t,n)},function(e,t,n){const r=n(228);e.exports=(e,t,n)=>{const i=new r(e,n),a=new r(t,n);return i.compare(a)||i.compareBuild(a)}},function(e,t,n){const r=n(310);e.exports=(e,t,n)=>r(e,t,n)<0},function(e,t,n){const r=n(310);e.exports=(e,t,n)=>r(e,t,n)>=0},function(e,t,n){const r=n(310);e.exports=(e,t,n)=>r(e,t,n)<=0},function(e,t,n){const r=n(228),i=n(688),{ANY:a}=i,o=n(311),u=n(689),s=n(687),f=n(917),c=n(919),l=n(918);e.exports=(e,t,n,d)=>{let p,m,b,h,g;switch(e=new r(e,d),t=new o(t,d),n){case">":p=s,m=c,b=f,h=">",g=">=";break;case"<":p=f,m=l,b=s,h="<",g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(e,t,d))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let o=null,u=null;if(r.forEach(e=>{e.semver===a&&(e=new i(">=0.0.0")),o=o||e,u=u||e,p(e.semver,o.semver,d)?o=e:b(e.semver,u.semver,d)&&(u=e)}),o.operator===h||o.operator===g)return!1;if((!u.operator||u.operator===h)&&m(e,u.semver))return!1;if(u.operator===g&&b(e,u.semver))return!1}return!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(1);function i(e){e.rank=++this._rank}function a(e){for(var t,n,i,a=[e];a.length;)if(this.rank(t=a.pop()),n=t._targets)for(i=n.length;--i>=0;)a.push(t=n[i]),t===e&&Object(r.n)("Cycle detected in dataflow graph.")}},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(99),i={},a={},o=[].join;function u(e,t,n,a,u,s,f,c,l){var d=o.call(arguments);if(i[d])return i[d];var p=f*r.a,m=Math.sin(p),b=Math.cos(p),h=b*(c-e)*.5+m*(l-t)*.5,g=b*(l-t)*.5-m*(c-e)*.5,y=h*h/((n=Math.abs(n))*n)+g*g/((a=Math.abs(a))*a);y>1&&(n*=y=Math.sqrt(y),a*=y);var O=b/n,v=m/n,j=-m/a,$=b/a,x=O*c+v*l,k=j*c+$*l,A=O*e+v*t,E=j*e+$*t,w=(A-x)*(A-x)+(E-k)*(E-k),_=1/w-.25;_<0&&(_=0);var F=Math.sqrt(_);s==u&&(F=-F);var D=.5*(x+A)-F*(E-k),S=.5*(k+E)+F*(A-x),C=Math.atan2(k-S,x-D),M=Math.atan2(E-S,A-D),q=M-C;q<0&&1===s?q+=r.e:q>0&&0===s&&(q-=r.e);for(var R=Math.ceil(Math.abs(q/(r.c+.001))),T=[],B=0;B<R;++B){var z=C+B*q/R,I=C+(B+1)*q/R;T[B]=[D,S,z,I,n,a,m,b]}return i[d]=T}function s(e){var t=o.call(e);if(a[t])return a[t];var n=e[0],r=e[1],i=e[2],u=e[3],s=e[4],f=e[5],c=e[6],l=e[7],d=l*s,p=-c*f,m=c*s,b=l*f,h=Math.cos(i),g=Math.sin(i),y=Math.cos(u),O=Math.sin(u),v=.5*(u-i),j=Math.sin(.5*v),$=8/3*j*j/Math.sin(v),x=n+h-$*g,k=r+g+$*h,A=n+y,E=r+O,w=A+$*O,_=E-$*y;return a[t]=[d*x+p*k,m*x+b*k,d*w+p*_,m*w+b*_,d*A+p*E,m*A+b*E]}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(719),i=n(402),a=n(403),o=n(628);function u(){var e,t,n=Object(o.a)().unknown(void 0),s=n.domain,f=n.range,c=[0,1],l=!1,d=0,p=0,m=.5;function b(){var n=s().length,a=c[1]<c[0],o=c[a-0],u=c[1-a],b=Object(r.a)(n,d,p);e=(u-o)/(b||1),l&&(e=Math.floor(e)),o+=(u-o-e*(n-d))*m,t=e*(1-d),l&&(o=Math.round(o),t=Math.round(t));var h=Object(i.a)(n).map((function(t){return o+e*t}));return f(a?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(s(e),b()):s()},n.range=function(e){return arguments.length?(c=[+e[0],+e[1]],b()):c.slice()},n.rangeRound=function(e){return c=[+e[0],+e[1]],l=!0,b()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,b()):l},n.padding=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),d=p,b()):d},n.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),b()):d},n.paddingOuter=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),b()):p},n.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),b()):m},n.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,r,i,o=+e[0],u=+e[1],l=c[1]<c[0],d=l?f().reverse():f(),p=d.length-1;if(o==o&&u==u&&(u<o&&(i=o,o=u,u=i),!(u<d[0]||o>c[1-l])))return n=Math.max(0,Object(a.b)(d,o)-1),r=o===u?n:Object(a.b)(d,u)-1,o-d[n]>t+1e-10&&++n,l&&(i=n,n=p-r,r=p-i),n>r?void 0:s().slice(n,r+1)}},n.invert=function(e){var t=n.invertRange([e,e]);return t?t[0]:t},n.copy=function(){return u().domain(s()).range(c).round(l).paddingInner(d).paddingOuter(p).align(m)},b()}function s(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(u().paddingInner(1))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},i={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(34),i=n(156),a=n(76);function o(e){var t=e.items[0].orient;return t===r.r||t===r.x}function u(e,t,n,o){var u,f,c=t.items[0],l=c.datum,d=null!=c.translate?c.translate:.5,p=c.orient,m=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(l),b=c.range,h=c.offset,g=c.position,y=c.minExtent,O=c.maxExtent,v=l.title&&c.items[m[2]].items[0],j=c.titlePadding,$=c.bounds,x=v&&Object(a.I)(v),k=0,A=0;switch(i.b.clear().union($),$.clear(),(u=m[0])>-1&&$.union(c.items[u].bounds),(u=m[1])>-1&&$.union(c.items[u].bounds),p){case r.G:k=g||0,A=-h,f=Math.max(y,Math.min(O,-$.y1)),$.add(0,-f).add(b,0),v&&s(e,v,f,j,x,0,-1,$);break;case r.r:k=-h,A=g||0,f=Math.max(y,Math.min(O,-$.x1)),$.add(-f,0).add(0,b),v&&s(e,v,f,j,x,1,-1,$);break;case r.x:k=n+h,A=g||0,f=Math.max(y,Math.min(O,$.x2)),$.add(0,0).add(f,b),v&&s(e,v,f,j,x,1,1,$);break;case r.c:k=g||0,A=o+h,f=Math.max(y,Math.min(O,$.y2)),$.add(0,0).add(b,f),v&&s(e,v,f,j,0,0,1,$);break;default:k=c.x,A=c.y}return Object(a.t)($.translate(k,A),c),Object(i.a)(c,"x",k+d)|Object(i.a)(c,"y",A+d)&&(c.bounds=i.b,e.dirty(c),c.bounds=$,e.dirty(c)),c.mark.bounds.clear().union($)}function s(e,t,n,r,i,a,o,u){const s=t.bounds;if(t.auto){const u=o*(n+i+r);let f=0,c=0;e.dirty(t),a?f=(t.x||0)-(t.x=u):c=(t.y||0)-(t.y=u),t.mark.bounds.clear().union(s.translate(-f,-c)),e.dirty(t)}u.union(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(34),i=n(156),a=n(76),o=n(1);const u=(e,t)=>Math.floor(Math.min(e,t)),s=(e,t)=>Math.ceil(Math.max(e,t));function f(e){return(new a.a).set(0,0,e.width||0,e.height||0)}function c(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function l(e,t,n){var r=Object(o.F)(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function d(e){return e<0?Math.ceil(-e):0}function p(e,t,n){var a,o,u,s,p,m,b,h,g,y,O,v=!n.nodirty,j=n.bounds===r.o?f:c,$=i.b.set(0,0,0,0),x=l(n.align,r.i),k=l(n.align,r.y),A=l(n.padding,r.i),E=l(n.padding,r.y),w=n.columns||t.length,_=w<=0?1:Math.ceil(t.length/w),F=t.length,D=Array(F),S=Array(w),C=0,M=Array(F),q=Array(_),R=0,T=Array(F),B=Array(F),z=Array(F);for(o=0;o<w;++o)S[o]=0;for(o=0;o<_;++o)q[o]=0;for(o=0;o<F;++o)m=t[o],p=z[o]=j(m),m.x=m.x||0,T[o]=0,m.y=m.y||0,B[o]=0,u=o%w,s=~~(o/w),C=Math.max(C,b=Math.ceil(p.x2)),R=Math.max(R,h=Math.ceil(p.y2)),S[u]=Math.max(S[u],b),q[s]=Math.max(q[s],h),D[o]=A+d(p.x1),M[o]=E+d(p.y1),v&&e.dirty(t[o]);for(o=0;o<F;++o)o%w==0&&(D[o]=0),o<w&&(M[o]=0);if(x===r.j)for(u=1;u<w;++u){for(O=0,o=u;o<F;o+=w)O<D[o]&&(O=D[o]);for(o=u;o<F;o+=w)D[o]=O+S[u-1]}else if(x===r.a){for(O=0,o=0;o<F;++o)o%w&&O<D[o]&&(O=D[o]);for(o=0;o<F;++o)o%w&&(D[o]=O+C)}else for(x=!1,u=1;u<w;++u)for(o=u;o<F;o+=w)D[o]+=S[u-1];if(k===r.j)for(s=1;s<_;++s){for(O=0,a=(o=s*w)+w;o<a;++o)O<M[o]&&(O=M[o]);for(o=s*w;o<a;++o)M[o]=O+q[s-1]}else if(k===r.a){for(O=0,o=w;o<F;++o)O<M[o]&&(O=M[o]);for(o=w;o<F;++o)M[o]=O+R}else for(k=!1,s=1;s<_;++s)for(a=(o=s*w)+w;o<a;++o)M[o]+=q[s-1];for(g=0,o=0;o<F;++o)g=D[o]+(o%w?g:0),T[o]+=g-t[o].x;for(u=0;u<w;++u)for(y=0,o=u;o<F;o+=w)y+=M[o],B[o]+=y-t[o].y;if(x&&l(n.center,r.i)&&_>1)for(o=0;o<F;++o)(g=(p=x===r.a?C:S[o%w])-z[o].x2-t[o].x-T[o])>0&&(T[o]+=g/2);if(k&&l(n.center,r.y)&&1!==w)for(o=0;o<F;++o)(y=(p=k===r.a?R:q[~~(o/w)])-z[o].y2-t[o].y-B[o])>0&&(B[o]+=y/2);for(o=0;o<F;++o)$.union(z[o].translate(T[o],B[o]));switch(g=l(n.anchor,r.J),y=l(n.anchor,r.K),l(n.anchor,r.i)){case r.k:g-=$.width();break;case r.t:g-=$.width()/2}switch(l(n.anchor,r.y)){case r.k:y-=$.height();break;case r.t:y-=$.height()/2}for(g=Math.round(g),y=Math.round(y),$.clear(),o=0;o<F;++o)t[o].mark.bounds.clear();for(o=0;o<F;++o)(m=t[o]).x+=T[o]+=g,m.y+=B[o]+=y,$.union(m.mark.bounds.union(m.bounds.translate(T[o],B[o]))),v&&e.dirty(m);return $}function m(e,t,n){var i,a,o,f,c,d,m,O=function(e){for(var t,n,i=e.items,a=i.length,o=0,u={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};o<a;++o)if(n=(t=i[o]).items,t.marktype===r.q)switch(t.role){case r.b:case r.s:case r.F:break;case r.A:u.rowheaders.push(...n);break;case r.z:u.rowfooters.push(...n);break;case r.g:u.colheaders.push(...n);break;case r.f:u.colfooters.push(...n);break;case r.B:u.rowtitle=n[0];break;case r.h:u.coltitle=n[0];break;default:u.marks.push(...n)}return u}(t),v=O.marks,j=n.bounds===r.o?b:h,$=n.offset,x=n.columns||v.length,k=x<=0?1:Math.ceil(v.length/x),A=k*x;const E=p(e,v,n);E.empty()&&E.set(0,0,0,0),O.rowheaders&&(d=l(n.headerBand,r.y,null),i=g(e,O.rowheaders,v,x,k,-l($,"rowHeader"),u,0,j,"x1",0,x,1,d)),O.colheaders&&(d=l(n.headerBand,r.i,null),a=g(e,O.colheaders,v,x,x,-l($,"columnHeader"),u,1,j,"y1",0,1,x,d)),O.rowfooters&&(d=l(n.footerBand,r.y,null),o=g(e,O.rowfooters,v,x,k,l($,"rowFooter"),s,0,j,"x2",x-1,x,1,d)),O.colfooters&&(d=l(n.footerBand,r.i,null),f=g(e,O.colfooters,v,x,x,l($,"columnFooter"),s,1,j,"y2",A-x,1,x,d)),O.rowtitle&&(c=l(n.titleAnchor,r.y),m=l($,"rowTitle"),m=c===r.k?o+m:i-m,d=l(n.titleBand,r.y,.5),y(e,O.rowtitle,m,0,E,d)),O.coltitle&&(c=l(n.titleAnchor,r.i),m=l($,"columnTitle"),m=c===r.k?f+m:a-m,d=l(n.titleBand,r.i,.5),y(e,O.coltitle,m,1,E,d))}function b(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function h(e,t){return e.bounds[t]}function g(e,t,n,r,i,a,o,u,s,f,c,l,d,p){var m,b,h,g,y,O,v,j,$,x=n.length,k=0,A=0;if(!x)return k;for(m=c;m<x;m+=l)n[m]&&(k=o(k,s(n[m],f)));if(!t.length)return k;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),k+=a,b=0,g=t.length;b<g;++b)e.dirty(t[b]),t[b].mark.bounds.clear();for(m=c,b=0,g=t.length;b<g;++b,m+=l){for(y=(O=t[b]).mark.bounds,h=m;h>=0&&null==(v=n[h]);h-=d);u?(j=null==p?v.x:Math.round(v.bounds.x1+p*v.bounds.width()),$=k):(j=k,$=null==p?v.y:Math.round(v.bounds.y1+p*v.bounds.height())),y.union(O.bounds.translate(j-(O.x||0),$-(O.y||0))),O.x=j,O.y=$,e.dirty(O),A=o(A,y[f])}return A}function y(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,u=n;r?o=Math.round(i.x1+a*i.width()):u=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=u,e.dirty(t)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(34),i=n(76);function a(e,t,n,i,a,o,u){const s=function(e,t){const n=e[t]||{};return(t,r)=>null!=n[t]?n[t]:null!=e[t]?e[t]:r}(n,t),f=(d=e,p=s("offset",0),m=-1/0,d.forEach(e=>{null!=e.offset&&(m=Math.max(m,e.offset))}),m>-1/0?m:p),c=s("anchor",r.D),l=c===r.k?1:c===r.t?.5:0;var d,p,m;const b={align:r.j,bounds:s("bounds",r.o),columns:"vertical"===s("direction")?1:e.length,padding:s("margin",8),center:s("center"),nodirty:!0};switch(t){case r.r:b.anchor={x:Math.floor(i.x1)-f,column:r.k,y:l*(u||i.height()+2*i.y1),row:c};break;case r.x:b.anchor={x:Math.ceil(i.x2)+f,y:l*(u||i.height()+2*i.y1),row:c};break;case r.G:b.anchor={y:Math.floor(a.y1)-f,row:r.k,x:l*(o||a.width()+2*a.x1),column:c};break;case r.c:b.anchor={y:Math.ceil(a.y2)+f,x:l*(o||a.width()+2*a.x1),column:c};break;case r.H:b.anchor={x:f,y:f};break;case r.I:b.anchor={x:o-f,y:f,column:r.k};break;case r.d:b.anchor={x:f,y:u-f,row:r.k};break;case r.e:b.anchor={x:o-f,y:u-f,column:r.k,row:r.k}}return b}function o(e,t){var n,a,o,f,c=t.items[0],l=c.datum,d=c.orient,p=c.bounds,m=c.x,b=c.y;return c._bounds?c._bounds.clear().union(p):c._bounds=p.clone(),p.clear(),function(e,t,n){var i=t.padding,a=i-n.x,o=i-n.y;if(t.datum.title){var f=t.items[1].items[0],c=f.anchor,l=t.titlePadding||0,d=i-f.x,p=i-f.y;switch(f.orient){case r.r:a+=Math.ceil(f.bounds.width())+l;break;case r.x:case r.c:break;default:o+=f.bounds.height()+l}switch((a||o)&&s(e,n,a,o),f.orient){case r.r:p+=u(t,n,f,c,1,1);break;case r.x:d+=u(t,n,f,r.k,0,0)+l,p+=u(t,n,f,c,1,1);break;case r.c:d+=u(t,n,f,c,0,0),p+=u(t,n,f,r.k,-1,0,1)+l;break;default:d+=u(t,n,f,c,0,0)}(d||p)&&s(e,f,d,p),(d=Math.round(f.bounds.x1-i))<0&&(s(e,n,-d,0),s(e,f,-d,0))}else(a||o)&&s(e,n,a,o)}(e,c,c.items[0].items[0]),p=function(e,t){return e.items.forEach(e=>t.union(e.bounds)),t.x1=e.padding,t.y1=e.padding,t}(c,p),n=2*c.padding,a=2*c.padding,p.empty()||(n=Math.ceil(p.width()+n),a=Math.ceil(p.height()+a)),l.type===r.E&&(o=c.items[0].items[0].items[0].items,f=o.reduce((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e),{}),o.forEach(e=>{e.width=f[e.column],e.height=e.bounds.y2-e.y})),d!==r.u&&(c.x=m=0,c.y=b=0),c.width=n,c.height=a,Object(i.t)(p.set(m,b,m+n,b+a),c),c.mark.bounds.clear().union(p),c}function u(e,t,n,a,o,u,s){const f="symbol"!==e.datum.type,c=n.datum.vgrad,l=(!f||!u&&c||s?t:t.items[0]).bounds[o?"y2":"x2"]-e.padding,d=c&&u?l:0,p=c&&u?0:l,m=o<=0?0:Object(i.I)(n);return Math.round(a===r.D?d:a===r.k?p-m:.5*(l-m))}function s(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}},,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this.bisect(this.range,e.value),a=e.index,o=i[0],u=i[1],s=a.length;for(n=0;n<o;++n)t[a[n]]|=r;for(n=u;n<s;++n)t[a[n]]|=r;return this}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(395),i=n(403),a=n(2077);function o(){var e=Object(r.b)(0),t=[],n=0;return{insert:function(i,o,u){if(!o.length)return[];var s,f,c,l=n,d=o.length,p=Array(d),m=Object(r.b)(d);for(c=0;c<d;++c)p[c]=i(o[c]),m[c]=c;if(p=function(e,t){return e.sort.call(t,(function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0})),Object(a.a)(e,t)}(p,m),l)s=t,f=e,t=Array(l+d),e=Object(r.b)(l+d),function(e,t,n,r,i,a,o,u,s){var f,c=0,l=0;for(f=0;c<r&&l<o;++f)t[c]<i[l]?(u[f]=t[c],s[f]=n[c++]):(u[f]=i[l],s[f]=a[l++]+e);for(;c<r;++c,++f)u[f]=t[c],s[f]=n[c];for(;l<o;++l,++f)u[f]=i[l],s[f]=a[l]+e}(u,s,f,l,p,m,d,t,e);else{if(u>0)for(c=0;c<d;++c)m[c]+=u;t=p,e=m}return n=l+d,{index:m,value:p}},remove:function(r,i){var a,o,u,s=n;for(o=0;!i[e[o]]&&o<s;++o);for(u=o;o<s;++o)i[a=e[o]]||(e[u]=a,t[u]=t[o],++u);n=s-r},bisect:function(e,r){var a;return r?a=r.length:(r=t,a=n),[Object(i.a)(r,e[0],0,a),Object(i.b)(r,e[1],0,a)]},reindex:function(t){for(var r=0,i=n;r<i;++r)e[r]=t[e[r]]},index:function(){return e},size:function(){return n}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var r=n(1409),i=n(14),a=n(1);const o={trap:!1};function u(e){const t=Object(a.o)({defaults:{}},e),n=(e,t)=>{t.forEach(t=>{Object(a.A)(e[t])&&(e[t]=Object(a.db)(e[t]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function s(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||Object(a.F)(r)&&!r[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function f(e,t,n){var a,u=this,f=new i.b(n),c=function(n,i){u.runAsync(null,()=>{"view"===e&&function(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[t]:i?!i[t]:e.preventDefault()))}(u,t)&&n.preventDefault(),f.receive(Object(r.a)(u,n,i))})};if("timer"===e)s(u,"timer",t)&&u.timer(c,t);else if("view"===e)s(u,"view",t)&&u.addEventListener(t,c,o);else if("window"===e?s(u,"window",t)&&"undefined"!=typeof window&&(a=[window]):"undefined"!=typeof document&&s(u,"selector",t)&&(a=document.querySelectorAll(e)),a){for(var l=0,d=a.length;l<d;++l)a[l].addEventListener(t,c);u._eventListeners.push({type:t,sources:a,handler:c})}else u.warn("Can not resolve event source: "+e);return f}},function(e,t,n){"use strict";var r=n(1);const i=e=>+e||0;t.a=function(e){return Object(r.F)(e)?{top:i(e.top),bottom:i(e.bottom),left:i(e.left),right:i(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(i(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(478),i=n(1);function a(e){const t=this;Object(r.d)(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function o(e){const t=this;if(e.params){const n=t.get(e.id);n||Object(i.n)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1),i={skip:!0};function a(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(n=>{var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(n=>{var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)})}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map(t=>t.getState(e))),n}function o(e){var t=this,n=t.dataflow,a=e.data,o=e.signals;Object.keys(o||{}).forEach(e=>{n.update(t.signals[e],o[e],i)}),Object.keys(a||{}).forEach(e=>{n.pulse(t.data[e].input,n.changeset().remove(r.gb).insert(a[e]))}),(e.subcontext||[]).forEach((e,n)=>{var r=t.subcontext[n];r&&r.setState(e)})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(14),i=n(1);function a(e){return this._runtime.getState(e||{data:o,signals:u,recurse:!0})}function o(e,t){return t.modified&&Object(i.A)(t.input.value)&&e.indexOf("_:vega:_")}function u(e,t){return!("parent"===e||t instanceof r.s.proxy)}function s(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},e=>{e._trigger=!0}),this}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c}));var r=n(64),i=n(27),a=n(47),o=n(1),u=0,s={min:"min",max:"max",count:"sum"};function f(e,t){var n=e.type||"linear";Object(a.D)(n)||Object(o.n)("Unrecognized scale type: "+Object(o.Z)(n)),t.addScale(e.name,{type:n,domain:void 0})}function c(e,t){var n,r,i=t.getScale(e.name).params;for(n in i.domain=m(e.domain,e,t),null!=e.range&&(i.range=function e(t,n,r){var i=t.range,u=n.config.range;if(i.signal)return n.signalRef(i.signal);if(Object(o.H)(i)){if(u&&Object(o.v)(u,i))return t=Object(o.o)({},t,{range:u[i]}),e(t,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Object(a.y)(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(o.n)("Unrecognized scale range value: "+Object(o.Z)(i))}else{if(i.scheme)return r.scheme=Object(o.A)(i.scheme)?d(i.scheme,n):l(i.scheme,n),i.extent&&(r.schemeExtent=d(i.extent,n)),void(i.count&&(r.schemeCount=l(i.count,n)));if(i.step)return void(r.rangeStep=l(i.step,n));if(Object(a.y)(t.type)&&!Object(o.A)(i))return m(i,t,n);Object(o.A)(i)||Object(o.n)("Unsupported range type: "+Object(o.Z)(i))}return i.map(e=>(Object(o.A)(e)?d:l)(e,n))}(e,t,i)),null!=e.interpolate&&function(e,t){t.interpolate=l(e.type||e),null!=e.gamma&&(t.interpolateGamma=l(e.gamma))}(e.interpolate,i),null!=e.nice&&(i.nice=(r=e.nice,Object(o.F)(r)?{interval:l(r.interval),step:l(r.step)}:l(r))),null!=e.bins&&(i.bins=function(e,t){return e.signal||Object(o.A)(e)?d(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(o.v)(i,n)||"name"===n||(i[n]=l(e[n],t))}function l(e,t){return Object(o.F)(e)?e.signal?t.signalRef(e.signal):Object(o.n)("Unsupported object: "+Object(o.Z)(e)):e}function d(e,t){return e.signal?t.signalRef(e.signal):e.map(e=>l(e,t))}function p(e){Object(o.n)("Can not find data set: "+Object(o.Z)(e))}function m(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(o.A)(e)?b:e.fields?g:h)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(o.n)("No scale domain defined for domainMin/domainMax to override.")}function b(e,t,n){return e.map((function(e){return l(e,n)}))}function h(e,t,n){var r=n.getData(e.data);return r||p(e.data),Object(a.y)(t.type)?r.valuesRef(n,e.field,O(e.sort,!1)):Object(a.C)(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function g(e,t,n){var i=e.data,s=e.fields.reduce((function(e,t){return t=Object(o.H)(t)?{data:i,field:t}:Object(o.A)(t)||t.signal?function(e,t){var n="_:vega:_"+u++,i=Object(r.d)({});if(Object(o.A)(e))i.value={$ingest:e};else if(e.signal){var a="setdata("+Object(o.Z)(n)+","+e.signal+")";i.params.input=t.signalRef(a)}return t.addDataPipeline(n,[i,Object(r.y)({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e}),[]);return(Object(a.y)(t.type)?y:Object(a.C)(t.type)?v:j)(e,n,s)}function y(e,t,n){var a,o,u,f,c,l=O(e.sort,!0);return a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.countsRef(t,e.field,l)})),o={groupby:i.m,pulse:a},l&&(u=l.op||"count",c=l.field?Object(i.e)(u,l.field):"count",o.ops=[s[u]],o.fields=[t.fieldRef(c)],o.as=[c]),u=t.add(Object(r.a)(o)),f=t.add(Object(r.d)({pulse:Object(i.p)(u)})),c=t.add(Object(r.A)({field:i.m,sort:t.sortRef(l),pulse:Object(i.p)(f)})),Object(i.p)(c)}function O(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!s[e.op]&&Object(o.n)("Multiple domain scales can not be sorted using "+e.op):Object(o.n)("No field provided for sort aggregate op: "+e.op):Object(o.F)(e)?e.field="key":e={field:"key"}),e}function v(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.domainRef(t,e.field)}));return Object(i.p)(t.add(Object(r.p)({values:a})))}function j(e,t,n){var a=n.map((function(e){var n=t.getData(e.data);return n||p(e.data),n.extentRef(t,e.field)}));return Object(i.p)(t.add(Object(r.o)({extents:a})))}},function(e,t,n){"use strict";var r=n(25),i=n(158),a=n(106),o=n(63),u=n(122),s=n(69),f=n(27);const c=`datum.${r.p}<=0?"${r.l}":datum.${r.p}>=1?"${r.r}":"${r.b}"`,l=`datum.${r.p}<=0?"${r.a}":datum.${r.p}>=1?"${r.w}":"${r.n}"`;t.a=function(e,t,n,d){var p,m,b,h,g,y=Object(a.f)(e,t),O=y.isVertical(),v=Object(o.b)(y.gradientThickness()),j=y.gradientLength(),$=y("labelOverlap"),x="";return p={enter:m={opacity:r.A},update:b={opacity:r.z,text:{field:r.k}},exit:{opacity:r.A}},Object(o.a)(p,{fill:y("labelColor"),fillOpacity:y("labelOpacity"),font:y("labelFont"),fontSize:y("labelFontSize"),fontStyle:y("labelFontStyle"),fontWeight:y("labelFontWeight"),limit:Object(f.r)(e.labelLimit,t.gradientLabelLimit)}),O?(m.align={value:"left"},m.baseline=b.baseline={signal:l},h="y",g="x",x="1-"):(m.align=b.align={signal:c},m.baseline={value:"top"},h="x",g="y"),m[h]=b[h]={signal:x+"datum."+r.p,mult:j},m[g]=b[g]=v,v.offset=Object(f.r)(e.labelOffset,t.gradientLabelOffset)||0,$=$?{separation:y("labelSeparation"),method:$,order:"datum."+r.j}:void 0,Object(i.a)({type:u.e,role:s.k,style:r.h,key:r.x,from:d,encode:p,overlap:$},n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(25),i=n(373),a=n(158),o=n(106),u=n(63),s=n(122),f=n(69);function c(e,t){const n=Object(o.f)(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}t.a=function(e,t,n,c,l){var d,p,m,b,h,g,y,O=Object(o.f)(e,t),v=n.entries,j=!(!v||!v.interactive),$=v?v.name:void 0,x=O("clipHeight"),k=O("symbolOffset"),A={data:"value"},E={},w=`(${l}) ? datum.${r.o} : datum.${r.s}`,_=x?Object(u.b)(x):{field:r.s},F="datum."+r.j,D=`max(1, ${l})`;_.mult=.5,E={enter:d={opacity:r.A,x:{signal:w,mult:.5,offset:k},y:_},update:p={opacity:r.z,x:d.x,y:d.y},exit:{opacity:r.A}};var S=null,C=null;return e.fill||(S=t.symbolBaseFillColor,C=t.symbolBaseStrokeColor),Object(u.a)(E,{fill:O("symbolFillColor",S),shape:O("symbolType"),size:O("symbolSize"),stroke:O("symbolStrokeColor",C),strokeDash:O("symbolDash"),strokeDashOffset:O("symbolDashOffset"),strokeWidth:O("symbolStrokeWidth")},{opacity:O("symbolOpacity")}),r.m.forEach((function(t){e[t]&&(p[t]=d[t]={scale:e[t],field:r.x})})),b=Object(a.a)({type:s.d,role:f.m,key:r.x,from:A,clip:!!x||void 0,encode:E},n.symbols),(m=Object(u.b)(k)).offset=O("labelOffset"),E={enter:d={opacity:r.A,x:{signal:w,offset:m},y:_},update:p={opacity:r.z,text:{field:r.k},x:d.x,y:d.y},exit:{opacity:r.A}},Object(u.a)(E,{align:O("labelAlign"),baseline:O("labelBaseline"),fill:O("labelColor"),fillOpacity:O("labelOpacity"),font:O("labelFont"),fontSize:O("labelFontSize"),fontStyle:O("labelFontStyle"),fontWeight:O("labelFontWeight"),limit:O("labelLimit")}),h=Object(a.a)({type:s.e,role:f.k,style:r.h,key:r.x,from:A,encode:E},n.labels),E={enter:{noBound:{value:!x},width:r.A,height:x?Object(u.b)(x):r.A,opacity:r.A},exit:{opacity:r.A},update:p={opacity:r.z,row:{signal:null},column:{signal:null}}},O.isVertical(!0)?(g=`ceil(item.mark.items.length / ${D})`,p.row.signal=`${F}%${g}`,p.column.signal=`floor(${F} / ${g})`,y={field:["row",F]}):(p.row.signal=`floor(${F} / ${D})`,p.column.signal=`${F} % ${D}`,y={field:F}),p.column.signal=`(${l})?${p.column.signal}:${F}`,c={facet:{data:c,name:"value",groupby:r.j}},Object(i.a)({role:f.p,from:c,encode:Object(u.c)(E,v,r.t),marks:[b,h],name:$,interactive:j,sort:y})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){const r=n(509);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(685).SEMVER_SPEC_VERSION,SemVer:n(228),compareIdentifiers:n(914).compareIdentifiers,rcompareIdentifiers:n(914).rcompareIdentifiers,parse:n(510),valid:n(1936),clean:n(1937),inc:n(1938),diff:n(1939),major:n(1940),minor:n(1941),patch:n(1942),prerelease:n(1943),compare:n(310),rcompare:n(1944),compareLoose:n(1945),compareBuild:n(916),sort:n(1946),rsort:n(1947),gt:n(687),lt:n(917),eq:n(915),neq:n(1266),gte:n(918),lte:n(919),cmp:n(1267),coerce:n(1948),Comparator:n(688),Range:n(311),satisfies:n(689),toComparators:n(1949),maxSatisfying:n(1950),minSatisfying:n(1951),minVersion:n(1952),validRange:n(1953),outside:n(920),gtr:n(1954),ltr:n(1955),intersects:n(1956),simplifyRange:n(1957),subset:n(1958)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(82);function i(e,...t){for(const n of t)a(e,n);return e}function a(e,t){for(const n of Object.keys(t))Object(r.writeConfig)(e,n,t[n],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e})},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=n-t?[t,n]:[i=Math.min(Math.max(i,t),n-r),i+r]}},function(e,t,n){"use strict";var r=n(205),i=n(414),a=n(521),o=n(523);t.a=function(e,t,n){n=n||{},t=Object(i.a)(t)||[];const u=[],f=[],c={},l=n.comparator||s;return Object(i.a)(e).forEach((e,i)=>{null!=e&&(u.push("descending"===t[i]?-1:1),f.push(e=Object(o.a)(e)?e:Object(a.a)(e,null,n)),(Object(r.a)(e)||[]).forEach(e=>c[e]=1))}),0===f.length?null:Object(r.c)(l(f,u),Object.keys(c))};const u=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),s=(e,t)=>1===e.length?f(e[0],t[0]):c(e,t,e.length),f=(e,t)=>function(n,r){return u(e(n),e(r))*t},c=(e,t,n)=>(t.push(0),function(r,i){let a,o=0,s=-1;for(;0===o&&++s<n;)a=e[s],o=u(a(r),a(i));return o*t[s]})},function(e,t,n){"use strict";var r=n(523);t.a=function(e){return Object(r.a)(e)?e:function(){return e}}},function(e,t,n){"use strict";t.a=function(e,t){var n,r;function i(){t(r),n=r=null}return function(t){r=t,n&&clearTimeout(n),n=setTimeout(i,e)}}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r)for(n in t=arguments[r])e[n]=t[n];return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,o=0;if(e&&(n=e.length))if(null==t){for(r=e[o];o<n&&(null==r||r!=r);r=e[++o]);for(i=a=r;o<n;++o)null!=(r=e[o])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=t(e[o]);o<n&&(null==r||r!=r);r=t(e[++o]));for(i=a=r;o<n;++o)null!=(r=t(e[o]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,a,o,u=-1,s=e.length;if(null==t){for(;++u<s;)if(null!=(r=e[u])&&r>=r){n=i=r;break}if(u===s)return[-1,-1];for(a=o=u;++u<s;)null!=(r=e[u])&&(n>r&&(n=r,a=u),i<r&&(i=r,o=u))}else{for(;++u<s;)if(null!=(r=t(e[u],u,e))&&r>=r){n=i=r;break}if(u===s)return[-1,-1];for(a=o=u;++u<s;)null!=(r=t(e[u],u,e))&&(n>r&&(n=r,a=u),i<r&&(i=r,o=u))}return[a,o]}},function(e,t,n){"use strict";var r=n(345),i={};t.a=function(e){var t,n,a={};function o(e){return Object(r.a)(a,e)&&a[e]!==i}return t={size:0,empty:0,object:a,has:o,get:e=>o(e)?a[e]:void 0,set(e,n){return o(e)||(++t.size,a[e]===i&&--t.empty),a[e]=n,this},delete(e){return o(e)&&(--t.size,++t.empty,a[e]=i),this},clear(){t.size=t.empty=0,t.object=a={}},test(e){return arguments.length?(n=e,t):n},clean(){var e,r,o={},u=0;for(e in a)(r=a[e])===i||n&&n(r)||(o[e]=r,++u);t.size=u,t.empty=0,t.object=a=o}},e&&Object.keys(e).forEach((function(n){t.set(n,e[n])})),t}},function(e,t,n){"use strict";var r=n(313);t.a=function(e,t,n,i,a,o){if(!n&&0!==n)return o;var u,s,f=e[0],c=Object(r.a)(e),l=+n;return c<f&&(u=f,f=c,c=u),(u=Math.abs(t-f))<(s=Math.abs(c-t))&&u<=l?i:s<=l?a:o}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),r=void 0===r||r,((n=void 0===n||n)?a<=e:a<e)&&(r?e<=o:e<o)}},function(e,t,n){"use strict";t.a=function(e){return"boolean"==typeof e}},function(e,t,n){"use strict";t.a=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=n(205),i=n(414),a=n(768),o=n(522);t.a=function(e,t,n){e&&(e=t?Object(i.a)(e).map(e=>e.replace(/\\(.)/g,"$1")):Object(i.a)(e));const u=e&&e.length,s=n&&n.get||a.a,f=e=>s(t?[e]:Object(o.a)(e));let c;if(u)if(1===u){const t=f(e[0]);c=function(e){return""+t(e)}}else{const t=e.map(f);c=function(e){let n=""+t[0](e),r=0;for(;++r<u;)n+="|"+t[r](e);return n}}else c=function(){return""};return Object(r.c)(c,e,"key")}},function(e,t,n){"use strict";var r=n(313);t.a=function(e,t){const n=e[0],i=Object(r.a)(e),a=+t;return a?1===a?i:n+a*(i-n):n}},function(e,t,n){"use strict";var r=n(345);t.a=function(e){let t,n,i;e=+e||1e4;const a=()=>{t={},n={},i=0},o=(r,a)=>(++i>e&&(n=t,t={},i=1),t[r]=a);return a(),{clear:a,has:e=>Object(r.a)(t,e)||Object(r.a)(n,e),get:e=>Object(r.a)(t,e)?t[e]:Object(r.a)(n,e)?o(e,n[e]):void 0,set:(e,n)=>Object(r.a)(t,e)?t[e]=n:o(e,n)}}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),u=0,s=0,f=0;u<i&&s<a;++f)o[f]=e(t[u],n[s])>0?n[s++]:t[u++];for(;u<i;++u,++f)o[f]=t[u];for(;s<a;++s,++f)o[f]=n[s];return o}},function(e,t,n){"use strict";var r=n(471);t.a=function(e,t,n,i){var a=n||" ",o=e+"",u=t-o.length;return u<=0?o:"left"===i?Object(r.a)(a,u)+o:"center"===i?Object(r.a)(a,~~(u/2))+o+Object(r.a)(a,Math.ceil(u/2)):o+Object(r.a)(a,u)}},function(e,t,n){"use strict";var r=n(313);t.a=function(e){return e&&Object(r.a)(e)-e[0]||0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(408),i=n(465),a=n(699);function o(e){return Object(r.a)(e)?"["+e.map(o)+"]":Object(i.a)(e)||Object(a.a)(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}},function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e}},function(e,t,n){"use strict";var r=n(697),i=n(698);function a(e){return Object(i.a)(e)||Object(r.a)(e)?e:Date.parse(e)}t.a=function(e,t){return t=t||a,null==e||""===e?null:t(e)}},function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?null:e+""}},function(e,t,n){"use strict";t.a=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,u=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-u):"center"===n?a.slice(0,Math.ceil(u/2))+i+a.slice(o-~~(u/2)):a.slice(0,u)+i}},function(e,t,n){"use strict";t.a=function(e,t,n){if(e)if(t)for(var r,i=0,a=e.length;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(1324),i=n(1325),a=n(1326),o=n(654),u=n(1333),s=n(998),f=n(499),c=n(872),l=n(460),d=n(1334),p=n(330),m=n(282),b=n(314),h=n(1);function g(){this.logger(Object(h.K)()),this.logLevel(h.b),this._clock=0,this._rank=0,this._locale=Object(m.a)();try{this._loader=Object(b.e)()}catch(e){}this._touched=Object(p.a)(h.w),this._input={},this._pulse=null,this._heap=Object(d.a)((e,t)=>e.qrank-t.qrank),this._postrun=[]}var y=g.prototype;function O(e){return function(){return this._log[e].apply(this,arguments)}}y.stamp=function(){return this._clock},y.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},y.locale=function(e){return arguments.length?(this._locale=e,this):this._locale},y.cleanThreshold=1e4,y.add=r.a,y.connect=i.a,y.rank=s.a,y.rerank=s.b,y.pulse=c.a,y.touch=c.b,y.update=c.c,y.changeset=l.a,y.ingest=o.a,y.parse=o.b,y.preload=o.c,y.request=o.d,y.events=a.a,y.on=u.a,y.evaluate=f.b,y.run=f.d,y.runAsync=f.f,y.runAfter=f.e,y._enqueue=f.a,y._getPulse=f.c,y.logger=function(e){return arguments.length?(this._log=e,this):this._log},y.error=O("error"),y.warn=O("warn"),y.info=O("info"),y.debug=O("debug"),y.logLevel=O("level")},function(e,t,n){"use strict";var r=n(409),i=n(512),a=n(282),o=n(1);t.a=function(e,t,n,u){t=t||{};const s=Object(i.b)(t.type||"json");return s||Object(o.n)("Unknown data format type: "+t.type),e=s(e,t),t.parse&&function(e,t,n,i){if(!e.length)return;const o=Object(a.e)();n=n||o.timeParse,i=i||o.utcParse;var u,s,f,c,l,d,p,m=e.columns||Object.keys(e[0]);"auto"===t&&(t=Object(r.b)(e,m));for(m=Object.keys(t),u=m.map((function(e){var a,o,u=t[e];if(u&&(u.startsWith("date:")||u.startsWith("utc:"))){("'"===(o=(a=u.split(/:(.+)?/,2))[1])[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1));return("utc"===a[0]?i:n)(o)}if(!r.c[u])throw Error("Illegal format pattern: "+e+":"+u);return r.c[u]})),c=0,d=e.length,p=m.length;c<d;++c)for(s=e[c],l=0;l<p;++l)f=m[l],s[f]=u[l](s[f])}(e,t.parse,n,u),Object(o.v)(e,"columns")&&delete e.columns,e}},,,,function(e,t,n){"use strict";var r=n(40),i=n(1),a=n(655),o=n(267);const u=[r.l,r.g,r.a,r.d,r.f,r.i,r.e],s=u.slice(0,-1),f=s.slice(0,-1),c=f.slice(0,-1),l=c.slice(0,-1),d=[r.l,r.k],p=[r.l,r.g],m=[r.l],b=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[c,1,36e5],[c,3,108e5],[c,6,216e5],[c,12,432e5],[l,1,864e5],[d,1,6048e5],[p,1,2592e6],[p,3,7776e6],[m,1,31536e6]];t.a=function(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(Object(i.X)(t))/n;let s,f,c=Object(a.a)(e=>e[2]).right(b,r);return c===b.length?(s=m,f=Object(o.c)(t[0]/31536e6,t[1]/31536e6,n)):c?(c=b[r/b[c-1][2]<b[c][2]/r?c-1:c],s=c[0],f=c[1]):(s=u,f=Math.max(Object(o.c)(t[0],t[1],n),1)),{units:s,step:f}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(257),i=n(1);function a(e,t){r.a.call(this,e,null,t)}var o=Object(i.y)(a,r.a);o.run=function(e){return e.stamp<this.stamp?e.StopPropagation:(this.skip()?this.skip(!1):t=this.evaluate(e),(t=t||e).then?t=t.then(e=>this.pulse=e):t!==e.StopPropagation&&(this.pulse=t),t);var t},o.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},o.transform=function(){}},function(e,t,n){"use strict";t.a=function(e){var t,n,r,i,a,o,u,s,f=e.maxbins||20,c=e.base||10,l=Math.log(c),d=e.divide||[5,2],p=e.extent[0],m=e.extent[1],b=e.span||m-p||Math.abs(p)||1;if(e.step)t=e.step;else if(e.steps){for(a=b/f,o=0,u=e.steps.length;o<u&&e.steps[o]<a;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(f)/l),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(b)/l)-n));Math.ceil(b/t)>f;)t*=c;for(o=0,u=d.length;o<u;++o)(a=t/d[o])>=r&&b/a<=f&&(t=a)}return i=(a=Math.log(t))>=0?0:1+~~(-a/l),s=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(p=p<(a=Math.floor(p/t+s)*t)?a-t:a,m=Math.ceil(m/t)*t),{start:p,stop:m===p?p+t:m,step:t}}},function(e,t,n){"use strict";var r=n(774),i=n(216),a=n(380),o=n(586);t.a=function(e,t,n,u){if(!e.length)return[void 0,void 0];var s,f,c,l,d=Float64Array.from(Object(r.a)(e,u)),p=d.length,m=t;for(c=0,l=Array(m);c<m;++c){for(s=0,f=0;f<p;++f)s+=d[~~(Object(i.a)()*p)];l[c]=s/p}return l.sort(a.a),[Object(o.a)(l,n/2),Object(o.a)(l,1-n/2)]}},function(e,t,n){"use strict";t.a=function(e,t,n,r){r=r||(e=>e);let i,a=0,o=1,u=e.length,s=new Float64Array(u),f=r(e[0]),c=f,l=f+t;for(;o<u;++o){if(i=r(e[o]),i>=l){for(c=(f+c)/2;a<o;++a)s[a]=c;l=i+t,f=i}c=i}for(c=(f+c)/2;a<o;++a)s[a]=c;return n?function(e,t){let n,r,i=e.length,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<i;){for(n=o+1;e[o]===e[n];)++n;if(e[o]-e[o-1]<t){for(r=o+(a+n-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[a]}a=o,o=n}return e}(s,t+t/4):s}},function(e,t,n){"use strict";t.a=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}},function(e,t,n){"use strict";var r=n(216);t.a=function(e,t){null==t&&(t=e,e=0);var n,i,a,o={};return o.min=function(e){return arguments.length?(a=i-(n=e||0),o):n},o.max=function(e){return arguments.length?(a=(i=e||0)-n,o):i},o.sample=function(){return n+Math.floor(a*Object(r.a)())},o.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<i?1/a:0},o.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=i?1:(t-n+1)/a},o.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*a):NaN},o.min(e).max(t)}},function(e,t,n){"use strict";var r=n(704),i=n(283),a=n(216);t.a=function(e,t){var n=Object(i.b)(),o={},u=0;return o.data=function(n){return arguments.length?(e=n,u=n?n.length:0,o.bandwidth(t)):e},o.bandwidth=function(n){return arguments.length?(!(t=n)&&e&&(t=Object(r.a)(e)),o):t},o.sample=function(){return e[~~(Object(a.a)()*u)]+t*n.sample()},o.pdf=function(r){for(var i=0,a=0;a<u;++a)i+=n.pdf((r-e[a])/t);return i/t/u},o.cdf=function(r){for(var i=0,a=0;a<u;++a)i+=n.cdf((r-e[a])/t);return i/u},o.icdf=function(){throw Error("KDE icdf not supported.")},o.data(e)}},function(e,t,n){"use strict";var r=n(216);t.a=function(e,t){var n,i={},a=0;function o(e){var t,n=[],r=0;for(t=0;t<a;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<a;++t)n[t]/=r;return n}return i.weights=function(e){return arguments.length?(n=o(t=e||[]),i):t},i.distributions=function(n){return arguments.length?(n?(a=n.length,e=n):(a=0,e=[]),i.weights(t)):e},i.sample=function(){for(var t=Object(r.a)(),i=e[a-1],o=n[0],u=0;u<a-1;o+=n[++u])if(t<o){i=e[u];break}return i.sample()},i.pdf=function(t){for(var r=0,i=0;i<a;++i)r+=n[i]*e[i].pdf(t);return r},i.cdf=function(t){for(var r=0,i=0;i<a;++i)r+=n[i]*e[i].cdf(t);return r},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(e).weights(t)}},function(e,t,n){"use strict";var r=n(338),i=n(206),a=n(287);t.a=function(e,t,n){let o=0,u=0,s=0,f=0,c=0;Object(i.b)(e,t,n,(e,t)=>{++c,e=Math.log(e),o+=(e-o)/c,u+=(t-u)/c,s+=(e*t-s)/c,f+=(e*e-f)/c});const l=Object(r.a)(o,u,s,f),d=e=>l[0]+l[1]*Math.log(e);return{coef:l,predict:d,rSquared:Object(a.a)(e,t,n,u,d)}}},function(e,t,n){"use strict";var r=n(338),i=n(206),a=n(287);t.a=function(e,t,n){const[o,u,s,f]=Object(i.a)(e,t,n);let c,l,d,p=0,m=0,b=0,h=0,g=0;Object(i.b)(e,t,n,(e,t)=>{c=o[g++],l=Math.log(t),d=c*t,p+=(t*l-p)/g,m+=(d-m)/g,b+=(d*l-b)/g,h+=(c*d-h)/g});const[y,O]=Object(r.a)(m/f,p/f,b/f,h/f),v=e=>Math.exp(y+O*(e-s));return{coef:[Math.exp(y-O*s),O],predict:v,rSquared:Object(a.a)(e,t,n,f,v)}}},function(e,t,n){"use strict";var r=n(338),i=n(206),a=n(287);t.a=function(e,t,n){let o=0,u=0,s=0,f=0,c=0,l=0;Object(i.b)(e,t,n,(e,t)=>{const n=Math.log(e),r=Math.log(t);++l,o+=(n-o)/l,u+=(r-u)/l,s+=(n*r-s)/l,f+=(n*n-f)/l,c+=(t-c)/l});const d=Object(r.a)(o,u,s,f),p=e=>d[0]*Math.pow(e,d[1]);return d[0]=Math.exp(d[0]),{coef:d,predict:p,rSquared:Object(a.a)(e,t,n,c,p)}}},function(e,t,n){"use strict";var r=n(707),i=n(206),a=n(708),o=n(287);function u(e,t,n,r){const i=Array(e);let a,o,u,s;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(u=t[a],s=1,i[a]+=u,o=1;o<=a;++o)s*=(a+1-o)/o,i[a-o]+=u*Math.pow(n,o)*s;return i[0]+=r,i}t.a=function(e,t,n,s){if(1===s)return Object(r.a)(e,t,n);if(2===s)return Object(a.a)(e,t,n);const[f,c,l,d]=Object(i.a)(e,t,n),p=f.length,m=[],b=[],h=s+1;let g,y,O,v,j;for(g=0;g<h;++g){for(O=0,v=0;O<p;++O)v+=Math.pow(f[O],g)*c[O];for(m.push(v),j=new Float64Array(h),y=0;y<h;++y){for(O=0,v=0;O<p;++O)v+=Math.pow(f[O],g+y);j[y]=v}b.push(j)}b.push(m);const $=function(e){const t=e.length-1,n=[];let r,i,a,o,u;for(r=0;r<t;++r){for(o=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][o])&&(o=i);for(a=r;a<t+1;++a)u=e[a][r],e[a][r]=e[a][o],e[a][o]=u;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(u=0,a=i+1;a<t;++a)u+=e[a][i]*n[a];n[i]=(e[t][i]-u)/e[i][i]}return n}(b),x=e=>{e-=l;let t=d+$[0]+$[1]*e+$[2]*e*e;for(g=3;g<h;++g)t+=$[g]*Math.pow(e,g);return t};return{coef:u(h,$,-l,d),predict:x,rSquared:Object(o.a)(e,t,n,d,x)}}},function(e,t,n){"use strict";var r=n(338),i=n(206),a=n(1725);function o(e){return(e=1-e*e*e)*e*e}function u(e,t,n){let r=e[t],i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}t.a=function(e,t,n,s){const[f,c,l,d]=Object(i.a)(e,t,n,!0),p=f.length,m=Math.max(2,~~(s*p)),b=new Float64Array(p),h=new Float64Array(p),g=new Float64Array(p).fill(1);for(let e=-1;++e<=2;){const t=[0,m-1];for(let e=0;e<p;++e){const n=f[e],i=t[0],a=t[1],s=n-f[i]>f[a]-n?i:a;let l=0,d=0,p=0,m=0,y=0,O=1/Math.abs(f[s]-n||1);for(let e=i;e<=a;++e){const t=f[e],r=c[e],i=o(Math.abs(n-t)*O)*g[e],a=t*i;l+=i,d+=a,p+=r*i,m+=r*a,y+=t*a}const[v,j]=Object(r.a)(d/l,p/l,m/l,y/l);b[e]=v+j*n,h[e]=Math.abs(c[e]-b[e]),u(f,e+1,t)}if(2===e)break;const n=Object(a.a)(h);if(Math.abs(n)<1e-12)break;for(let e,t,r=0;r<p;++r)e=h[r]/(6*n),g[r]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,r){const i=e.length,a=[];let o,u=0,s=0,f=[];for(;u<i;++u)o=e[u]+n,f[0]===o?f[1]+=(t[u]-f[1])/++s:(s=0,f[1]+=r,f=[o,t[u]],a.push(f));return f[1]+=r,a}(f,b,l,d)}},function(e,t,n){"use strict";const r=.1*Math.PI/180;function i(e,t,n){const r=Math.atan2(n[1]-e[1],n[0]-e[0]),i=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(r-i)}t.a=function(e,t,n,a){n=n||25,a=Math.max(n,a||200);const o=t=>[t,e(t)],u=t[0],s=t[1],f=s-u,c=f/a,l=[o(u)],d=[];if(n===a){for(let e=1;e<a;++e)l.push(o(u+e/n*f));return l.push(o(s)),l}d.push(o(s));for(let e=n;--e>0;)d.push(o(u+e/n*f));let p=l[0],m=d[d.length-1];for(;m;){const e=o((p[0]+m[0])/2);e[0]-p[0]>=c&&i(p,e,m)>r?d.push(e):(p=m,l.push(m),d.pop()),m=d[d.length-1]}return l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(72),a=n(1);function o(e){r.g.call(this,null,e)}o.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var u=Object(a.y)(o,r.g);u.transform=function(e,t){var n,r=!1!==e.interval,i=this._bins(e),o=i.start,u=i.step,s=e.as||["bin0","bin1"],f=s[0],c=s[1];return n=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(a.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(n,r?function(e){var t=i(e);e[f]=t,e[c]=null==t?null:o+u*(1+(t-o)/u)}:function(e){e[f]=i(e)}),t.modifies(r?s:f)},u._bins=function(e){if(this.value&&!e.modified())return this.value;var t,n,r=e.field,o=Object(i.b)(e),u=o.step,s=o.start,f=s+Math.ceil((o.stop-s)/u)*u;null!=(t=e.anchor)&&(n=t-(s+u*Math.floor((t-s)/u)),s+=n,f+=n);var c=function(e){var t=Object(a.cb)(r(e));return null==t?null:t<s?-1/0:t>f?1/0:(t=Math.max(s,Math.min(t,f-u)),s+u*Math.floor(1e-14+(t-s)/u))};return c.start=s,c.stop=o.stop,c.step=u,this.value=Object(a.f)(c,Object(a.g)(r),e.name||"bin_"+Object(a.h)(r))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(775),i=n(14),a=n(1);function o(e){i.g.call(this,[],e)}o.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},Object(a.y)(o,i.g).transform=function(e,t){var n=t.fork(t.ALL),a=Object(r.a)(i.t,this.value,n.materialize(n.ADD).add),o=e.sort,u=t.changed()||o&&(e.modified("sort")||t.modified(o.fields));return n.visit(n.REM,a.remove),this.modified(u),this.value=n.source=a.data(Object(i.q)(o),u),t.source&&t.source.root&&(this.value.root=t.source.root),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:Object(i.k)(e.fields,e.orders)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var o=Object(i.y)(a,r.g);o.transform=function(e,t){function n(t){return function(n){for(var r,i=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(u(n),e.case,a)||[],s=0,f=i.length;s<f;++s)o.test(r=i[s])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,u=e.field,s=e.as||["text","count"],f=n((function(e){i[e]=1+(i[e]||0)})),c=n((function(e){i[e]-=1}));return r?t.visit(t.SOURCE,f):(t.visit(t.ADD,f),t.visit(t.REM,c)),this._finish(t,s)},o._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},o._finish=function(e,t){var n,i,a,o=this._counts,u=this._tuples||(this._tuples={}),s=t[0],f=t[1],c=e.fork(e.NO_SOURCE|e.NO_FIELDS);for(n in o)i=u[n],a=o[n]||0,!i&&a?(u[n]=i=Object(r.l)({}),i[s]=n,i[f]=a,c.add.push(i)):0===a?(i&&c.rem.push(i),o[n]=null,u[n]=null):i[f]!==a&&(i[f]=a,c.mod.push(i));return c.modifies(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=this.value,o=e.as||["a","b"],u=o[0],s=o[1];return!a||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter")?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,i){for(var a,o,u=[],s={},f=e.length,c=0;c<f;++c)for(s[t]=o=e[c],a=0;a<f;++a)s[n]=e[a],i(s)&&(u.push(Object(r.l)(s)),(s={})[t]=o);return u}(a,u,s,e.filter||i.gb)):n.mod=a,n.source=this.value,n.modifies(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1338),i=n(14),a=n(72),o=n(1);function u(e){i.g.call(this,null,e)}var s=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],f={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:s},{name:"weights",type:"number",array:!0}]};u.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:s.concat(f)},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(o.y)(u,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var u=Object(r.a)(e.distribution,function(e){return function(){return e.materialize(e.SOURCE).source}}(t)),s=e.steps||e.minsteps||25,f=e.steps||e.maxsteps||200,c=e.method||"pdf";"pdf"!==c&&"cdf"!==c&&Object(o.n)("Invalid density method: "+c),e.extent||u.data||Object(o.n)("Missing density extent parameter."),c=u[c];var l=e.as||["value","density"],d=e.extent||Object(o.p)(u.data()),p=Object(a.E)(c,d,s,f).map(e=>{var t={};return t[l[0]]=e[0],t[l[1]]=e[1],Object(i.l)(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=p}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(339),i=n(14),a=n(72),o=n(1);function u(e){i.g.call(this,null,e)}u.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]};Object(o.y)(u,i.g).transform=function(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,u=Object(r.b)(t.source,e.groupby,o.x),s=e.smooth||!1,f=e.field,c=e.step||function(e,t){return Object(o.X)(Object(o.p)(e,t))/30}(n,f),l=Object(i.q)((e,t)=>f(e)-f(t)),d=e.as||"bin",p=u.length;let m,b=1/0,h=-1/0,g=0;for(;g<p;++g){const e=u[g].sort(l);m=-1;for(const t of Object(a.j)(e,c,s,f))t<b&&(b=t),t>h&&(h=t),e[++m][d]=t}return this.value={start:b,stop:h,step:c},t.reflow(!0).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,o,e),this.modified(!0)}function o(e){var t=e.expr;return this.value&&!e.modified("expr")?this.value:Object(i.f)(n=>t(n,e),Object(i.g)(t),Object(i.h)(t))}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[void 0,void 0],e)}a.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r=this.value,a=e.field,o=r[0],u=r[1];if(((n=t.changed()||t.modified(a.fields)||e.modified("field"))||null==o)&&(o=1/0,u=-1/0),t.visit(n?t.SOURCE:t.ADD,(function(e){var t=Object(i.cb)(a(e));null!=t&&(t<o&&(o=t),t>u&&(u=t))})),!Number.isFinite(o)||!Number.isFinite(u)){let e=Object(i.h)(a);e&&(e=` for field "${e}"`),t.dataflow.warn(`Infinite extent${e}: [${o}, ${u}]`),o=u=void 0}this.value=[o,u]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:Object(i.A)(e.name)?Object(i.i)(e.name).map((function(e){return Object(i.t)(e)})):Object(i.t)(e.name,e.as)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,Object(i.s)(),e)}a.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,i=this.value,a=t.fork(),o=a.add,u=a.rem,s=a.mod,f=e.expr,c=!0;function l(t){var n=Object(r.t)(t),a=f(t,e),l=i.get(n);a&&l?(i.delete(n),o.push(t)):a||l?c&&a&&!l&&s.push(t):(i.set(n,1),u.push(t))}return t.visit(t.REM,(function(e){var t=Object(r.t)(e);i.has(t)?i.delete(t):u.push(e)})),t.visit(t.ADD,(function(t){f(t,e)?o.push(t):i.set(Object(r.t)(t),1)})),t.visit(t.MOD,l),e.modified()&&(c=!1,t.visit(t.REFLOW,l)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(339),i=n(14),a=n(1);function o(e){i.g.call(this,[],e)}o.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},Object(a.y)(o,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,o=Object(r.a)(a,e.as||[]),u=e.index||null,s=o.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,r,f,c=a.map(t=>t(e)),l=c.reduce((e,t)=>Math.max(e,t.length),0),d=0;d<l;++d){for(r=Object(i.k)(e),t=0;t<s;++t)r[o[t]]=null==(f=c[t][d])?null:f;u&&(r[u]=d),n.add.push(r)}})),this.value=n.source=n.add,u&&n.modifies(u),n.modifies(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e)}a.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.fields,o=a.map(i.h),u=e.as||["key","value"],s=u[0],f=u[1],c=a.length;return n.rem=this.value,t.visit(t.SOURCE,(function(e){for(var t,i=0;i<c;++i)(t=Object(r.k)(e))[s]=o[i],t[f]=a[i](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(u)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},Object(i.y)(a,r.g).transform=function(e,t){var n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,t=>t[r]=n(t,e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e)}Object(i.y)(a,r.g).transform=function(e,t){var n,i,a,o=this.value,u=t.fork(t.ALL),s=e.size-o.length,f=e.generator;if(s>0){for(n=[];--s>=0;)n.push(a=Object(r.l)(f(e))),o.push(a);u.add=u.add.length?u.materialize(u.ADD).add.concat(n):n}else i=o.slice(0,-s),u.rem=u.rem.length?u.materialize(u.REM).rem.concat(i):i,o=o.slice(-s);return u.source=this.value=o,u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),i=n(1),a=n(1725),o=n(2044),u=n(873),s=n(450),f={value:"value",median:a.a,mean:o.a,min:u.a,max:s.a},c=[];function l(e){r.g.call(this,[],e)}l.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},Object(i.y)(l,r.g).transform=function(e,t){var n,a,o,u,s,l,d,p,m,b,h=t.fork(t.ALL),g=function(e){var t,n=e.method||f.value;if(null!=f[n])return n===f.value?(t=void 0!==e.value?e.value:0,function(){return t}):f[n];Object(i.n)("Unrecognized imputation method: "+n)}(e),y=function(e){var t=e.field;return function(e){return e?t(e):NaN}}(e),O=Object(i.h)(e.field),v=Object(i.h)(e.key),j=(e.groupby||[]).map(i.h),$=function(e,t,n,r){var i,a,o,u,s,f,l,d,p=function(e){return e(d)},m=[],b=r?r.slice():[],h={},g={};for(b.forEach((function(e,t){h[e]=t+1})),u=0,l=e.length;u<l;++u)d=e[u],f=n(d),s=h[f]||(h[f]=b.push(f)),a=(i=t?t.map(p):c)+"",(o=g[a])||(o=g[a]=[],m.push(o),o.values=i),o[s-1]=d;return m.domain=b,m}(t.source,e.groupby,e.key,e.keyvals),x=[],k=this.value,A=$.domain.length;for(s=0,p=$.length;s<p;++s)for(o=(n=$[s]).values,a=NaN,d=0;d<A;++d)if(null==n[d]){for(u=$.domain[d],b={_impute:!0},l=0,m=o.length;l<m;++l)b[j[l]]=o[l];b[v]=u,b[O]=Number.isNaN(a)?a=g(n,y):a,x.push(Object(r.l)(b))}return x.length&&(h.add=h.materialize(h.ADD).add.concat(x)),k.length&&(h.rem=h.materialize(h.REM).rem.concat(k)),this.value=x,h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(415),i=n(235),a=n(1);function o(e){r.a.call(this,e)}o.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:i.a},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var u=Object(a.y)(o,r.a);u.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs,!0))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,(function(e){r.add(e)}))):(n=r.value=r.value||this.init(e),t.visit(t.REM,(function(e){r.rem(e)})),t.visit(t.ADD,(function(e){r.add(e)}))),r.changes(),t.visit(t.SOURCE,(function(e){Object(a.o)(e,n[r.cellkey(e)].tuple)})),t.reflow(i).modifies(this._outputs)},u.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(339),i=n(72),a=n(14),o=n(1);function u(e){a.g.call(this,null,e)}u.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},Object(o.y)(u,a.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const u=t.materialize(t.SOURCE).source,s=Object(r.b)(u,e.groupby,e.field),f=(e.groupby||[]).map(o.h),c=e.bandwidth,l=e.cumulative?"cdf":"pdf",d=e.as||["value","density"],p=[];let m=e.extent,b=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;"pdf"!==l&&"cdf"!==l&&Object(o.n)("Invalid density method: "+l),"shared"===e.resolve&&(m||(m=Object(o.p)(u,e.field)),b=h=e.steps||h),s.forEach(t=>{const n=Object(i.r)(t,c)[l],r=e.counts?t.length:1,u=m||Object(o.p)(t);Object(i.E)(n,u,b,h).forEach(e=>{const n={};for(let e=0;e<f.length;++e)n[f[e]]=t.dims[e];n[d[0]]=e[0],n[d[1]]=e[1]*r,p.push(Object(a.l)(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=p}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:Object(i.I)(e.fields,e.flat)}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e),this._pending=null}function o(e,t,n){n.forEach(r.l);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=n,e._pending=null,i.rem.length&&i.clean(!0),i}Object(i.y)(a,r.g).transform=function(e,t){const n=t.dataflow;if(this._pending)return o(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return o(this,t,n.parse(e.values,e.format));if(e.async){return{async:n.request(e.url,e.format).then(e=>(this._pending=Object(i.i)(e.data),e=>e.touch(this)))}}return n.request(e.url,e.format).then(e=>o(this,t,Object(i.i)(e.data)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,{},e)}a.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r,a=t,o=e.as,u=e.fields,s=e.index,f=e.values,c=null==e.default?null:e.default,l=e.modified(),d=l?t.SOURCE:t.ADD,p=u.length;return f?(r=f.length,p>1&&!o&&Object(i.n)('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==p*r&&Object(i.n)('The "as" parameter has too few output field names.'),o=o||f.map(i.h),n=function(e){for(var t,n,i=0,a=0;i<p;++i)if(null==(n=s.get(u[i](e))))for(t=0;t<r;++t,++a)e[o[a]]=c;else for(t=0;t<r;++t,++a)e[o[a]]=f[t](n)}):(o||Object(i.n)("Missing output field names."),n=function(e){for(var t,n=0;n<p;++n)t=s.get(u[n](e)),e[o[n]]=null==t?c:t}),l?a=t.reflow(!0):d|=u.some((function(e){return t.modified(e.fields)}))?t.MOD:0,t.visit(d,n),a.modifies(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,o,e)}function o(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=1/0,a=-1/0,o=e.extents;for(t=0,n=o.length;t<n;++t)(r=o[t])[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.d.call(this,null,o,e)}function o(e){return this.value&&!e.modified()?this.value:e.values.reduce((function(e,t){return e.concat(t)}),[])}Object(i.y)(a,r.d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g),a.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(415),i=n(235),a=n(1);function o(e){r.a.call(this,e)}o.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:i.a,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var u=Object(a.y)(o,r.a);u._transform=u.transform,u.transform=function(e,t){return this._transform(function(e,t){var n=e.field,r=e.value,i=("count"===e.op?"__count__":e.op)||"sum",o=Object(a.g)(n).concat(Object(a.g)(r)),u=function(e,t,n){var r={},i=[];return n.visit(n.SOURCE,(function(t){var n=e(t);r[n]||(r[n]=1,i.push(n))})),i.sort((function(e,t){return(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0)})),t?i.slice(0,t):i}(n,e.limit||0,t);t.changed()&&e.set("__pivot__",null,null,!0);return{key:e.key,groupby:e.groupby,ops:u.map((function(){return i})),fields:u.map((function(e){return function(e,t,n,r){return Object(a.f)((function(r){return t(r)===e?n(r):NaN}),r,e+"")}(e,n,r,o)})),as:u.map((function(e){return e+""})),modified:e.modified.bind(e)}}(e,t),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(612),i=n(14),a=n(1);function o(e){r.a.call(this,e)}Object(a.y)(o,r.a).transform=function(e,t){const n=e.subflow,r=e.field,o=e=>this.subflow(Object(i.t)(e),n,t,e);return(e.modified("field")||r&&t.modified(Object(a.g)(r)))&&Object(a.n)("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,e=>{const t=o(e);r(e).forEach(e=>t.mod(e))}),t.visit(t.ADD,e=>{const t=o(e);r(e).forEach(e=>t.add(Object(i.l)(e)))}),t.visit(t.REM,e=>{const t=o(e);r(e).forEach(e=>t.rem(e))})):(t.visit(t.MOD,e=>o(e).mod(e)),t.visit(t.ADD,e=>o(e).add(e)),t.visit(t.REM,e=>o(e).rem(e))),t.clean()&&t.runAfter(()=>this.clean()),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(339),i=n(14),a=n(1);function o(e){i.g.call(this,null,e)}o.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},Object(a.y)(o,i.g).transform=function(e,t){var n,a,o=e.fields,u=Object(r.a)(e.fields,e.as||[]),s=o?function(e,t){return function(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}(e,t,o,u)}:i.o;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),n=t.fork(t.NO_SOURCE),t.visit(t.REM,(function(e){var t=Object(i.t)(e);n.rem.push(a[t]),a[t]=null})),t.visit(t.ADD,(function(e){var t=s(e,Object(i.l)({}));a[Object(i.t)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(function(e){n.mod.push(s(e,a[Object(i.t)(e)]))})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(339),i=n(14),a=n(72),o=n(1),u=n(402);function s(e){i.g.call(this,null,e)}s.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};var f=Object(o.y)(s,i.g);f.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const f=t.materialize(t.SOURCE).source,c=Object(r.b)(f,e.groupby,e.field),l=(e.groupby||[]).map(o.h),d=[],p=e.step||.01,m=e.probs||Object(u.a)(p/2,1-1e-14,p),b=m.length;return c.forEach(e=>{const t=Object(a.n)(e,m);for(let n=0;n<b;++n){const r={};for(let t=0;t<l.length;++t)r[l[t]]=e.dims[t];r[s[0]]=m[n],r[s[1]]=t[n],d.push(Object(i.l)(r))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,e=>{var t=Object(r.t)(e);n.rem.push(i[t]),i[t]=null}),t.visit(t.ADD,e=>{var t=Object(r.k)(e);i[Object(r.t)(e)]=t,n.add.push(t)}),t.visit(t.MOD,e=>{var t,a=i[Object(r.t)(e)];for(t in e)a[t]=e[t],n.modifies(t);n.mod.push(a)})),n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(72),a=n(1);function o(e){r.g.call(this,[],e),this.count=0}o.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},Object(a.y)(o,r.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE),a=e.modified("size"),o=e.size,u=this.value,s=this.count,f=0,c=u.reduce((function(e,t){return e[Object(r.t)(t)]=1,e}),{});function l(e){var t,a;u.length<o?u.push(e):(a=~~((s+1)*Object(i.p)()))<u.length&&a>=f&&(t=u[a],c[Object(r.t)(t)]&&n.rem.push(t),u[a]=e),++s}if(t.rem.length&&(t.visit(t.REM,(function(e){var t=Object(r.t)(e);c[t]&&(c[t]=-1,n.rem.push(e)),--s})),u=u.filter((function(e){return-1!==c[Object(r.t)(e)]}))),(t.rem.length||a)&&u.length<o&&t.source&&(f=s=u.length,t.visit(t.SOURCE,(function(e){c[Object(r.t)(e)]||l(e)})),f=-1),a&&u.length>o){for(var d=0,p=u.length-o;d<p;++d)c[Object(r.t)(u[d])]=-1,n.rem.push(u[d]);u=u.slice(p)}return t.mod.length&&t.visit(t.MOD,(function(e){c[Object(r.t)(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,l),(t.add.length||f<0)&&(n.add=u.filter((function(e){return!c[Object(r.t)(e)]}))),this.count=s,this.value=n.source=u,n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(1),a=n(402);function o(e){r.g.call(this,null,e)}o.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},Object(i.y)(o,r.g).transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD),i=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Object(a.a)(e.start,e.stop,e.step||1).map((function(e){var t={};return t[i]=e,Object(r.l)(t)})),n.add=t.add.concat(this.value),n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e),this.modified(!0)}Object(i.y)(a,r.g).transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(90),a=n(1);function o(e){r.g.call(this,null,e)}const u=["unit0","unit1"];o.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:i.j,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:u}]};var s=Object(a.y)(o,r.g);s.transform=function(e,t){var n=e.field,r=!1!==e.interval,o="utc"===e.timezone,s=this._floor(e,t),f=(o?i.v:i.p)(s.unit).offset,c=e.as||u,l=c[0],d=c[1],p=s.start||1/0,m=s.stop||-1/0,b=s.step,h=t.ADD;return(e.modified()||t.modified(Object(a.g)(n)))&&(h=(t=t.reflow(!0)).SOURCE,p=1/0,m=-1/0),t.visit(h,(function(e){var t,i,a=n(e);null==a?(e[l]=null,r&&(e[d]=null)):(e[l]=t=i=s(a),r&&(e[d]=i=f(t,b)),t<p&&(p=t),i>m&&(m=i))})),s.start=p,s.stop=m,t.modifies(r?c:l)},s._floor=function(e,t){const n="utc"===e.timezone;let{units:r,step:o}=e.units?{units:e.units,step:e.step||1}:Object(i.n)({extent:e.extent||Object(a.p)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins});r=Object(i.t)(r);const u=this.value||{},s=(n?i.u:i.o)(r,o);return s.unit=Object(a.U)(r),s.units=r,s.step=o,s.start=u.start,s.stop=u.stop,this.value=s}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,Object(i.s)(),e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,r=e.field,i=this.value,a=!0;function o(e){i.set(r(e),e)}return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,(function(e){i.delete(r(e))})),t.visit(t.ADD,o)):a=!1,this.modified(a),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(Object(r.q)(e.sort)):t.source).map(e.field))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(623),i=n(235),a=n(775),o=n(625),u=n(1339),s=n(14),f=n(1),c=n(655);function l(e){s.g.call(this,{},e),this._mlen=0,this._mods=[]}l.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:o.a.concat(i.a)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var d=Object(f.y)(l,s.g);function p(e,t,n,r){var i=r.sort,a=i&&!r.ignorePeers,o=r.frame||[null,0],u=e.data(n),s=u.length,l=0,d=a?Object(c.a)(i):null,p={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Object(f.l)(-1)};for(t.init();l<s;++l)m(p,o,l,s),a&&b(p,d),t.update(p,u[l])}function m(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function b(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}d.transform=function(e,t){var n,i,a=this,o=a.state,f=e.modified(),c=Object(s.q)(e.sort);this.stamp=t.stamp,o&&!f||(o=a.state=new u.a(e));var l=Object(r.a)(e.groupby);function d(e){return a.group(l(e))}for(f||t.modified(o.inputs)?(a.value={},t.visit(t.SOURCE,(function(e){d(e).add(e)}))):(t.visit(t.REM,(function(e){d(e).remove(e)})),t.visit(t.ADD,(function(e){d(e).add(e)}))),n=0,i=a._mlen;n<i;++n)p(a._mods[n],o,c,e);return a._mlen=0,a._mods=[],t.reflow(f).modifies(o.outputs)},d.group=function(e){var t=this.value[e];return t||((t=this.value[e]=Object(a.a)(s.t)).stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(34),i=n(14),a=n(76),o=n(1);function u(e){i.g.call(this,null,e)}function s(e,t,n){return t(e.bounds.clear(),e,n)}Object(o.y)(u,i.g).transform=function(e,t){var n,i=t.dataflow,o=e.mark,u=o.marktype,f=a.h[u],c=f.bound,l=o.bounds;if(f.nested)o.items.length&&i.dirty(o.items[0]),l=s(o,c),o.items.forEach((function(e){e.bounds.clear().union(l)}));else if(u===r.q||e.modified())switch(t.visit(t.MOD,e=>i.dirty(e)),l.clear(),o.items.forEach(e=>l.union(s(e,c))),o.role){case r.b:case r.s:case r.F:t.reflow()}else n=t.changed(t.REM),t.visit(t.ADD,e=>{l.union(s(e,c))}),t.visit(t.MOD,e=>{n=n||l.alignsWith(e.bounds),i.dirty(e),l.union(s(e,c))}),n&&(l.clear(),o.items.forEach(e=>l.union(e.bounds)));return Object(a.p)(o),t.modifies("bounds")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(169),i=n(713),a=n(525);function o(e){arguments.length?this.root=Object(a.a)(e):(this.root=s({marktype:"group",name:"root",role:"frame"}),this.root.items=[new i.a(this.root)])}var u=o.prototype;function s(e,t){const n={bounds:new r.a,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}u.toJSON=function(e){return Object(a.b)(this.root,e||0)},u.mark=function(e,t,n){var r=s(e,t=t||this.root.items[0]);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1009),i=n(367);function a(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function o(e,t){for(let n in e)s(n,t(e[n]))}const u={};function s(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(u[e]=t,this):u[e]}o(r.b,a),o(r.a,e=>Object(i.b)(a(e)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(463),i=n(35),a=n(196),o=n(1);function u(e,t,n){n=n||{};const u=Math.max(3,n.maxlen||7),s=function(e,t,n,u){const s=u||t.type;return Object(o.H)(n)&&Object(a.g)(s)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||s!==i.u?n||s!==i.v?Object(r.a)(e,t,5,null,n,u,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,n.format,n.formatType);if(Object(a.c)(t.type)){const e=Object(r.c)(t).slice(1).map(s),n=e.length;return`${n} boundar${1===n?"y":"ies"}: ${e.join(", ")}`}if(Object(a.b)(t.type)){const e=t.domain(),n=e.length;return`${n} value${1===n?"":"s"}: ${n>u?e.slice(0,u-2).map(s).join(", ")+", ending with "+e.slice(-1).map(s):e.map(s).join(", ")}`}{const e=t.domain();return`values from ${s(e[0])} to ${s(Object(o.U)(e))}`}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(179),i=n(1),a=n(169);function o(e,t,n){const r=[],o=(new a.a).union(t),f=e.marktype;return f?u(e,o,n,r):"group"===f?s(e,o,n,r):Object(i.n)("Intersect scene must be mark node or group item.")}function u(e,t,n,i){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const a=e.items,o=e.marktype,u=a.length;let c=0;if("group"===o)for(;c<u;++c)s(a[c],t,n,i);else for(const e=r.a[o].isect;c<u;++c){let n=a[c];f(n,t,e)&&i.push(n)}}return i}function s(e,t,n,i){n&&n(e.mark)&&f(e,t,r.a.group.isect)&&i.push(e);const a=e.items,o=a&&a.length;if(o){const r=e.x||0,s=e.y||0;t.translate(-r,-s);for(let e=0;e<o;++e)u(a[e],t,n,i);t.translate(r,s)}return i}function f(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}},function(e,t,n){"use strict";var r=n(169),i=n(332),a=n(1),o=new r.a;t.a=function(e){var t=e.clip;if(Object(a.D)(t))t(Object(i.a)(o.clear()));else{if(!t)return;o.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,0,e)}a.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},Object(i.y)(a,r.g).transform=function(e,t){var n=function(e){var t=e._signals[":vega_identifier:"];t||(e._signals[":vega_identifier:"]=t=e.add(0));return t}(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,e=>{e[i]||(e[i]=++r)}),n.set(this.value=r),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(34),i=n(14),a=n(76),o=n(1);function u(e){i.g.call(this,null,e)}Object(o.y)(u,i.g).transform=function(e,t){var n=this.value;n||((n=t.dataflow.scenegraph().mark(e.markdef,function(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index)).group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);var i=n.marktype===r.q?a.e:a.g;return t.visit(t.ADD,e=>i.call(e,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(34),i=n(14),a=n(76),o=n(1);function u(e){i.g.call(this,null,e)}var s=Object(o.y)(u,i.g),f={parity:e=>e.filter((e,t)=>t%2?e.opacity=0:1),greedy:(e,t)=>{var n;return e.filter((e,r)=>r&&c(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1))}};function c(e,t,n){return n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2)}function l(e,t){for(var n,r=1,i=e.length,a=e[0].bounds;r<i;a=n,++r)if(c(a,n=e[r].bounds,t))return!0}function d(e){var t=e.bounds;return t.width()>1&&t.height()>1}function p(e){return e.forEach(e=>e.opacity=1),e}function m(e,t){return e.reflow(t.modified()).modifies("opacity")}s.transform=function(e,t){var n,i,u,s=f[e.method]||f.parity,c=t.materialize(t.SOURCE).source,b=e.separation||0;if(c&&c.length){if(!e.method)return e.modified("method")&&(p(c),t=m(t,e)),t;if((c=c.filter(d)).length){if(e.sort&&(c=c.slice().sort(e.sort)),n=p(c),t=m(t,e),n.length>=3&&l(n,b)){do{n=s(n,b)}while(n.length>=3&&l(n,b));n.length<3&&!Object(o.U)(c).opacity&&(n.length>1&&(Object(o.U)(n).opacity=0),Object(o.U)(c).opacity=1)}var h,g,y,O,v;return e.boundScale&&e.boundTolerance>=0&&(h=e.boundScale,g=e.boundOrient,y=+e.boundTolerance,O=h.range(),v=new a.a,g===r.G||g===r.c?v.set(O[0],-1/0,O[1],1/0):v.set(-1/0,O[0],1/0,O[1]),v.expand(y||1),i=e=>v.encloses(e.bounds),c.forEach(e=>{i(e)||(e.opacity=0)})),u=n[0].mark.bounds.clear(),c.forEach(e=>{e.opacity&&u.union(e.bounds)}),t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,e=>n.dirty(e)),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(34),i=n(1010),a=n(1011),o=n(1012),u=n(1368),s=n(14),f=n(76),c=n(1);function l(e){s.g.call(this,null,e)}Object(c.y)(l,s.g).transform=function(e,t){var n,s=t.dataflow;return e.mark.items.forEach(t=>{e.layout&&Object(a.b)(s,t,e.layout),function(e,t,n){var s,c,l,d,p,m=t.items,b=Math.max(0,t.width||0),h=Math.max(0,t.height||0),g=(new f.a).set(0,0,b,h),y=g.clone(),O=g.clone(),v=[];for(d=0,p=m.length;d<p;++d)switch((c=m[d]).role){case r.b:(Object(i.b)(c)?y:O).union(Object(i.a)(e,c,b,h));break;case r.F:s=c;break;case r.s:v.push(Object(o.a)(e,c));break;case r.p:case r.C:case r.A:case r.z:case r.B:case r.g:case r.f:case r.h:y.union(c.bounds),O.union(c.bounds);break;default:g.union(c.bounds)}if(v.length){const t={};v.forEach(e=>{(l=e.orient||r.x)!==r.u&&(t[l]||(t[l]=[])).push(e)});for(let r in t){const i=t[r];Object(a.a)(e,i,Object(o.b)(i,r,n.legends,y,O,b,h))}v.forEach(t=>{const i=t.bounds;if(i.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=i,e.dirty(t)),n.autosize&&n.autosize.type===r.l)switch(t.orient){case r.r:case r.x:g.add(i.x1,0).add(i.x2,0);break;case r.G:case r.c:g.add(0,i.y1).add(0,i.y2)}else g.union(i)})}g.union(y).union(O),s&&g.union(Object(u.a)(e,s,b,h,g));t.clip&&g.set(0,0,t.width||0,t.height||0);!function(e,t,n,i){const a=i.autosize||{},o=a.type;if(e._autosize<1||!o)return;let u=e._width,s=e._height,f=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),l=Math.max(0,Math.ceil(n.x2-f)),d=Math.max(0,t.height||0),p=Math.max(0,Math.ceil(-n.y1)),m=Math.max(0,Math.ceil(n.y2-d));if(a.contains===r.w){const t=e.padding();u-=t.left+t.right,s-=t.top+t.bottom}o===r.u?(c=0,p=0,f=u,d=s):o===r.l?(f=Math.max(0,u-c-l),d=Math.max(0,s-p-m)):o===r.m?(f=Math.max(0,u-c-l),s=d+p+m):o===r.n?(u=f+c+l,d=Math.max(0,s-p-m)):o===r.v&&(u=f+c+l,s=d+p+m);e._resizeView(u,s,f,d,[c,p],a.resize)}(e,t,g,n)}(s,t,e)}),(n=e.mark.group)&&"legend-entry"!==n.mark.role?t.reflow():t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(47),a=n(1);function o(e){r.g.call(this,null,e)}Object(a.y)(o,r.g).transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,u=e.scale,s=null==e.count?e.values?e.values.length:10:e.count,f=Object(i.M)(u,s,e.minstep),c=e.format||Object(i.N)(n,u,f,e.formatSpecifier,e.formatType,!!e.values),l=e.values?Object(i.P)(u,e.values,f):Object(i.O)(u,f);return o&&(a.rem=o),o=l.map((function(e,t){return Object(r.l)({index:t/(l.length-1||1),value:e,label:c(e)})})),e.extra&&o.length&&o.push(Object(r.l)({index:-1,extra:{value:o[0].value},label:""})),a.source=o,a.add=o,this.value=o,a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}function o(){return Object(r.l)({})}Object(i.y)(a,r.g).transform=function(e,t){var n=t.dataflow,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=e.item||o,s=e.key||r.t,f=this.value;return Object(i.A)(a.encode)&&(a.encode=null),f&&(e.modified("key")||t.modified(s))&&Object(i.n)("DataJoin does not support modified key function or fields."),f||(t=t.addAll(),this.value=f=function(e){const t=Object(i.s)().test(e=>e.exit);return t.lookup=n=>t.get(e(n)),t}(s)),t.visit(t.ADD,e=>{const t=s(e);let n=f.get(t);n?n.exit?(f.empty--,a.add.push(n)):a.mod.push(n):(n=u(e),f.set(t,n),a.add.push(n)),n.datum=e,n.exit=!1}),t.visit(t.MOD,e=>{const t=s(e),n=f.get(t);n&&(n.datum=e,a.mod.push(n))}),t.visit(t.REM,e=>{const t=s(e),n=f.get(t);e!==n.datum||n.exit||(a.rem.push(n),n.exit=!0,++f.empty)}),t.changed(t.ADD_MOD)&&a.modifies("datum"),(t.clean()||e.clean&&f.empty>n.cleanThreshold)&&n.runAfter(f.clean),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,a=e.encoders,o=t.encode;if(Object(i.A)(o)){if(!n.changed()&&!o.every((function(e){return a[e]})))return t.StopPropagation;o=o[0],n.encode=null}var u="enter"===o,s=a.update||i.r,f=a.enter||i.r,c=a.exit||i.r,l=(o&&!u?a[o]:s)||i.r;if(t.changed(t.ADD)&&(t.visit(t.ADD,(function(t){f(t,e),s(t,e)})),n.modifies(f.output),n.modifies(s.output),l!==i.r&&l!==s&&(t.visit(t.ADD,(function(t){l(t,e)})),n.modifies(l.output))),t.changed(t.REM)&&c!==i.r&&(t.visit(t.REM,(function(t){c(t,e)})),n.modifies(c.output)),u||l!==i.r){var d=t.MOD|(e.modified()?t.REFLOW:0);u?(t.visit(d,(function(t){var i=f(t,e)||r;(l(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(f.output)):t.visit(d,(function(t){(l(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)}return n.changed()?n:t.StopPropagation}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(47),a=n(1);function o(e){r.g.call(this,[],e)}Object(a.y)(o,r.g).transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,o,u,s,f,c=t.dataflow.locale(),l=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=this.value,p=e.type||i.n,m=e.scale,b=+e.limit,h=Object(i.M)(m,null==e.count?5:e.count,e.minstep),g=!!e.values||p===i.n,y=e.format||Object(i.E)(c,m,h,p,e.formatSpecifier,e.formatType,g),O=e.values||Object(i.G)(m,h);return d&&(l.rem=d),p===i.n?(b&&O.length>b?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),d=O.slice(0,b-1),f=!0):d=O,Object(a.D)(u=e.size)?(e.values||0!==m(d[0])||(d=d.slice(1)),s=d.reduce((function(t,n){return Math.max(t,u(n,e))}),0)):u=Object(a.l)(s=u||8),d=d.map((function(t,n){return Object(r.l)({index:n,label:y(t,n,d),value:t,offset:s,size:u(t,e)})})),f&&(f=O[d.length],d.push(Object(r.l)({index:d.length,label:`…${O.length-d.length} entries`,value:f,offset:s,size:u(f,e)})))):p===i.d?(n=m.domain(),o=Object(i.J)(m,n[0],Object(a.U)(n)),O.length<3&&!e.values&&n[0]!==Object(a.U)(n)&&(O=[n[0],Object(a.U)(n)]),d=O.map((function(e,t){return Object(r.l)({index:t,label:y(e,t,O),value:e,perc:o(e)})}))):(u=O.length-1,o=Object(i.F)(m),d=O.map((function(e,t){return Object(r.l)({index:t,label:y(e,t,O),value:e,perc:t?o(e):0,perc2:t===u?1:o(O[t+1])})}))),l.source=d,l.add=d,this.value=d,l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),i=n(1),a=Object(i.s)({line:l,"line-radial":function(e,t,n,r){return l(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},arc:d,"arc-radial":function(e,t,n,r){return d(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},curve:p,"curve-radial":function(e,t,n,r){return p(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))},"orthogonal-horizontal":function(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n},"orthogonal-vertical":function(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r},"orthogonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n),s=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(s?1:0)+" "+t*o+","+t*u+"L"+r*o+","+r*u},"diagonal-horizontal":function(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},"diagonal-vertical":function(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},"diagonal-radial":function(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),u=Math.sin(n),s=(t+r)/2;return"M"+t*i+","+t*a+"C"+s*i+","+s*a+" "+s*o+","+s*u+" "+r*o+","+r*u}});function o(e){return e.source.x}function u(e){return e.source.y}function s(e){return e.target.x}function f(e){return e.target.y}function c(e){r.g.call(this,{},e)}function l(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function d(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+n+","+r}function p(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),u=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+u)+" "+(n+u)+","+(r-o)+" "+n+","+r}c.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},Object(i.y)(c,r.g).transform=function(e,t){var n=e.sourceX||o,r=e.sourceY||u,c=e.targetX||s,l=e.targetY||f,d=e.as||"path",p=e.orient||"vertical",m=e.shape||"line",b=a.get(m+"-"+p)||a.get(m);return b||Object(i.n)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(function(e){e[d]=b(n(e),r(e),c(e),l(e))})),t.reflow(e.modified()).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(14),i=n(1),a=n(1729),o=n(402);function u(e){r.g.call(this,null,e)}u.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},Object(i.y)(u,r.g).transform=function(e,t){var n,r,u,s=e.as||["startAngle","endAngle"],f=s[0],c=s[1],l=e.field||i.O,d=e.startAngle||0,p=null!=e.endAngle?e.endAngle:2*Math.PI,m=t.source,b=m.map(l),h=b.length,g=d,y=(p-d)/Object(a.a)(b),O=Object(o.a)(h);for(e.sort&&O.sort((function(e,t){return b[e]-b[t]})),n=0;n<h;++n)u=b[O[n]],(r=m[O[n]])[f]=g,r[c]=g+=u*y;return this.value=b,t.reflow(e.modified()).modifies(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),i=n(1),a=n(47),o=n(402),u=n(567),s=n(349);function f(e){return Object(a.x)(e)&&e!==a.l}var c=Object(i.db)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function l(e){r.g.call(this,null,e),this.modified(!0)}function d(e,t,n){Object(a.B)(e)&&(Math.abs(t.reduce((function(e,t){return e+(t<0?-1:t>0?1:0)}),0))!==t.length&&n.warn("Log scale domain includes zero: "+Object(i.Z)(t)));return t}function p(e,t,n){return Object(i.D)(e)&&(t||n)?Object(a.w)(e,m(t||[0,1],n)):e}function m(e,t){return t?e.slice().reverse():e}Object(i.y)(l,r.g).transform=function(e,t){var n=t.dataflow,r=this.value,l=function(e){var t,n=e.type,r="";if(n===a.l)return a.l+"-"+a.e;(function(e){const t=e.type;return Object(a.x)(t)&&t!==a.q&&t!==a.r&&(e.scheme||e.range&&e.range.length&&e.range.every(i.H))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,r=2===t?a.l+"-":3===t?a.c+"-":"");return(r+n||a.e).toLowerCase()}(e);for(l in r&&l===r.type||(this.value=r=Object(a.I)(l)()),e)if(!c[l]){if("padding"===l&&f(r.type))continue;Object(i.D)(r[l])?r[l](e[l]):n.warn("Unsupported scale property: "+l)}return function(e,t,n){var r=e.type,o=t.round||!1,f=t.range;if(null!=t.rangeStep)f=function(e,t,n){e!==a.a&&e!==a.h&&Object(i.n)("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,o=e===a.h?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*Object(a.s)(n,o,r)]}(r,t,n);else if(t.scheme&&(f=function(e,t,n){var r,o,u=t.schemeExtent;Object(i.A)(t.scheme)?o=Object(a.v)(t.scheme,t.interpolate,t.interpolateGamma):(r=t.scheme.toLowerCase(),(o=Object(a.L)(r))||Object(i.n)("Unrecognized scheme name: "+t.scheme));return n=e===a.p?n+1:e===a.b?n-1:e===a.j||e===a.k?+t.schemeCount||5:n,Object(a.A)(e)?p(o,u,t.reverse):Object(i.D)(o)?Object(a.H)(p(o,u),n):e===a.g?o:o.slice(0,n)}(r,t,n),Object(i.D)(f))){if(e.interpolator)return e.interpolator(f);Object(i.n)(`Scale type ${r} does not support interpolating color schemes.`)}if(f&&Object(a.A)(r))return e.interpolator(Object(a.v)(m(f,t.reverse),t.interpolate,t.interpolateGamma));f&&t.interpolate&&e.interpolate?e.interpolate(Object(a.u)(t.interpolate,t.interpolateGamma)):Object(i.D)(e.round)?e.round(o):Object(i.D)(e.rangeRound)&&e.interpolate(o?u.a:s.a);f&&e.range(m(f,t.reverse))}(r,e,function(e,t,n){let r=t.bins;if(r&&!Object(i.A)(r)){let t=e.domain(),n=t[0],a=Object(i.U)(t),u=null==r.start?n:r.start,s=null==r.stop?a:r.stop,f=r.step;f||Object(i.n)("Scale bins parameter missing step property."),u<n&&(u=f*Math.ceil(n/f)),s>a&&(s=f*Math.floor(a/f)),r=Object(o.a)(u,s+f/2,f)}r?e.bins=r:e.bins&&delete e.bins;e.type===a.b&&(r?t.domain||t.domainRaw||(e.domain(r),n=r.length):e.bins=e.domain());return n}(r,e,function(e,t,n){var r=function(e,t,n){return t?(e.domain(d(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(r>-1)return r;var o,u,s=t.domain,c=e.type,l=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===a.e||t===a.i||t===a.m)}(e);if(!s)return 0;f(c)&&t.padding&&s[0]!==Object(i.U)(s)&&(s=function(e,t,n,r,o,u){var s=Math.abs(Object(i.U)(n)-n[0]),f=s/(s-2*r),c=e===a.f?Object(i.mb)(t,null,f):e===a.m?Object(i.nb)(t,null,f,.5):e===a.i?Object(i.nb)(t,null,f,o||1):e===a.o?Object(i.ob)(t,null,f,u||1):Object(i.lb)(t,null,f);return(t=t.slice())[0]=c[0],t[t.length-1]=c[1],t}(c,s,t.range,t.padding,t.exponent,t.constant));if((l||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(o=(s=s.slice()).length-1||1,l&&(s[0]>0&&(s[0]=0),s[o]<0&&(s[o]=0)),null!=t.domainMin&&(s[0]=t.domainMin),null!=t.domainMax&&(s[o]=t.domainMax),null!=t.domainMid)){const e=(u=t.domainMid)>s[o]?o+1:u<s[0]?0:o;e!==o&&n.warn("Scale domainMid exceeds domain min or max.",u),s.splice(e,0,u)}e.domain(d(c,s,n)),c===a.g&&e.unknown(t.domainImplicit?a.K:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&Object(a.M)(e,t.nice)||null);return s.length}(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}Object(i.y)(a,r.g).transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(Object(r.q)(e.sort)),this.modified(n),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(1),a=["y0","y1"];function o(e){r.g.call(this,null,e)}function u(e,t,n,r,i){for(var a,o=(t-e.sum)/2,u=e.length,s=0;s<u;++s)(a=e[s])[r]=o,a[i]=o+=Math.abs(n(a))}function s(e,t,n,r,i){for(var a,o=1/e.sum,u=0,s=e.length,f=0,c=0;f<s;++f)(a=e[f])[r]=u,a[i]=u=o*(c+=Math.abs(n(a)))}function f(e,t,n,r,i){for(var a,o,u=0,s=0,f=e.length,c=0;c<f;++c)(a=+n(o=e[c]))<0?(o[r]=s,o[i]=s+=a):(o[r]=u,o[i]=u+=a)}o.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:a}]},Object(i.y)(o,r.g).transform=function(e,t){var n,o,c,l,d=e.as||a,p=d[0],m=d[1],b=Object(r.q)(e.sort),h=e.field||i.O,g="center"===e.offset?u:"normalize"===e.offset?s:f;for(n=function(e,t,n,r){var i,a,o,u,s,f,c,l,d,p=[],m=function(e){return e(s)};if(null==t)p.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)s=e[a],f=t.map(m),(c=i[f])||(i[f]=c=[],p.push(c)),c.push(s);for(f=0,d=0,u=p.length;f<u;++f){for(c=p[f],a=0,l=0,o=c.length;a<o;++a)l+=Math.abs(r(c[a]));c.sum=l,l>d&&(d=l),n&&c.sort(n)}return p.max=d,p}(t.source,e.groupby,b,h),o=0,c=n.length,l=n.max;o<c;++o)g(n[o],l,h,p,m);return t.reflow(e.modified()).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),i=n(1),a=n(726),o=n(727),u=n(780),s=n(782),f=n(781);function c(e){r.g.call(this,null,e)}c.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},Object(i.y)(c,r.g).transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,c,l=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=Object(u.a)().smooth(!1!==e.smooth),p=e.values,m=e.thresholds||Object(f.a)(e.count||10,e.nice,!!p),b=e.size;return p||(p=t.materialize(t.SOURCE).source,n=Object(o.b)(Object(s.a)(),e)(p,!0),c=Object(a.b)(n,n.scale||1,n.scale||1,0,0),b=[n.width,n.height],p=n.values),m=Object(i.A)(m)?m:m(p),p=d.size(b)(p,m),c&&p.forEach(c),this.value&&(l.rem=this.value),this.value=l.source=l.add=(p||[]).map(r.l),l}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(393),i=n(14),a=n(1);function o(e){i.g.call(this,null,e)}o.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},Object(a.y)(o,i.g).transform=function(e,t){var n,i=this._features,o=this._points,u=e.fields,s=u&&u[0],f=u&&u[1],c=e.geojson||!u&&a.x,l=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(a.g)(c))||s&&t.modified(Object(a.g)(s))||f&&t.modified(Object(a.g)(f)),this.value&&!n||(l=t.SOURCE,this._features=i=[],this._points=o=[]),c&&t.visit(l,(function(e){i.push(c(e))})),s&&f&&(t.visit(l,(function(e){var t=s(e),n=f(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&o.push([t,n])})),i=i.concat({type:r.a,geometry:{type:r.c,coordinates:o}})),this.value={type:r.b,features:i}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(340),a=n(1);function o(e){r.g.call(this,null,e)}o.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},Object(a.y)(o,r.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,o=e.field||a.x,u=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=Object(i.a)(e.projection),n.materialize().reflow()):s=o===a.x||t.modified(o.fields)?n.ADD_MOD:n.ADD;var f=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(r,e.pointRadius);return n.visit(s,(function(e){e[u]=r(o(e))})),r.pointRadius(f),n.modifies(u)}},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},Object(i.y)(a,r.g).transform=function(e,t){var n,r=e.projection,i=e.fields[0],a=e.fields[1],o=e.as||["x","y"],u=o[0],s=o[1];function f(e){var t=r([i(e),a(e)]);t?(e[u]=t[0],e[s]=t[1]):(e[u]=void 0,e[s]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,f):(n=t.modified(i.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,f)),t.modifies(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(340),a=n(1);function o(e){r.g.call(this,null,e)}o.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},Object(a.y)(o,r.g).transform=function(e,t){var n=t.fork(t.ALL),r=this.value,o=e.as||"shape",u=n.ADD;return r&&!e.modified()||(this.value=r=function(e,t,n){var r=null==n?function(n){return e(t(n))}:function(r){var i=e.pointRadius(),a=e.pointRadius(n)(t(r));return e.pointRadius(i),a};return r.context=function(t){return e.context(t),r},r}(Object(i.a)(e.projection),e.field||Object(a.t)("datum"),e.pointRadius),n.materialize().reflow(),u=n.SOURCE),n.visit(u,(function(e){e[o]=r})),n.modifies(o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(1),a=n(2066);function o(e){r.g.call(this,[],e),this.generator=Object(a.a)()}o.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},Object(i.y)(o,r.g).transform=function(e,t){var n,a=this.value,o=this.generator;if(!a.length||e.modified())for(var u in e)Object(i.D)(o[u])&&o[u](e[u]);return n=o(),a.length?t.mod.push(Object(r.p)(a[0],n)):t.add.push(Object(r.l)(n)),a[0]=n,t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(450),i=n(144),a=n(288),o=n(14),u=n(1);function s(e){o.g.call(this,null,e)}function f(e){if(!Object(u.D)(e))return!1;const t=Object(u.db)(Object(u.g)(e));return t.$x||t.$y||t.$value||t.$max}s.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},Object(u.y)(s,o.g).transform=function(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,o="shared"===e.resolve,s=e.field||u.x,c=function(e,t){let n;Object(u.D)(e)?(n=n=>e(n,t),n.dep=f(e)):e?n=Object(u.l)(e):(n=e=>e.$value/e.$max||0,n.dep=!0);return n}(e.opacity,e),l=function(e,t){let n;Object(u.D)(e)?(n=n=>Object(i.g)(e(n,t)),n.dep=f(e)):n=Object(u.l)(Object(i.g)(e||"#888"));return n}(e.color,e),d=e.as||"image",p={$x:0,$y:0,$value:0,$max:o?Object(r.a)(n.map(e=>Object(r.a)(s(e).values))):0};return n.forEach(e=>{const t=s(e),n=Object(u.o)({},e,p);o||(n.$max=Object(r.a)(t.values||[])),e[d]=function(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,f=e.y1||0,c=e.x2||i,l=e.y2||o,d=e.values,p=d?e=>d[e]:u.kb,m=Object(a.a)(c-s,l-f),b=m.getContext("2d"),h=b.getImageData(0,0,c-s,l-f),g=h.data;for(let e=f,a=0;e<l;++e){t.$y=e-f;for(let o=s,u=e*i;o<c;++o,a+=4){t.$x=o-s,t.$value=p(o+u);const e=n(t);g[a+0]=e.r,g[a+1]=e.g,g[a+2]=e.b,g[a+3]=~~(255*r(t))}}return b.putImageData(h,0,0),m}(t,n,l.dep?l:Object(u.l)(l(n)),c.dep?c:Object(u.l)(c(n)))}),t.reflow(!0).modifies(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(393),i=n(14),a=n(340),o=n(1);function u(e){i.g.call(this,null,e),this.modified(!0)}function s(e,t,n){Object(o.D)(e[t])&&e[t](n)}Object(o.y)(u,i.g).transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=function(e){var t=Object(a.b)((e||"mercator").toLowerCase());t||Object(o.n)("Unrecognized projection type: "+e);return t()}(e.type),a.c.forEach((function(t){null!=e[t]&&s(n,t,e[t])}))):a.c.forEach((function(t){e.modified(t)&&s(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(o.i)(e)).length?e[0]:{type:r.b,features:e.reduce((e,t)=>e.concat(function(e){return e.type===r.b?e.features:Object(o.i)(e).filter(e=>null!=e).map(e=>e.type===r.a?e:{type:r.a,geometry:e})}(t)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),i=n(1),a=n(451),o={center:a.a,collide:a.b,nbody:a.d,link:a.c,x:a.f,y:a.g},u=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],s=["static","iterations"],f=["x","y","vx","vy"];function c(e){r.g.call(this,null,e)}c.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:f}]};var l=Object(i.y)(c,r.g);function d(e,t,n,r){var a,o,s,f,c=Object(i.i)(t.forces);for(a=0,o=u.length;a<o;++a)"forces"!==(s=u[a])&&t.modified(s)&&e[s](t[s]);for(a=0,o=c.length;a<o;++a)f="forces"+a,(s=n||t.modified("forces",a)?m(c[a]):r&&p(c[a],r)?e.force(f):null)&&e.force(f,s);for(o=e.numForces||0;a<o;++a)e.force("forces"+a,null);return e.numForces=c.length,e}function p(e,t){var n,r;for(n in e)if(Object(i.D)(r=e[n])&&t.modified(Object(i.g)(r)))return 1;return 0}function m(e){var t,n;for(n in Object(i.v)(o,e.force)||Object(i.n)("Unrecognized force: "+e.force),t=o[e.force](),e)Object(i.D)(t[n])&&b(t[n],e[n],e);return t}function b(e,t,n){e(Object(i.D)(t)?function(e){return t(e,n)}:t)}l.transform=function(e,t){var n,r,i=this.value,o=t.changed(t.ADD_REM),f=e.modified(u),c=e.iterations||300;if(i?(o&&(t.modifies("index"),i.nodes(t.source)),(f||t.changed(t.MOD))&&d(i,e,0,t)):(this.value=i=function(e,t){var n=Object(a.e)(e),r=!1,i=n.stop,o=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,o()},n.stop=function(){return r=!0,i()},d(n,t,!0).on("end",(function(){r=!0}))}(t.source,e),i.on("tick",(n=t.dataflow,r=this,function(){n.touch(r).run()})),e.static||(o=!0,i.tick()),t.modifies("index")),f||o||e.modified(s)||t.changed()&&e.restart)if(i.alpha(Math.max(i.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/c)),e.static)for(i.stop();--c>=0;)i.tick();else if(i.stopped()&&i.restart(),!o)return t.StopPropagation;return this.finish(e,t)},l.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if("forces"===(n=i[a]).name&&"link"===n.op._argval.force)for(var u,s=n.op._argops,c=0,l=s.length;c<l;++c)if("links"===s[c].name&&(u=s[c].op.source)){r.pulse(u,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(f)}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(634),i=n(14),a=n(1),o=n(573);function u(e){i.g.call(this,null,e)}function s(e){return e.values}function f(){var e,t=[];return e={entries:e=>function e(n,r){if(++r>t.length)return n;var i,a=[];for(i in n)a.push({key:i,values:e(n[i],r)});return a}(function e(n,r){if(r>=t.length)return n;for(var i,a,o,u=-1,s=n.length,f=t[r++],c={},l={};++u<s;)(o=c[i=f(a=n[u])+""])?o.push(a):c[i]=[a];for(i in c)l[i]=e(c[i],r);return l}(e,0),0),key:n=>(t.push(n),e)}}u.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},Object(a.y)(u,i.g).transform=function(e,t){t.source||Object(a.n)("Nest transform requires an upstream data source.");var n=e.generate,u=e.modified(),c=t.clone(),l=this.value;return(!l||u||t.changed())&&(l&&l.each(e=>{e.children&&Object(i.n)(e.data)&&c.rem.push(e.data)}),this.value=l=Object(o.c)({values:Object(a.i)(e.keys).reduce((e,t)=>(e.key(t),e),f()).entries(c.source)},s),n&&l.each(e=>{e.children&&(e=Object(i.l)(e.data),c.add.push(e),c.source.push(e))}),Object(r.a)(l,i.t,i.t)),c.source.root=l,c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(302),i=n(1),a=n(2068),o=["x","y","r","depth","children"];function u(e){r.a.call(this,e)}u.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:o.length,default:o}]};var s=Object(i.y)(u,r.a);s.layout=a.a,s.params=["radius","size","padding"],s.fields=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(302),i=n(1),a=n(2069),o=["x0","y0","x1","y1","depth","children"];function u(e){r.a.call(this,e)}u.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:o.length,default:o}]};var s=Object(i.y)(u,r.a);s.layout=a.a,s.params=["size","round","padding"],s.fields=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(634),i=n(14),a=n(1),o=n(1733);function u(e){i.g.call(this,null,e)}u.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},Object(a.y)(u,i.g).transform=function(e,t){t.source||Object(a.n)("Stratify transform requires an upstream data source.");var n=this.value,i=e.modified(),u=t.fork(t.ALL).materialize(t.SOURCE),s=!this.value||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return u.source=u.source.slice(),s&&(n=u.source.length?Object(r.a)(Object(o.a)().id(e.key).parentId(e.parentKey)(u.source),e.key,a.gb):Object(r.a)(Object(o.a)()([{}]),e.key,e.key)),u.source.root=this.value=n,u}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(302),i=n(1),a=n(2070),o=n(2071),u={tidy:a.a,cluster:o.a},s=["x","y","depth","children"];function f(e){r.a.call(this,e)}f.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:s.length,default:s}]};var c=Object(i.y)(f,r.a);c.layout=function(e){var t=e||"tidy";if(Object(i.v)(u,t))return u[t]();Object(i.n)("Unrecognized Tree layout method: "+t)},c.params=["size","nodeSize"],c.fields=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,[],e)}a.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(i.y)(a,r.g).transform=function(e,t){var n=this.value,a=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),u={};return a||Object(i.n)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=n,t.visit(t.SOURCE,(function(e){u[Object(r.t)(e)]=1})),a.each((function(e){var t=e.data,n=e.parent&&e.parent.data;n&&u[Object(r.t)(t)]&&u[Object(r.t)(n)]&&o.add.push(Object(r.l)({source:n,target:t}))})),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,(function(e){u[Object(r.t)(e)]=1})),n.forEach((function(e){(u[Object(r.t)(e.source)]||u[Object(r.t)(e.target)])&&o.mod.push(e)}))),o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(302),i=n(1),a=n(2072),o=n(372),u=n(477),s=n(2073),f=n(574),c=n(2074),l=n(2075),d={binary:a.a,dice:o.a,slice:u.a,slicedice:s.a,squarify:f.a,resquarify:c.a},p=["x0","y0","x1","y1","depth","children"];function m(e){r.a.call(this,e)}m.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:p.length,default:p}]};var b=Object(i.y)(m,r.a);b.layout=function(){var e=Object(l.a)();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){Object(i.v)(d,t)?e.tile(d[t]):Object(i.n)("Unrecognized Treemap layout method: "+t)},e},b.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],b.fields=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(789),i=n(72),a=n(14),o=n(1);function u(e){a.g.call(this,null,e)}u.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},Object(o.y)(u,a.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const u=t.materialize(t.SOURCE).source,s=Object(r.a)(u,e.groupby),f=(e.groupby||[]).map(o.h),c=f.length,l=e.as||[Object(o.h)(e.x),Object(o.h)(e.y)],d=[];s.forEach(t=>{Object(i.z)(t,e.x,e.y,e.bandwidth||.3).forEach(e=>{const n={};for(let e=0;e<c;++e)n[f[e]]=t.dims[e];n[l[0]]=e[0],n[l[1]]=e[1],d.push(Object(a.l)(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(789),i=n(14),a=n(72),o=n(1);const u={linear:a.y,log:a.A,exp:a.x,pow:a.C,quad:a.D,poly:a.B};function s(e){i.g.call(this,null,e)}s.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(u)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},Object(o.y)(s,i.g).transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=t.materialize(t.SOURCE).source,f=Object(r.a)(s,e.groupby),c=(e.groupby||[]).map(o.h),l=e.method||"linear",d=e.order||3,p=function(e,t){return"poly"===e?t:"quad"===e?2:1}(l,d),m=e.as||[Object(o.h)(e.x),Object(o.h)(e.y)],b=u[l],h=[];let g=e.extent;Object(o.v)(u,l)||Object(o.n)("Invalid regression method: "+l),null!=g&&"log"===l&&g[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),f.forEach(n=>{if(n.length<=p)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const r=b(n,e.x,e.y,d);if(e.params)return void h.push(Object(i.l)({keys:n.dims,coef:r.coef,rSquared:r.rSquared}));const u=g||Object(o.p)(n,e.x),s=e=>{const t={};for(let e=0;e<c.length;++e)t[c[e]]=n.dims[e];t[m[0]]=e[0],t[m[1]]=e[1],h.push(Object(i.l)(t))};"linear"===l?u.forEach(e=>s([e,r.predict(e)])):Object(a.E)(r.predict,u,25,200).forEach(s)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=h}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(14),i=n(1),a=n(2076);function o(e){r.g.call(this,null,e)}o.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const u=Object(i.y)(o,r.g),s=[-1e5,-1e5,1e5,1e5];function f(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}u.transform=function(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:s;const o=this.value=a.a.from(r,e.x,e.y).voronoi(i);for(let e=0,t=r.length;e<t;++e){const t=o.cellPolygon(e);r[e][n]=t?f(t):null}return t.reflow(e.modified()).modifies(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1405),i=n(14),a=n(1),o=n(47),u=n(72),s=["x","y","font","fontSize","fontStyle","fontWeight","angle"],f=["text","font","rotate","fontSize","fontStyle","fontWeight"];function c(e){i.g.call(this,Object(r.a)(),e)}c.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:s}]},Object(a.y)(c,i.g).transform=function(e,t){!e.size||e.size[0]&&e.size[1]||Object(a.n)("Wordcloud size dimensions must be non-zero.");var n=e.modified();if(n||t.changed(t.ADD_REM)||f.some((function(n){var r=e[n];return Object(a.D)(r)&&t.modified(r.fields)}))){var r,i=t.materialize(t.SOURCE).source,c=this.value,l=e.as||s,d=e.fontSize||14;if(Object(a.D)(d)?r=e.fontSizeRange:d=Object(a.l)(d),r){var p=d,m=Object(o.I)("sqrt")().domain(Object(a.p)(i,p)).range(r);d=function(e){return m(p(e))}}i.forEach((function(e){e[l[0]]=NaN,e[l[1]]=NaN,e[l[3]]=0}));for(var b,h,g=c.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(d).random(u.p).layout(),y=c.size(),O=y[0]>>1,v=y[1]>>1,j=0,$=g.length;j<$;++j)(h=(b=g[j]).datum)[l[0]]=b.x+O,h[l[1]]=b.y+v,h[l[2]]=b.font,h[l[3]]=b.size,h[l[4]]=b.style,h[l[5]]=b.weight,h[l[6]]=b.rotate;return t.reflow(n).modifies(l)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1407),i=n(1026),a=n(1027),o=n(14),u=n(1);function s(e){o.g.call(this,Object(r.a)(),e),this._indices=null,this._dims=null}s.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var f=Object(u.y)(s,o.g);f.transform=function(e,t){return this._dims?e.modified("fields")||e.fields.some((function(e){return t.modified(e.fields)}))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},f.init=function(e,t){for(var n,r,o=e.fields,u=e.query,s=this._indices={},f=this._dims=[],c=u.length,l=0;l<c;++l)r=s[n=o[l].fname]||(s[n]=Object(a.a)()),f.push(Object(i.a)(r,l,u[l]));return this.eval(e,t)},f.reinit=function(e,t){var n,r,o,u,s,f,c,l,d,p=t.materialize().fork(),m=e.fields,b=e.query,h=this._indices,g=this._dims,y=this.value,O=y.curr(),v=y.prev(),j=y.all(),$=p.rem=p.add,x=p.mod,k=b.length,A={};if(v.set(O),t.rem.length&&(s=this.remove(e,t,p)),t.add.length&&y.add(t.add),t.mod.length)for(f={},c=0,l=(u=t.mod).length;c<l;++c)f[u[c]._index]=1;for(c=0;c<k;++c)d=m[c],(!g[c]||e.modified("fields",c)||t.modified(d.fields))&&((n=A[o=d.fname])||(h[o]=r=Object(a.a)(),A[o]=n=r.insert(d,t.source,0)),g[c]=Object(i.a)(r,c,b[c]).onAdd(n,O));for(c=0,l=y.data().length;c<l;++c)s[c]||(v[c]!==O[c]?$.push(c):f[c]&&O[c]!==j&&x.push(c));return y.mask=(1<<k)-1,p},f.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},f.insert=function(e,t,n){var r,i,a,o=t.add,u=this.value,s=this._dims,f=this._indices,c=e.fields,l={},d=n.add,p=u.size(),m=p+o.length,b=s.length;u.resize(m,b),u.add(o);var h=u.curr(),g=u.prev(),y=u.all();for(r=0;r<b;++r)a=l[i=c[r].fname]||(l[i]=f[i].insert(c[r],o,p)),s[r].onAdd(a,h);for(;p<m;++p)g[p]=y,h[p]!==y&&d.push(p)},f.modify=function(e,t){var n,r,i,a=t.mod,o=this.value,u=o.curr(),s=o.all(),f=e.mod;for(n=0,r=f.length;n<r;++n)u[i=f[n]._index]!==s&&a.push(i)},f.remove=function(e,t,n){var r,i,a,o,u=this._indices,s=this.value,f=s.curr(),c=s.prev(),l=s.all(),d={},p=n.rem,m=t.rem;for(r=0,i=m.length;r<i;++r)d[a=m[r]._index]=1,c[a]=o=f[a],f[a]=l,o!==l&&p.push(a);for(a in u)u[a].remove(i,d);return this.reindex(t,i,d),d},f.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter((function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)}))},f.update=function(e,t,n){var r,i,a=this._dims,o=e.query,u=t.stamp,s=a.length,f=0;for(n.filters=0,i=0;i<s;++i)e.modified("query",i)&&(r=i,++f);if(1===f)f=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,f=0;i<s;++i)e.modified("query",i)&&(f|=a[i].one,this.incrementAll(a[i],o[i],u,n.add),n.rem=n.add);return f},f.incrementAll=function(e,t,n,r){var i,a,o,u=this.value,s=u.seen(),f=u.curr(),c=u.prev(),l=e.index(),d=e.bisect(e.range),p=e.bisect(t),m=p[0],b=p[1],h=d[0],g=d[1],y=e.one;if(m<h)for(i=m,a=Math.min(h,b);i<a;++i)s[o=l[i]]!==n&&(c[o]=f[o],s[o]=n,r.push(o)),f[o]^=y;else if(m>h)for(i=h,a=Math.min(m,g);i<a;++i)s[o=l[i]]!==n&&(c[o]=f[o],s[o]=n,r.push(o)),f[o]^=y;if(b>g)for(i=Math.max(m,g),a=b;i<a;++i)s[o=l[i]]!==n&&(c[o]=f[o],s[o]=n,r.push(o)),f[o]^=y;else if(b<g)for(i=Math.max(h,b),a=g;i<a;++i)s[o=l[i]]!==n&&(c[o]=f[o],s[o]=n,r.push(o)),f[o]^=y;e.range=t.slice()},f.incrementOne=function(e,t,n,r){var i,a,o,u=this.value.curr(),s=e.index(),f=e.bisect(e.range),c=e.bisect(t),l=c[0],d=c[1],p=f[0],m=f[1],b=e.one;if(l<p)for(i=l,a=Math.min(p,d);i<a;++i)u[o=s[i]]^=b,n.push(o);else if(l>p)for(i=p,a=Math.min(l,m);i<a;++i)u[o=s[i]]^=b,r.push(o);if(d>m)for(i=Math.max(l,m),a=d;i<a;++i)u[o=s[i]]^=b,n.push(o);else if(d<m)for(i=Math.max(p,d),a=m;i<a;++i)u[o=s[i]]^=b,r.push(o);e.range=t.slice()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e){r.g.call(this,null,e)}a.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},Object(i.y)(a,r.g).transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0==(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),u=r.curr(),s=r.prev(),f=function(e){return u[e]&n?null:o[e]};return a.filter(a.MOD,f),i&i-1?(a.filter(a.ADD,(function(e){var t=u[e]&n;return!t&&t^s[e]&n?o[e]:null})),a.filter(a.REM,(function(e){var t=u[e]&n;return t&&!(t^t^s[e]&n)?o[e]:null}))):(a.filter(a.ADD,f),a.filter(a.REM,(function(e){return(u[e]&n)===i?o[e]:null}))),a.filter(a.SOURCE,(function(e){return f(e._index)}))}},function(e){e.exports=JSON.parse('{"a":"5.13.0"}')},function(e,t,n){"use strict";var r=n(1246);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(790),i=n(1408),a=n(876),o=n(501),u=n(1028),s=n(1410),f=n(1411),c=n(1412),l=n(1029),d=n(1415),p=n(1416),m=n(1417),b=n(350),h=n(1418),g=n(1425),y=n(658),O=n(1032),v=n(1426),j=n(1427),$=n(636),x=n(14),k=n(282),A=n(76),E=n(1);function w(e,t){const n=this;if(t=t||{},x.a.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){const r=Object(E.o)({},e.locale,t.locale);n.locale(Object(k.b)(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||A.i.Canvas,n._scenegraph=new A.o;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||j.a,n._redraw=!0,n._handler=(new A.b).scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Object(u.b)(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const o=Object(h.a)(n,e,t.expr);n._runtime=o,n._signals=o.signals,n._bind=(e.bindings||[]).map(e=>({state:null,param:Object(E.o)({},e)})),o.root&&o.root.set(r),r.source=o.data.root.input,n.pulse(o.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Object(y.d)(n,n._width),n._viewHeight=Object(y.c)(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,Object(y.a)(n),Object(i.a)(n),Object(a.a)(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}var _=Object(E.y)(w,x.a);function F(e,t){return Object(E.v)(e._signals,t)?e._signals[t]:Object(E.n)("Unrecognized signal name: "+Object(E.Z)(t))}function D(e,t){const n=(e._targets||[]).filter(e=>e._update&&e._update.handler===t);return n.length?n[0]:null}function S(e,t,n,r){var i=D(n,r);return i||((i=Object($.a)(e,()=>r(t,n.value))).handler=r,e.on(n,null,i)),e}function C(e,t,n){var r=D(t,n);return r&&t._targets.remove(r),e}_.evaluate=async function(e,t,n){if(await x.a.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Object(b.c)(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}return n&&Object(x.h)(this,n),this},_.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},_.description=function(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&Object(r.a)(this._el,this._desc=t),this}return this._desc},_.container=function(){return this._el},_.scenegraph=function(){return this._scenegraph},_.origin=function(){return this._origin.slice()},_.signal=function(e,t,n){var r=F(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},_.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},_.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},_.padding=function(e){return arguments.length?this.signal("padding",Object(l.a)(e)):Object(l.a)(this.signal("padding"))},_.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},_.background=function(e){return arguments.length?this.signal("background",e):this.signal("background")},_.renderer=function(e){return arguments.length?(Object(A.S)(e)||Object(E.n)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},_.tooltip=function(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},_.loader=function(e){return arguments.length?(e!==this._loader&&(x.a.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},_.resize=function(){return this._autosize=1,this.touch(F(this,"autosize"))},_._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_._resizeView=y.b,_.addEventListener=function(e,t,n){var r=t;return n&&!1===n.trap||((r=Object($.a)(this,t)).raw=t),this._handler.on(e,r),this},_.removeEventListener=function(e,t){for(var n,r,i=this._handler.handlers(e),a=i.length;--a>=0;)if(r=i[a].type,n=i[a].handler,e===r&&(t===n||t===n.raw)){this._handler.off(r,n);break}return this},_.addResizeListener=function(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},_.removeResizeListener=function(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},_.addSignalListener=function(e,t){return S(this,e,F(this,e),t)},_.removeSignalListener=function(e,t){return C(this,F(this,e),t)},_.addDataListener=function(e,t){return S(this,e,Object(o.c)(this,e).values,t)},_.removeDataListener=function(e,t){return C(this,Object(o.c)(this,e).values,t)},_.globalCursor=function(e){if(arguments.length){if(this._globalCursor!==!!e){const t=Object(a.b)(this,null);this._globalCursor=!!e,t&&Object(a.b)(this,t)}return this}return this._globalCursor},_.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},_.timer=v.a,_.events=u.a,_.finalize=f.a,_.hover=s.a,_.data=o.b,_.change=o.a,_.insert=o.d,_.remove=o.e,_.scale=g.a,_.initialize=c.a,_.toImageURL=d.a,_.toCanvas=p.a,_.toSVG=m.a,_.getState=O.a,_.setState=O.b},function(e,t,n){"use strict";var r,i,a,o,u,s=n(149);(r={})[1]="Boolean",r[2]="<end>",r[3]="Identifier",r[4]="Keyword",r[5]="Null",r[6]="Numeric",r[7]="Punctuator",r[8]="String",r[9]="RegularExpression";var f="ILLEGAL",c=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),l=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function d(e,t){if(!e)throw new Error("ASSERT: "+t)}function p(e){return e>=48&&e<=57}function m(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function b(e){return"01234567".indexOf(e)>=0}function h(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function g(e){return 10===e||13===e||8232===e||8233===e}function y(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&c.test(String.fromCharCode(e))}function O(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&l.test(String.fromCharCode(e))}var v={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function j(){for(var e;a<o&&(h(e=i.charCodeAt(a))||g(e));)++a}function $(e){var t,n,r,u=0;for(n="u"===e?4:2,t=0;t<n;++t)a<o&&m(i[a])?(r=i[a++],u=16*u+"0123456789abcdef".indexOf(r.toLowerCase())):z({},"Unexpected token %0",f);return String.fromCharCode(u)}function x(){var e,t,n,r;for(t=0,"}"===(e=i[a])&&z({},"Unexpected token %0",f);a<o&&m(e=i[a++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&z({},"Unexpected token %0",f),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),r=56320+(t-65536&1023),String.fromCharCode(n,r))}function k(){var e,t;for(e=i.charCodeAt(a++),t=String.fromCharCode(e),92===e&&(117!==i.charCodeAt(a)&&z({},"Unexpected token %0",f),++a,(e=$("u"))&&"\\"!==e&&y(e.charCodeAt(0))||z({},"Unexpected token %0",f),t=e);a<o&&O(e=i.charCodeAt(a));)++a,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==i.charCodeAt(a)&&z({},"Unexpected token %0",f),++a,(e=$("u"))&&"\\"!==e&&O(e.charCodeAt(0))||z({},"Unexpected token %0",f),t+=e);return t}function A(){var e,t;return e=a,{type:1===(t=92===i.charCodeAt(a)?k():function(){var e,t;for(e=a++;a<o;){if(92===(t=i.charCodeAt(a)))return a=e,k();if(!O(t))break;++a}return i.slice(e,a)}()).length?3:v.hasOwnProperty(t)?4:"null"===t?5:"true"===t||"false"===t?1:3,value:t,start:e,end:a}}function E(){var e,t,n,r,o=a,u=i.charCodeAt(a),s=i[a];switch(u){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++a,{type:7,value:String.fromCharCode(u),start:o,end:a};default:if(61===(e=i.charCodeAt(a+1)))switch(u){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return a+=2,{type:7,value:String.fromCharCode(u)+String.fromCharCode(e),start:o,end:a};case 33:case 61:return a+=2,61===i.charCodeAt(a)&&++a,{type:7,value:i.slice(o,a),start:o,end:a}}}return">>>="===(r=i.substr(a,4))?{type:7,value:r,start:o,end:a+=4}:">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:o,end:a+=3}:s===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(s)>=0||"=>"===t?{type:7,value:t,start:o,end:a+=2}:"<>=!+-*%&|^/".indexOf(s)>=0?{type:7,value:s,start:o,end:++a}:void z({},"Unexpected token %0",f)}function w(){var e,t,n;if(d(p((n=i[a]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=a,e="","."!==n){if(e=i[a++],n=i[a],"0"===e){if("x"===n||"X"===n)return++a,function(e){for(var t="";a<o&&m(i[a]);)t+=i[a++];return 0===t.length&&z({},"Unexpected token %0",f),y(i.charCodeAt(a))&&z({},"Unexpected token %0",f),{type:6,value:parseInt("0x"+t,16),start:e,end:a}}(t);if(b(n))return function(e){for(var t="0"+i[a++];a<o&&b(i[a]);)t+=i[a++];return(y(i.charCodeAt(a))||p(i.charCodeAt(a)))&&z({},"Unexpected token %0",f),{type:6,value:parseInt(t,8),octal:!0,start:e,end:a}}(t);n&&p(n.charCodeAt(0))&&z({},"Unexpected token %0",f)}for(;p(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("."===n){for(e+=i[a++];p(i.charCodeAt(a));)e+=i[a++];n=i[a]}if("e"===n||"E"===n)if(e+=i[a++],"+"!==(n=i[a])&&"-"!==n||(e+=i[a++]),p(i.charCodeAt(a)))for(;p(i.charCodeAt(a));)e+=i[a++];else z({},"Unexpected token %0",f);return y(i.charCodeAt(a))&&z({},"Unexpected token %0",f),{type:6,value:parseFloat(e),start:t,end:a}}function _(){var e,t,n,r;return u=null,j(),e=a,t=function(){var e,t,n,r;for(d("/"===(e=i[a]),"Regular expression literal must start with a slash"),t=i[a++],n=!1,r=!1;a<o;)if(t+=e=i[a++],"\\"===e)g((e=i[a++]).charCodeAt(0))&&z({},"Invalid regular expression: missing /"),t+=e;else if(g(e.charCodeAt(0)))z({},"Invalid regular expression: missing /");else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||z({},"Invalid regular expression: missing /"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";a<o&&O((e=i[a]).charCodeAt(0));)++a,"\\"===e&&a<o?z({},"Unexpected token %0",f):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&z({},"Invalid regular expression",n),{value:n,literal:t}}(),r=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(function(e,t){if(parseInt(t,16)<=1114111)return"x";z({},"Invalid regular expression")})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){z({},"Invalid regular expression")}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:a}}function F(){var e;return j(),a>=o?{type:2,start:a,end:a}:y(e=i.charCodeAt(a))?A():40===e||41===e||59===e?E():39===e||34===e?function(){var e,t,n,r,u="",s=!1;for(d("'"===(e=i[a])||'"'===e,"String literal must starts with a quote"),t=a,++a;a<o;){if((n=i[a++])===e){e="";break}if("\\"===n)if((n=i[a++])&&g(n.charCodeAt(0)))"\r"===n&&"\n"===i[a]&&++a;else switch(n){case"u":case"x":"{"===i[a]?(++a,u+=x()):u+=$(n);break;case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="\t";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;default:b(n)?(0!==(r="01234567".indexOf(n))&&(s=!0),a<o&&b(i[a])&&(s=!0,r=8*r+"01234567".indexOf(i[a++]),"0123".indexOf(n)>=0&&a<o&&b(i[a])&&(r=8*r+"01234567".indexOf(i[a++]))),u+=String.fromCharCode(r)):u+=n}else{if(g(n.charCodeAt(0)))break;u+=n}}return""!==e&&z({},"Unexpected token %0",f),{type:8,value:u,octal:s,start:t,end:a}}():46===e?p(i.charCodeAt(a+1))?w():E():p(e)?w():E()}function D(){var e;return a=(e=u).end,u=F(),a=e.end,e}function S(){var e;e=a,u=F(),a=e}function C(e,t,n){var r=new s.c("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return r.operator=e,r.left=t,r.right=n,r}function M(e,t){var n=new s.c("CallExpression");return n.callee=e,n.arguments=t,n}function q(e){var t=new s.c("Identifier");return t.name=e,t}function R(e){var t=new s.c("Literal");return t.value=e.value,t.raw=i.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function T(e,t,n){var r=new s.c("MemberExpression");return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function B(e,t,n){var r=new s.c("Property");return r.key=t,r.value=n,r.kind=e,r}function z(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(function(e,t){return d(t<r.length,"Message reference must be in range"),r[t]}));throw(n=new Error(i)).index=a,n.description=i,n}function I(e){2===e.type&&z(e,"Unexpected end of input"),6===e.type&&z(e,"Unexpected number"),8===e.type&&z(e,"Unexpected string"),3===e.type&&z(e,"Unexpected identifier"),4===e.type&&z(e,"Unexpected reserved word"),z(e,"Unexpected token %0",e.value)}function P(e){var t=D();7===t.type&&t.value===e||I(t)}function L(e){return 7===u.type&&u.value===e}function N(e){return 4===u.type&&u.value===e}function V(){var e=[];for(a=u.start,P("[");!L("]");)L(",")?(D(),e.push(null)):(e.push(te()),L("]")||P(","));return D(),function(e){var t=new s.c("ArrayExpression");return t.elements=e,t}(e)}function U(){var e;return a=u.start,8===(e=D()).type||6===e.type?(e.octal&&z(e,"Octal literals are not allowed in strict mode."),R(e)):q(e.value)}function W(){var e,t,n;return a=u.start,3===(e=u).type?(n=U(),P(":"),B("init",n,te())):2!==e.type&&7!==e.type?(t=U(),P(":"),B("init",t,te())):void I(e)}function G(){var e,t,n=[],r={},i=String;for(a=u.start,P("{");!L("}");)t="$"+("Identifier"===(e=W()).key.type?e.key.name:i(e.key.value)),Object.prototype.hasOwnProperty.call(r,t)?z({},"Duplicate data property in object literal not allowed in strict mode"):r[t]=!0,n.push(e),L("}")||P(",");return P("}"),function(e){var t=new s.c("ObjectExpression");return t.properties=e,t}(n)}var H={if:1};function X(){var e,t,n;if(L("("))return function(){var e;return P("("),e=ne(),P(")"),e}();if(L("["))return V();if(L("{"))return G();if(e=u.type,a=u.start,3===e||H[u.value])n=q(D().value);else if(8===e||6===e)u.octal&&z(u,"Octal literals are not allowed in strict mode."),n=R(D());else{if(4===e)throw new Error("Disabled.");1===e?((t=D()).value="true"===t.value,n=R(t)):5===e?((t=D()).value=null,n=R(t)):L("/")||L("/=")?(n=R(_()),S()):I(D())}return n}function Y(){var e=[];if(P("("),!L(")"))for(;a<o&&(e.push(te()),!L(")"));)P(",");return P(")"),e}function Z(){return P("."),a=u.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=D())||I(e),q(e.value);var e}function J(){var e;return P("["),e=ne(),P("]"),e}function K(){var e=function(){var e;for(e=X();;)if(L("."))e=T(".",e,Z());else if(L("("))e=M(e,Y());else{if(!L("["))break;e=T("[",e,J())}return e}();if(7===u.type&&(L("++")||L("--")))throw new Error("Disabled.");return e}function Q(){var e,t,n,r,i;if(7!==u.type&&4!==u.type)t=K();else{if(L("++")||L("--"))throw new Error("Disabled.");if(L("+")||L("-")||L("~")||L("!"))e=D(),t=Q(),n=e.value,r=t,(i=new s.c("UnaryExpression")).operator=n,i.argument=r,i.prefix=!0,t=i;else{if(N("delete")||N("void")||N("typeof"))throw new Error("Disabled.");t=K()}}return t}function ee(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function te(){var e,t;return e=function(){var e,t,n,r,i,a,o,s,f,c;if(e=u,f=Q(),0===(i=ee(r=u)))return f;for(r.prec=i,D(),t=[e,u],a=[f,r,o=Q()];(i=ee(u))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,f=a.pop(),t.pop(),n=C(s,f,o),a.push(n);(r=D()).prec=i,a.push(r),t.push(u),n=Q(),a.push(n)}for(n=a[c=a.length-1],t.pop();c>1;)t.pop(),n=C(a[c-1].value,a[c-2],n),c-=2;return n}(),L("?")&&(D(),t=te(),P(":"),e=function(e,t,n){var r=new s.c("ConditionalExpression");return r.test=e,r.consequent=t,r.alternate=n,r}(e,t,te())),e}function ne(){var e=te();if(L(","))throw new Error("Disabled.");return e}t.a=function(e){a=0,o=(i=e).length,u=null,S();var t=ne();if(2!==u.type)throw new Error("Unexpect token after expression.");return t}},function(e,t,n){"use strict";var r=n(738),i=n(739),a=n(1);t.a=function(e){var t=(e=e||{}).whitelist?Object(a.db)(e.whitelist):{},n=e.blacklist?Object(a.db)(e.blacklist):{},o=e.constants||r.a,u=(e.functions||i.a)(m),s=e.globalvar,f=e.fieldvar,c={},l={},d=0,p=Object(a.D)(s)?s:function(e){return s+'["'+e+'"]'};function m(e){if(Object(a.H)(e))return e;var t=b[e.type];return null==t&&Object(a.n)("Unsupported type: "+e.type),t(e)}var b={Literal:function(e){return e.raw},Identifier:function(e){var r=e.name;return d>0?r:Object(a.v)(n,r)?Object(a.n)("Illegal identifier: "+r):Object(a.v)(o,r)?o[r]:Object(a.v)(t,r)?r:(c[r]=1,p(r))},MemberExpression:function(e){var t=!e.computed,n=m(e.object);t&&(d+=1);var r=m(e.property);return n===f&&(l[function(e){var t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(r)]=1),t&&(d-=1),n+(t?"."+r:"["+r+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Object(a.n)("Illegal callee type: "+e.callee.type);var t=e.callee.name,n=e.arguments,r=Object(a.v)(u,t)&&u[t];return r||Object(a.n)("Unrecognized function: "+t),Object(a.D)(r)?r(n):r+"("+n.map(m).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(m).join(",")+"]"},BinaryExpression:function(e){return"("+m(e.left)+e.operator+m(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+m(e.argument)+")"},ConditionalExpression:function(e){return"("+m(e.test)+"?"+m(e.consequent)+":"+m(e.alternate)+")"},LogicalExpression:function(e){return"("+m(e.left)+e.operator+m(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(m).join(",")+"}"},Property:function(e){d+=1;var t=m(e.key);return d-=1,t+":"+m(e.value)}};function h(e){var t={code:m(e),globals:Object.keys(c),fields:Object.keys(l)};return c={},l={},t}return h.functions=u,h.constants=o,h}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(324),i=n(1);function a(e,t){for(var n,r,a=t.fields,o=t.values,u=a.length,s=0;s<u;++s)if((r=a[s]).getter=i.t.getter||Object(i.t)(r.field),n=r.getter(e),Object(i.C)(n)&&(n=Object(i.cb)(n)),Object(i.C)(o[s])&&(o[s]=Object(i.cb)(o[s])),Object(i.C)(o[s][0])&&(o[s]=o[s].map(i.cb)),"E"===r.type){if(Object(i.A)(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if("R"===r.type){if(!Object(i.z)(n,o[s]))return!1}else if("R-RE"===r.type){if(!Object(i.z)(n,o[s],!0,!1))return!1}else if("R-E"===r.type){if(!Object(i.z)(n,o[s],!1,!1))return!1}else if("R-LE"===r.type&&!Object(i.z)(n,o[s],!1,!0))return!1;return!0}function o(e,t,n){for(var i,o,u,s,f,c=this.context.data[e],l=c?c.values.value:[],d=c?c["index:unit"]&&c["index:unit"].value:void 0,p=n===r.b,m=l.length,b=0;b<m;++b)if(i=l[b],d&&p){if(-1===(u=(o=o||{})[s=i.unit]||0))continue;if(f=a(t,i),o[s]=f?-1:++u,f&&1===d.size)return!0;if(!f&&u===d.get(s).count)return!1}else if(p^(f=a(t,i)))return f;return m&&p}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(324),i=n(1);function a(e,t,n){for(var a,u,s,f,c,l,d,p,m,b,h,g=this.context.data[e],y=g?g.values.value:[],O={},v={},j={},$=y.length,x=0;x<$;++x){for(f=(a=y[x]).unit,u=a.fields,s=a.values,b=0,h=u.length;b<h;++b)c=u[b],d=(l=O[c.field]||(O[c.field]={}))[f]||(l[f]=[]),j[c.field]=p=c.type.charAt(0),m=o[p+"_union"],l[f]=m(d,Object(i.i)(s[b]));n&&(d=v[f]||(v[f]=[])).push(Object(i.i)(s).reduce((e,t,n)=>(e[u[n].field]=t,e),{}))}return t=t||r.d,Object.keys(O).forEach((function(e){O[e]=Object.keys(O[e]).map(t=>O[e][t]).reduce((n,r)=>void 0===n?r:o[j[e]+"_"+t](n,r))})),y=Object.keys(v),n&&y.length&&(O[r.e]=t===r.d?{[r.c]:y.reduce((e,t)=>(e.push.apply(e,v[t]),e),[])}:{[r.a]:y.map(e=>({[r.c]:v[e]}))}),O}var o={E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((function(e){return t.indexOf(e)>=0})):t},R_union:function(e,t){var n=Object(i.cb)(t[0]),r=Object(i.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Object(i.cb)(t[0]),r=Object(i.cb)(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(324),i=n(198),a=n(1);function o(e,t,n,o){t[0].type!==i.b&&Object(a.n)("First argument to selection functions must be a string literal.");const u=t[0].value,s=":"+u;(t.length>=2&&Object(a.U)(t).value)!==r.b||Object(a.v)(o,"@unit")||(o["@unit"]=n.getData(u).indataRef(n,"unit")),Object(a.v)(o,s)||(o[s]=n.getData(u).tuplesRef())}},function(e,t,n){"use strict";var r=n(407),i=n(217),a=n(198),o=n(1);t.a=function(e,t){var n,u,s={};try{e=Object(o.H)(e)?e:Object(o.Z)(e)+"",n=Object(a.f)(e)}catch(t){Object(o.n)("Expression parse error: "+e)}return n.visit(e=>{if(e.type===a.a){var n=e.callee.name,i=r.b.visitors[n];i&&i(n,e.arguments,t,s)}}),(u=Object(r.a)(n)).globals.forEach(e=>{var n=i.d+e;!Object(o.v)(s,n)&&t.getSignal(e)&&(s[n]=t.signalRef(e))}),{$expr:Object(o.o)({code:u.code},t.options.ast?{ast:n}:null),$fields:u.fields,$params:s}}},function(e,t,n){"use strict";var r=n(1420),i=n(1421),a=n(1030),o=n(1422),u=n(1423),s=n(1424),f=n(1031),c=n(478);function l(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||i.a,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function d(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}t.a=function(e,t,n,r){return new l(e,t,n,r)},l.prototype=d.prototype={fork(){const e=new d(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(t=>t!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),Object(c.c)(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){var a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const r in e.data){const i=n.data[r]||(n.data[r]={});e.data[r].forEach(e=>i[e]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Object(c.b)(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:r.a,parseOperator:a.a,parseOperatorParameters:a.b,parseParameters:o.a,parseStream:u.a,parseUpdate:s.a,getState:f.a,setState:f.b}},function(e,t,n){"use strict";var r=n(1255);n.d(t,"a",(function(){return r.a}));n(748),n(532),n(745),n(746),n(69),n(747),n(334)},function(e,t,n){"use strict";var r=n(1428),i=n(747),a=n(748),o=n(1);t.a=function(e,t,n){return Object(o.F)(e)||Object(o.n)("Input Vega specification must be an object."),t=Object(o.N)(Object(a.a)(),t,e.config),Object(r.a)(e,new i.a(t,n)).toRuntime()}},function(e,t,n){"use strict";t.a=function(e,t,n){return r=t||a,i=n||u,f(e.trim()).map(c)};var r,i,a="view",o=/[[\]{}]/,u={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function s(e,t,n,r,i){for(var a,o=0,u=e.length;t<u;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function f(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=s(e,i,",","[{","]}"),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function c(e){return"["===e[0]?function(e){var t,n,r=e.length,i=1;if((i=s(e,i,"]","[","]"))===r)throw"Empty between selector: "+e;if(2!==(t=f(e.substring(1,i))).length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;if(t=t.map(c),(n=c(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,a={source:r},u=[],f=[0,0],c=0,l=0,d=e.length,p=0;if("}"===e[d-1]){if(!((p=e.lastIndexOf("{"))>=0))throw"Unmatched right brace: "+e;try{f=function(e){var t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((function(t){var n=+t;if(n!=n)throw e;return n}))}(e.substring(p+1,d-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,p).trim(),d=e.length,p=0}if(!d)throw e;"@"===e[0]&&(c=++p);(t=s(e,p,":"))<d&&(u.push(e.substring(l,t).trim()),l=p=++t);if((p=s(e,p,"["))===d)u.push(e.substring(l,d).trim());else if(u.push(e.substring(l,p).trim()),n=[],(l=++p)===d)throw"Unmatched left bracket: "+e;for(;p<d;){if((p=s(e,p,"]"))===d)throw"Unmatched left bracket: "+e;if(n.push(e.substring(l,p).trim()),p<d-1&&"["!==e[++p])throw"Expected left bracket: "+e;l=++p}if(!(d=u.length)||o.test(u[d-1]))throw"Invalid event selector: "+e;d>1?(a.type=u[1],c?a.markname=u[0].slice(1):(m=u[0],i[m]?a.marktype=u[0]:a.source=u[0])):a.type=u[0];var m;"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=n&&(a.filter=n);f[0]&&(a.throttle=f[0]);f[1]&&(a.debounce=f[1]);return a}(e)}},,,,,,,,,function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","title":"Vega Visualization Specification Language","defs":{"autosize":{"oneOf":[{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},{"type":"object","properties":{"type":{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},"resize":{"type":"boolean"},"contains":{"enum":["content","padding"]}},"required":["type"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"axis":{"type":"object","properties":{"orient":{"oneOf":[{"enum":["top","bottom","left","right"]},{"$ref":"#/refs/signal"}]},"scale":{"type":"string"},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/refs/signal"}]},"minExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"maxExtent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"position":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"bandPosition":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"translate":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"title":{"$ref":"#/refs/textOrSignal"},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domain":{"type":"boolean"},"domainCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"domainColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"domainDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"domainDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"domainWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"ticks":{"type":"boolean"},"tickBand":{"$ref":"#/refs/tickBand"},"tickCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"tickColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"tickDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"tickDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickRound":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/booleanValue"}]},"tickSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickExtra":{"$ref":"#/refs/booleanOrSignal"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"grid":{"type":"boolean"},"gridScale":{"type":"string"},"gridCap":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"gridColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gridDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"gridDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gridWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labels":{"type":"boolean"},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"labelBound":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlush":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"labelFlushOffset":{"$ref":"#/refs/numberOrSignal"},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelAngle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelPadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"axis":{"$ref":"#/defs/guideEncode"},"ticks":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"title":{"$ref":"#/defs/guideEncode"},"grid":{"$ref":"#/defs/guideEncode"},"domain":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"required":["orient","scale"],"additionalProperties":false},"background":{"$ref":"#/refs/stringOrSignal"},"bind":{"oneOf":[{"type":"object","properties":{"input":{"enum":["checkbox"]},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["radio","select"]},"element":{"$ref":"#/refs/element"},"options":{"type":"array"},"labels":{"type":"array","items":{"type":"string"}},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input","options"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["range"]},"element":{"$ref":"#/refs/element"},"min":{"type":"number"},"max":{"type":"number"},"step":{"type":"number"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"not":{"enum":["checkbox","radio","range","select"]}},"element":{"$ref":"#/refs/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":true}]},"data":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"source":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"},"minItems":1}]},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["source","name"],"additionalProperties":false},{"type":"object","properties":{"url":{"$ref":"#/refs/stringOrSignal"},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"async":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["url","name"],"additionalProperties":false},{"type":"object","properties":{"values":{"oneOf":[{},{"$ref":"#/refs/signal"}]},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]},"property":{"$ref":"#/refs/stringOrSignal"},"copy":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/refs/stringOrSignal"},"property":{"$ref":"#/refs/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/refs/signal"}]},"async":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/defs/transform"}},"on":{"$ref":"#/defs/onTrigger"}},"required":["values","name"],"additionalProperties":false}]},"rule":{"type":"object","properties":{"test":{"type":"string"}}},"encodeEntry":{"type":"object","properties":{"x":{"$ref":"#/refs/numberValue"},"x2":{"$ref":"#/refs/numberValue"},"xc":{"$ref":"#/refs/numberValue"},"width":{"$ref":"#/refs/numberValue"},"y":{"$ref":"#/refs/numberValue"},"y2":{"$ref":"#/refs/numberValue"},"yc":{"$ref":"#/refs/numberValue"},"height":{"$ref":"#/refs/numberValue"},"opacity":{"$ref":"#/refs/numberValue"},"fill":{"$ref":"#/refs/colorValue"},"fillOpacity":{"$ref":"#/refs/numberValue"},"stroke":{"$ref":"#/refs/colorValue"},"strokeOpacity":{"$ref":"#/refs/numberValue"},"strokeWidth":{"$ref":"#/refs/numberValue"},"strokeCap":{"$ref":"#/refs/strokeCapValue"},"strokeDash":{"$ref":"#/refs/arrayValue"},"strokeDashOffset":{"$ref":"#/refs/numberValue"},"strokeJoin":{"$ref":"#/refs/strokeJoinValue"},"strokeMiterLimit":{"$ref":"#/refs/numberValue"},"blend":{"$ref":"#/refs/blendValue"},"cursor":{"$ref":"#/refs/stringValue"},"tooltip":{"$ref":"#/refs/anyValue"},"zindex":{"$ref":"#/refs/numberValue"},"description":{"$ref":"#/refs/stringValue"},"aria":{"$ref":"#/refs/booleanValue"},"ariaRole":{"$ref":"#/refs/stringValue"},"ariaRoleDescription":{"$ref":"#/refs/stringValue"},"clip":{"$ref":"#/refs/booleanValue"},"strokeForeground":{"$ref":"#/refs/booleanValue"},"strokeOffset":{"$ref":"#/refs/numberValue"},"cornerRadius":{"$ref":"#/refs/numberValue"},"cornerRadiusTopLeft":{"$ref":"#/refs/numberValue"},"cornerRadiusTopRight":{"$ref":"#/refs/numberValue"},"cornerRadiusBottomRight":{"$ref":"#/refs/numberValue"},"cornerRadiusBottomLeft":{"$ref":"#/refs/numberValue"},"angle":{"$ref":"#/refs/numberValue"},"size":{"$ref":"#/refs/numberValue"},"shape":{"$ref":"#/refs/stringValue"},"path":{"$ref":"#/refs/stringValue"},"scaleX":{"$ref":"#/refs/numberValue"},"scaleY":{"$ref":"#/refs/numberValue"},"innerRadius":{"$ref":"#/refs/numberValue"},"outerRadius":{"$ref":"#/refs/numberValue"},"startAngle":{"$ref":"#/refs/numberValue"},"endAngle":{"$ref":"#/refs/numberValue"},"padAngle":{"$ref":"#/refs/numberValue"},"interpolate":{"$ref":"#/refs/stringValue"},"tension":{"$ref":"#/refs/numberValue"},"orient":{"$ref":"#/refs/directionValue"},"defined":{"$ref":"#/refs/booleanValue"},"url":{"$ref":"#/refs/stringValue"},"align":{"$ref":"#/refs/alignValue"},"baseline":{"$ref":"#/refs/baselineValue"},"aspect":{"$ref":"#/refs/booleanValue"},"smooth":{"$ref":"#/refs/booleanValue"},"text":{"$ref":"#/refs/textValue"},"dir":{"$ref":"#/refs/stringValue"},"ellipsis":{"$ref":"#/refs/stringValue"},"limit":{"$ref":"#/refs/numberValue"},"lineBreak":{"$ref":"#/refs/stringValue"},"lineHeight":{"$ref":"#/refs/numberValue"},"dx":{"$ref":"#/refs/numberValue"},"dy":{"$ref":"#/refs/numberValue"},"radius":{"$ref":"#/refs/numberValue"},"theta":{"$ref":"#/refs/numberValue"},"font":{"$ref":"#/refs/stringValue"},"fontSize":{"$ref":"#/refs/numberValue"},"fontWeight":{"$ref":"#/refs/fontWeightValue"},"fontStyle":{"$ref":"#/refs/stringValue"}},"additionalProperties":true},"encode":{"type":"object","additionalProperties":false,"patternProperties":{"^.+$":{"$ref":"#/defs/encodeEntry"}}},"layout":{"oneOf":[{"type":"object","properties":{"align":{"oneOf":[{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]},"bounds":{"oneOf":[{"enum":["full","flush"]},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/booleanOrSignal"},"column":{"$ref":"#/refs/booleanOrSignal"}},"additionalProperties":false}]},"columns":{"$ref":"#/refs/numberOrSignal"},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"rowHeader":{"$ref":"#/refs/numberOrSignal"},"rowFooter":{"$ref":"#/refs/numberOrSignal"},"rowTitle":{"$ref":"#/refs/numberOrSignal"},"columnHeader":{"$ref":"#/refs/numberOrSignal"},"columnFooter":{"$ref":"#/refs/numberOrSignal"},"columnTitle":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"headerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"footerBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleBand":{"oneOf":[{"$ref":"#/refs/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/refs/numberOrSignal"},"column":{"$ref":"#/refs/numberOrSignal"}},"additionalProperties":false}]},"titleAnchor":{"oneOf":[{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]},"column":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/refs/signal"}]}},"additionalProperties":false}]}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"guideEncode":{"type":"object","properties":{"name":{"type":"string"},"interactive":{"type":"boolean","default":false},"style":{"$ref":"#/refs/style"}},"additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}},"legend":{"allOf":[{"type":"object","properties":{"size":{"type":"string"},"shape":{"type":"string"},"fill":{"type":"string"},"stroke":{"type":"string"},"opacity":{"type":"string"},"strokeDash":{"type":"string"},"strokeWidth":{"type":"string"},"type":{"enum":["gradient","symbol"]},"direction":{"enum":["vertical","horizontal"]},"orient":{"oneOf":[{"enum":["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"right"},{"$ref":"#/refs/signal"}]},"tickCount":{"$ref":"#/refs/tickCount"},"tickMinStep":{"$ref":"#/refs/numberOrSignal"},"symbolLimit":{"$ref":"#/refs/numberOrSignal"},"values":{"$ref":"#/refs/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"cornerRadius":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"strokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"legendX":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"legendY":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"title":{"$ref":"#/refs/textOrSignal"},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"titleOrient":{"oneOf":[{"enum":["left","right","top","bottom"]},{"$ref":"#/refs/orientValue"}]},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientLength":{"$ref":"#/refs/numberOrSignal"},"gradientOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"gradientStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"gradientThickness":{"$ref":"#/refs/numberOrSignal"},"clipHeight":{"$ref":"#/refs/numberOrSignal"},"columns":{"$ref":"#/refs/numberOrSignal"},"columnPadding":{"$ref":"#/refs/numberOrSignal"},"rowPadding":{"$ref":"#/refs/numberOrSignal"},"gridAlign":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/refs/signal"}]},"symbolDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/refs/arrayValue"}]},"symbolDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolFillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"symbolStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"symbolType":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/refs/signal"}]},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"labelOverlap":{"$ref":"#/refs/labelOverlap"},"labelSeparation":{"$ref":"#/refs/numberOrSignal"},"encode":{"type":"object","properties":{"title":{"$ref":"#/defs/guideEncode"},"labels":{"$ref":"#/defs/guideEncode"},"legend":{"$ref":"#/defs/guideEncode"},"entries":{"$ref":"#/defs/guideEncode"},"symbols":{"$ref":"#/defs/guideEncode"},"gradient":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}},"additionalProperties":false},{"anyOf":[{"type":"object","required":["size"]},{"type":"object","required":["shape"]},{"type":"object","required":["fill"]},{"type":"object","required":["stroke"]},{"type":"object","required":["opacity"]},{"type":"object","required":["strokeDash"]},{"type":"object","required":["strokeWidth"]}]}]},"mark":{"type":"object","properties":{"type":{"$ref":"#/refs/marktype"},"role":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"aria":{"type":"boolean"},"style":{"$ref":"#/refs/style"},"key":{"type":"string"},"clip":{"$ref":"#/refs/markclip"},"sort":{"$ref":"#/refs/compare"},"interactive":{"$ref":"#/refs/booleanOrSignal"},"encode":{"$ref":"#/defs/encode"},"transform":{"type":"array","items":{"$ref":"#/defs/transformMark"}},"on":{"$ref":"#/defs/onMarkTrigger"}},"required":["type"]},"markGroup":{"allOf":[{"type":"object","properties":{"type":{"enum":["group"]},"from":{"oneOf":[{"$ref":"#/refs/from"},{"$ref":"#/refs/facet"}]}},"required":["type"]},{"$ref":"#/defs/mark"},{"$ref":"#/defs/scope"}]},"markVisual":{"allOf":[{"type":"object","properties":{"type":{"not":{"enum":["group"]}},"from":{"$ref":"#/refs/from"}}},{"$ref":"#/defs/mark"}]},"listener":{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"scale":{"type":"string"}},"required":["scale"]},{"$ref":"#/defs/stream"}]},"onEvents":{"type":"array","items":{"allOf":[{"type":"object","properties":{"events":{"oneOf":[{"$ref":"#/refs/selector"},{"$ref":"#/defs/listener"},{"type":"array","items":{"$ref":"#/defs/listener"},"minItems":1}]},"force":{"type":"boolean"}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"update":{"oneOf":[{"$ref":"#/refs/exprString"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]}]}},"required":["update"]}]}]}},"onTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"insert":{"$ref":"#/refs/exprString"},"remove":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/exprString"}]},"toggle":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"onMarkTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/refs/exprString"},"modify":{"$ref":"#/refs/exprString"},"values":{"$ref":"#/refs/exprString"}},"required":["trigger"],"additionalProperties":false}},"padding":{"oneOf":[{"type":"number"},{"type":"object","properties":{"top":{"type":"number"},"bottom":{"type":"number"},"left":{"type":"number"},"right":{"type":"number"}},"additionalProperties":false},{"$ref":"#/refs/signal"}]},"projection":{"type":"object","properties":{"name":{"type":"string"},"type":{"$ref":"#/refs/stringOrSignal"},"clipAngle":{"$ref":"#/refs/numberOrSignal"},"clipExtent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"scale":{"$ref":"#/refs/numberOrSignal"},"translate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"center":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"rotate":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":3},{"$ref":"#/refs/signal"}]},"parallels":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"precision":{"$ref":"#/refs/numberOrSignal"},"pointRadius":{"$ref":"#/refs/numberOrSignal"},"fit":{"oneOf":[{"type":"object"},{"type":"array"}]},"extent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/refs/signal"}]}},"required":["name"],"additionalProperties":true},"scale":{"oneOf":[{"type":"object","properties":{"type":{"enum":["identity"]},"nice":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["ordinal"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"domainImplicit":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["band"]},"paddingInner":{"$ref":"#/refs/numberOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["point"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"padding":{"$ref":"#/refs/numberOrSignal"},"paddingOuter":{"$ref":"#/refs/numberOrSignal"},"align":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantize","threshold"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantile"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["bin-ordinal"]},"bins":{"$ref":"#/refs/scaleBins"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["time","utc"]},"nice":{"oneOf":[{"type":"boolean"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false}]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["linear","sqrt","sequential"]},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["log"]},"base":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["pow"]},"exponent":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["symlog"]},"constant":{"$ref":"#/refs/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/refs/signal"}]},"zero":{"$ref":"#/refs/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"count":{"$ref":"#/refs/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"},"numItems":2},{"$ref":"#/refs/signal"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"bins":{"$ref":"#/refs/scaleBins"},"interpolate":{"$ref":"#/refs/scaleInterpolate"},"clamp":{"$ref":"#/refs/booleanOrSignal"},"padding":{"$ref":"#/refs/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/refs/signal"},{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}}]}},{"$ref":"#/refs/scaleData"},{"$ref":"#/refs/signal"}]},"domainMin":{"$ref":"#/refs/numberOrSignal"},"domainMax":{"$ref":"#/refs/numberOrSignal"},"domainMid":{"$ref":"#/refs/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/refs/signal"}]},"reverse":{"$ref":"#/refs/booleanOrSignal"},"round":{"$ref":"#/refs/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false}]},"scope":{"type":"object","properties":{"encode":{"$ref":"#/defs/encode"},"layout":{"$ref":"#/defs/layout"},"signals":{"type":"array","items":{"$ref":"#/defs/signal"}},"data":{"type":"array","items":{"$ref":"#/defs/data"}},"scales":{"type":"array","items":{"$ref":"#/defs/scale"}},"projections":{"type":"array","items":{"$ref":"#/defs/projection"}},"axes":{"type":"array","items":{"$ref":"#/defs/axis"}},"legends":{"type":"array","items":{"$ref":"#/defs/legend"}},"title":{"$ref":"#/defs/title"},"marks":{"type":"array","items":{"oneOf":[{"$ref":"#/defs/markGroup"},{"$ref":"#/defs/markVisual"}]}},"usermeta":{"type":"object"}}},"signalName":{"type":"string","not":{"enum":["parent","datum","event","item"]}},"signal":{"oneOf":[{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"push":{"enum":["outer"]},"on":{"$ref":"#/defs/onEvents"}},"required":["name","push"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"react":{"type":"boolean","default":true},"update":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/defs/signalName"},"description":{"type":"string"},"value":{},"init":{"$ref":"#/refs/exprString"},"on":{"$ref":"#/defs/onEvents"},"bind":{"$ref":"#/defs/bind"}},"required":["name","init"],"additionalProperties":false}]},"stream":{"allOf":[{"type":"object","properties":{"between":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":2,"maxItems":2},"marktype":{"type":"string"},"markname":{"type":"string"},"filter":{"oneOf":[{"$ref":"#/refs/exprString"},{"type":"array","items":{"$ref":"#/refs/exprString"},"minItems":1}]},"throttle":{"type":"number"},"debounce":{"type":"number"},"consume":{"type":"boolean"}}},{"oneOf":[{"type":"object","properties":{"type":{"type":"string"},"source":{"type":"string"}},"required":["type"]},{"type":"object","properties":{"stream":{"$ref":"#/defs/stream"}},"required":["stream"]},{"type":"object","properties":{"merge":{"type":"array","items":{"$ref":"#/defs/stream"},"minItems":1}},"required":["merge"]}]}]},"title":{"oneOf":[{"type":"string"},{"type":"object","properties":{"orient":{"oneOf":[{"enum":["none","left","right","top","bottom"],"default":"top"},{"$ref":"#/refs/signal"}]},"anchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/refs/anchorValue"}]},"frame":{"oneOf":[{"enum":["group","bounds"]},{"$ref":"#/refs/stringValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"aria":{"type":"boolean"},"limit":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"zindex":{"type":"number"},"align":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/refs/alignValue"}]},"angle":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"baseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/refs/baselineValue"}]},"dx":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"dy":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"text":{"$ref":"#/refs/textOrSignal"},"color":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"font":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"fontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"fontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"lineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitle":{"$ref":"#/refs/textOrSignal"},"subtitleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/refs/colorValue"}]},"subtitleFont":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"subtitleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/refs/stringValue"}]},"subtitleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/refs/fontWeightValue"}]},"subtitleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"subtitlePadding":{"$ref":"#/refs/numberOrSignal"},"encode":{"anyOf":[{"type":"object","additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/defs/encodeEntry"}}},{"type":"object","properties":{"group":{"$ref":"#/defs/guideEncode"},"title":{"$ref":"#/defs/guideEncode"},"subtitle":{"$ref":"#/defs/guideEncode"}},"additionalProperties":false}]},"name":{"type":"string"},"interactive":{"type":"boolean"},"style":{"$ref":"#/refs/style"}},"additionalProperties":false}]},"transform":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/contourTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/graticuleTransform"},{"$ref":"#/defs/heatmapTransform"},{"$ref":"#/defs/isocontourTransform"},{"$ref":"#/defs/kde2dTransform"},{"$ref":"#/defs/nestTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treelinksTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/labelTransform"},{"$ref":"#/defs/loessTransform"},{"$ref":"#/defs/regressionTransform"},{"$ref":"#/defs/aggregateTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/countpatternTransform"},{"$ref":"#/defs/crossTransform"},{"$ref":"#/defs/densityTransform"},{"$ref":"#/defs/dotbinTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/filterTransform"},{"$ref":"#/defs/flattenTransform"},{"$ref":"#/defs/foldTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/imputeTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/kdeTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/pivotTransform"},{"$ref":"#/defs/projectTransform"},{"$ref":"#/defs/quantileTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/sequenceTransform"},{"$ref":"#/defs/timeunitTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"transformMark":{"oneOf":[{"$ref":"#/defs/crossfilterTransform"},{"$ref":"#/defs/resolvefilterTransform"},{"$ref":"#/defs/linkpathTransform"},{"$ref":"#/defs/pieTransform"},{"$ref":"#/defs/stackTransform"},{"$ref":"#/defs/forceTransform"},{"$ref":"#/defs/geojsonTransform"},{"$ref":"#/defs/geopathTransform"},{"$ref":"#/defs/geopointTransform"},{"$ref":"#/defs/geoshapeTransform"},{"$ref":"#/defs/heatmapTransform"},{"$ref":"#/defs/packTransform"},{"$ref":"#/defs/partitionTransform"},{"$ref":"#/defs/stratifyTransform"},{"$ref":"#/defs/treeTransform"},{"$ref":"#/defs/treemapTransform"},{"$ref":"#/defs/labelTransform"},{"$ref":"#/defs/binTransform"},{"$ref":"#/defs/collectTransform"},{"$ref":"#/defs/dotbinTransform"},{"$ref":"#/defs/extentTransform"},{"$ref":"#/defs/formulaTransform"},{"$ref":"#/defs/joinaggregateTransform"},{"$ref":"#/defs/lookupTransform"},{"$ref":"#/defs/sampleTransform"},{"$ref":"#/defs/timeunitTransform"},{"$ref":"#/defs/windowTransform"},{"$ref":"#/defs/identifierTransform"},{"$ref":"#/defs/voronoiTransform"},{"$ref":"#/defs/wordcloudTransform"}]},"crossfilterTransform":{"type":"object","properties":{"type":{"enum":["crossfilter"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"query":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]}},"required":["type","fields","query"],"additionalProperties":false},"resolvefilterTransform":{"type":"object","properties":{"type":{"enum":["resolvefilter"]},"signal":{"type":"string"},"ignore":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"filter":{}},"required":["type","ignore","filter"],"additionalProperties":false},"linkpathTransform":{"type":"object","properties":{"type":{"enum":["linkpath"]},"signal":{"type":"string"},"sourceX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.x"},"sourceY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"source.y"},"targetX":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.x"},"targetY":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"target.y"},"orient":{"anyOf":[{"enum":["horizontal","vertical","radial"]},{"$ref":"#/refs/signal"}],"default":"vertical"},"shape":{"anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$ref":"#/refs/signal"}],"default":"line"},"require":{"$ref":"#/refs/signal"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"pieTransform":{"type":"object","properties":{"type":{"enum":["pie"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"startAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"endAngle":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":6.283185307179586},"sort":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["startAngle","endAngle"]}},"required":["type"],"additionalProperties":false},"stackTransform":{"type":"object","properties":{"type":{"enum":["stack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"sort":{"$ref":"#/refs/compare"},"offset":{"anyOf":[{"enum":["zero","center","normalize"]},{"$ref":"#/refs/signal"}],"default":"zero"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["y0","y1"]}},"required":["type"],"additionalProperties":false},"forceTransform":{"type":"object","properties":{"type":{"enum":["force"]},"signal":{"type":"string"},"static":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"restart":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":300},"alpha":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"alphaMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.001},"alphaTarget":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"velocityDecay":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.4},"forces":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"force":{"enum":["center"]},"x":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"y":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["collide"]},"radius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.7},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["nbody"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":-30},"theta":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.9},"distanceMin":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"distanceMax":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["link"]},"links":{"type":"string"},"id":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"distance":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":30},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["x"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["y"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.1},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["force"],"additionalProperties":false}]}},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["x","y","vx","vy"]}},"required":["type"],"additionalProperties":false},"contourTransform":{"type":"object","properties":{"type":{"enum":["contour"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"values":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"weight":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"count":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true}},"required":["type","size"],"additionalProperties":false},"geojsonTransform":{"type":"object","properties":{"type":{"enum":["geojson"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"geojson":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"geopathTransform":{"type":"object","properties":{"type":{"enum":["geopath"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type"],"additionalProperties":false},"geopointTransform":{"type":"object","properties":{"type":{"enum":["geopoint"]},"signal":{"type":"string"},"projection":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["x","y"]}},"required":["type","projection","fields"],"additionalProperties":false},"geoshapeTransform":{"type":"object","properties":{"type":{"enum":["geoshape"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}],"default":"datum"},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"shape"}},"required":["type"],"additionalProperties":false},"graticuleTransform":{"type":"object","properties":{"type":{"enum":["graticule"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMajor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extentMinor":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"step":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"stepMajor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[90,360]},"stepMinor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[10,10]},"precision":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":2.5}},"required":["type"],"additionalProperties":false},"heatmapTransform":{"type":"object","properties":{"type":{"enum":["heatmap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"color":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"opacity":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"image"}},"required":["type"],"additionalProperties":false},"isocontourTransform":{"type":"object","properties":{"type":{"enum":["isocontour"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"levels":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"zero":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"scale":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"translate":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]}},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}],"default":"contour"}},"required":["type"],"additionalProperties":false},"kde2dTransform":{"type":"object","properties":{"type":{"enum":["kde2d"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"weight":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"bandwidth":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"grid"}},"required":["type","size","x","y"],"additionalProperties":false},"nestTransform":{"type":"object","properties":{"type":{"enum":["nest"]},"signal":{"type":"string"},"keys":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"generate":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"packTransform":{"type":"object","properties":{"type":{"enum":["pack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"radius":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":5,"minItems":5,"default":["x","y","r","depth","children"]}},"required":["type"],"additionalProperties":false},"partitionTransform":{"type":"object","properties":{"type":{"enum":["partition"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"stratifyTransform":{"type":"object","properties":{"type":{"enum":["stratify"]},"signal":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"parentKey":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","key","parentKey"],"additionalProperties":false},"treeTransform":{"type":"object","properties":{"type":{"enum":["tree"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["tidy","cluster"]},{"$ref":"#/refs/signal"}],"default":"tidy"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"nodeSize":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"separation":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":4,"minItems":4,"default":["x","y","depth","children"]}},"required":["type"],"additionalProperties":false},"treelinksTransform":{"type":"object","properties":{"type":{"enum":["treelinks"]},"signal":{"type":"string"}},"required":["type"],"additionalProperties":false},"treemapTransform":{"type":"object","properties":{"type":{"enum":["treemap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"sort":{"$ref":"#/refs/compare"},"method":{"anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$ref":"#/refs/signal"}],"default":"squarify"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingInner":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingOuter":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingTop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingRight":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingBottom":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"paddingLeft":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"ratio":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1.618033988749895},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":6,"minItems":6,"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"labelTransform":{"type":"object","properties":{"type":{"enum":["label"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"sort":{"$ref":"#/refs/compare"},"anchor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"]},"offset":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":[1]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"lineAnchor":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"end"},"markIndex":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"avoidBaseMark":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"avoidMarks":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"naive"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":5,"minItems":5,"default":["x","y","opacity","align","baseline"]}},"required":["type","size"],"additionalProperties":false},"loessTransform":{"type":"object","properties":{"type":{"enum":["loess"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.3},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"regressionTransform":{"type":"object","properties":{"type":{"enum":["regression"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"linear"},"order":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":3},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"params":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","x","y"],"additionalProperties":false},"aggregateTransform":{"type":"object","properties":{"type":{"enum":["aggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"drop":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"cross":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"binTransform":{"type":"object","properties":{"type":{"enum":["bin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"anchor":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":20},"base":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":10},"divide":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":[5,2]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"span":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"minstep":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"name":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["bin0","bin1"]}},"required":["type","field","extent"],"additionalProperties":false},"collectTransform":{"type":"object","properties":{"type":{"enum":["collect"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"}},"required":["type"],"additionalProperties":false},"countpatternTransform":{"type":"object","properties":{"type":{"enum":["countpattern"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"case":{"anyOf":[{"enum":["upper","lower","mixed"]},{"$ref":"#/refs/signal"}],"default":"mixed"},"pattern":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"[\\\\w\\"]+"},"stopwords":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["text","count"]}},"required":["type","field"],"additionalProperties":false},"crossTransform":{"type":"object","properties":{"type":{"enum":["cross"]},"signal":{"type":"string"},"filter":{"$ref":"#/refs/exprString"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["a","b"]}},"required":["type"],"additionalProperties":false},"densityTransform":{"type":"object","properties":{"type":{"enum":["density"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"method":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"pdf"},"distribution":{"oneOf":[{"type":"object","properties":{"function":{"enum":["normal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["lognormal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["uniform"]},"min":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"max":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["kde"]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"from":{"type":"string"},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},"required":["function","field"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["mixture"]},"distributions":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"weights":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["function"],"additionalProperties":false}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type"],"additionalProperties":false},"dotbinTransform":{"type":"object","properties":{"type":{"enum":["dotbin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"bin"}},"required":["type","field"],"additionalProperties":false},"extentTransform":{"type":"object","properties":{"type":{"enum":["extent"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field"],"additionalProperties":false},"filterTransform":{"type":"object","properties":{"type":{"enum":["filter"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"}},"required":["type","expr"],"additionalProperties":false},"flattenTransform":{"type":"object","properties":{"type":{"enum":["flatten"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"index":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]}},"required":["type","fields"],"additionalProperties":false},"foldTransform":{"type":"object","properties":{"type":{"enum":["fold"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["key","value"]}},"required":["type","fields"],"additionalProperties":false},"formulaTransform":{"type":"object","properties":{"type":{"enum":["formula"]},"signal":{"type":"string"},"expr":{"$ref":"#/refs/exprString"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"initonly":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type","expr","as"],"additionalProperties":false},"imputeTransform":{"type":"object","properties":{"type":{"enum":["impute"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"keyvals":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"method":{"anyOf":[{"enum":["value","mean","median","max","min"]},{"$ref":"#/refs/signal"}],"default":"value"},"value":{}},"required":["type","field","key"],"additionalProperties":false},"joinaggregateTransform":{"type":"object","properties":{"type":{"enum":["joinaggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type"],"additionalProperties":false},"kdeTransform":{"type":"object","properties":{"type":{"enum":["kde"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"cumulative":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/refs/signal"}],"default":"independent"},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":200},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["value","density"]}},"required":["type","field"],"additionalProperties":false},"lookupTransform":{"type":"object","properties":{"type":{"enum":["lookup"]},"signal":{"type":"string"},"from":{"type":"string"},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"default":{}},"required":["type","from","key","fields"],"additionalProperties":false},"pivotTransform":{"type":"object","properties":{"type":{"enum":["pivot"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"value":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"op":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}],"default":"sum"},"limit":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"key":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},"required":["type","field","value"],"additionalProperties":false},"projectTransform":{"type":"object","properties":{"type":{"enum":["project"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"quantileTransform":{"type":"object","properties":{"type":{"enum":["quantile"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"probs":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":0.01},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"default":["prob","value"]}},"required":["type","field"],"additionalProperties":false},"sampleTransform":{"type":"object","properties":{"type":{"enum":["sample"]},"signal":{"type":"string"},"size":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1000}},"required":["type"],"additionalProperties":false},"sequenceTransform":{"type":"object","properties":{"type":{"enum":["sequence"]},"signal":{"type":"string"},"start":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stop":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"data"}},"required":["type","start","stop"],"additionalProperties":false},"timeunitTransform":{"type":"object","properties":{"type":{"enum":["timeunit"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}],"default":true},"units":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["year","quarter","month","week","date","day","dayofyear","hours","minutes","seconds","milliseconds"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":1},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}],"default":40},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"timezone":{"anyOf":[{"enum":["local","utc"]},{"$ref":"#/refs/signal"}],"default":"local"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":["unit0","unit1"]}},"required":["type","field"],"additionalProperties":false},"windowTransform":{"type":"object","properties":{"type":{"enum":["window"]},"signal":{"type":"string"},"sort":{"$ref":"#/refs/compare"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]}},{"$ref":"#/refs/signal"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","prev_value","next_value","values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}]},"params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}]},"frame":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"type":"null"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[null,0]},"ignorePeers":{"anyOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]}},"required":["type"],"additionalProperties":false},"identifierTransform":{"type":"object","properties":{"type":{"enum":["identifier"]},"signal":{"type":"string"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},"required":["type","as"],"additionalProperties":false},"voronoiTransform":{"type":"object","properties":{"type":{"enum":["voronoi"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"y":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"extent":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2,"default":[[-100000,-100000],[100000,100000]]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}],"default":"path"}},"required":["type","x","y"],"additionalProperties":false},"wordcloudTransform":{"type":"object","properties":{"type":{"enum":["wordcloud"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":2,"minItems":2},"font":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"sans-serif"},"fontStyle":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontWeight":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":"normal"},"fontSize":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}],"default":14},"fontSizeRange":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"},{"type":"null"}],"default":[10,50]},"rotate":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"text":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/paramField"},{"$ref":"#/refs/expr"}]},"spiral":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/refs/signal"},{"$ref":"#/refs/expr"},{"$ref":"#/refs/paramField"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/refs/signal"}]}},{"$ref":"#/refs/signal"}],"maxItems":7,"minItems":7,"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},"required":["type"],"additionalProperties":false}},"refs":{"labelOverlap":{"oneOf":[{"type":"boolean"},{"enum":["parity","greedy"]},{"$ref":"#/refs/signal"}]},"tickBand":{"oneOf":[{"enum":["center","extent"]},{"$ref":"#/refs/signal"}]},"tickCount":{"oneOf":[{"type":"number"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/refs/signal"}]},"step":{"$ref":"#/refs/numberOrSignal"}},"required":["interval"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"element":{"type":"string"},"paramField":{"type":"object","properties":{"field":{"type":"string"},"as":{"type":"string"}},"required":["field"],"additionalProperties":false},"field":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"datum":{"$ref":"#/refs/field"}},"required":["datum"],"additionalProperties":false},{"type":"object","properties":{"group":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["group"],"additionalProperties":false},{"type":"object","properties":{"parent":{"$ref":"#/refs/field"},"level":{"type":"number"}},"required":["parent"],"additionalProperties":false}]},"scale":{"$ref":"#/refs/field"},"stringModifiers":{"type":"object","properties":{"scale":{"$ref":"#/refs/scale"}}},"numberModifiers":{"type":"object","properties":{"exponent":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"mult":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/refs/numberValue"}]},"round":{"type":"boolean","default":false},"scale":{"$ref":"#/refs/scale"},"band":{"oneOf":[{"type":"number"},{"type":"boolean"}]},"extra":{"type":"boolean"}}},"anyValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"blendValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"numberValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"stringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"textValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"booleanValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"arrayValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"fontWeightValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"anchorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"alignValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baselineValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"directionValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"orientValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeCapValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeJoinValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baseColorValue":{"oneOf":[{"allOf":[{"$ref":"#/refs/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/refs/signal"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/refs/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]},{"type":"object","properties":{"value":{"$ref":"#/refs/linearGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"value":{"$ref":"#/refs/radialGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"gradient":{"$ref":"#/refs/scale"},"start":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"stop":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"count":{"type":"number"}},"required":["gradient"],"additionalProperties":false},{"type":"object","properties":{"color":{"oneOf":[{"$ref":"#/refs/colorRGB"},{"$ref":"#/refs/colorHSL"},{"$ref":"#/refs/colorLAB"},{"$ref":"#/refs/colorHCL"}]}},"required":["color"],"additionalProperties":false}]},"colorRGB":{"type":"object","properties":{"r":{"$ref":"#/refs/numberValue"},"g":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["r","g","b"]},"colorHSL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"s":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","s","l"]},"colorLAB":{"type":"object","properties":{"l":{"$ref":"#/refs/numberValue"},"a":{"$ref":"#/refs/numberValue"},"b":{"$ref":"#/refs/numberValue"}},"required":["l","a","b"]},"colorHCL":{"type":"object","properties":{"h":{"$ref":"#/refs/numberValue"},"c":{"$ref":"#/refs/numberValue"},"l":{"$ref":"#/refs/numberValue"}},"required":["h","c","l"]},"colorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/defs/rule"},{"$ref":"#/refs/baseColorValue"}]}},{"$ref":"#/refs/baseColorValue"}]},"gradientStops":{"type":"array","items":{"type":"object","properties":{"offset":{"type":"number"},"color":{"type":"string"}},"required":["offset","color"],"additionalProperties":false}},"linearGradient":{"type":"object","properties":{"gradient":{"enum":["linear"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"radialGradient":{"type":"object","properties":{"gradient":{"enum":["radial"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"r1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"r2":{"type":"number"},"stops":{"$ref":"#/refs/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"expr":{"type":"object","properties":{"expr":{"type":"string"},"as":{"type":"string"}},"required":["expr"]},"exprString":{"type":"string"},"compare":{"oneOf":[{"type":"object","properties":{"field":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"type":"array","items":{"oneOf":[{"$ref":"#/refs/scaleField"},{"$ref":"#/refs/expr"}]}},"order":{"type":"array","items":{"$ref":"#/refs/sortOrder"}}},"additionalProperties":false}]},"from":{"type":"object","properties":{"data":{"type":"string"}},"additionalProperties":false},"facet":{"type":"object","properties":{"data":{"type":"string"},"facet":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"field":{"type":"string"}},"required":["name","data","field"],"additionalProperties":false},{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"groupby":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"aggregate":{"type":"object","properties":{"cross":{"type":"boolean"},"fields":{"type":"array","items":{"type":"string"}},"ops":{"type":"array","items":{"type":"string"}},"as":{"type":"array","items":{"type":"string"}}},"additionalProperties":false}},"required":["name","data","groupby"],"additionalProperties":false}]}},"required":["facet"],"additionalProperties":false},"markclip":{"oneOf":[{"$ref":"#/refs/booleanOrSignal"},{"type":"object","properties":{"path":{"$ref":"#/refs/stringOrSignal"}},"required":["path"],"additionalProperties":false},{"type":"object","properties":{"sphere":{"$ref":"#/refs/stringOrSignal"}},"required":["sphere"],"additionalProperties":false}]},"style":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"marktype":{"type":"string"},"scaleField":{"$ref":"#/refs/stringOrSignal"},"sortOrder":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#/refs/signal"}]},"scaleBins":{"oneOf":[{"type":"array","items":{"$ref":"#/refs/numberOrSignal"}},{"type":"object","properties":{"step":{"$ref":"#/refs/numberOrSignal"},"start":{"$ref":"#/refs/numberOrSignal"},"stop":{"$ref":"#/refs/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/refs/signal"}]},"scaleInterpolate":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"},{"type":"object","properties":{"type":{"$ref":"#/refs/stringOrSignal"},"gamma":{"$ref":"#/refs/numberOrSignal"}},"required":["type"],"additionalProperties":false}]},"scaleData":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"$ref":"#/refs/stringOrSignal"},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/refs/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/refs/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/refs/signal"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/refs/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/refs/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/refs/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},"selector":{"type":"string"},"signal":{"type":"object","properties":{"signal":{"type":"string"}},"required":["signal"]},"arrayOrSignal":{"oneOf":[{"type":"array"},{"$ref":"#/refs/signal"}]},"booleanOrSignal":{"oneOf":[{"type":"boolean"},{"$ref":"#/refs/signal"}]},"numberOrSignal":{"oneOf":[{"type":"number"},{"$ref":"#/refs/signal"}]},"stringOrSignal":{"oneOf":[{"type":"string"},{"$ref":"#/refs/signal"}]},"textOrSignal":{"oneOf":[{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},{"$ref":"#/refs/signal"}]}},"type":"object","allOf":[{"$ref":"#/defs/scope"},{"properties":{"$schema":{"type":"string","format":"uri"},"config":{"type":"object"},"description":{"type":"string"},"width":{"$ref":"#/refs/numberOrSignal"},"height":{"$ref":"#/refs/numberOrSignal"},"padding":{"$ref":"#/defs/padding"},"autosize":{"$ref":"#/defs/autosize"},"background":{"$ref":"#/defs/background"},"style":{"$ref":"#/refs/style"}}}]}')},function(e,t,n){const r=n(310);e.exports=(e,t,n)=>0!==r(e,t,n)},function(e,t,n){const r=n(915),i=n(1266),a=n(687),o=n(918),u=n(917),s=n(919);e.exports=(e,t,n,f)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,f);case"!=":return i(e,n,f);case">":return a(e,n,f);case">=":return o(e,n,f);case"<":return u(e,n,f);case"<=":return s(e,n,f);default:throw new TypeError("Invalid operator: "+t)}}},function(e,t,n){"use strict";const r={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}};t.a=r},function(e,t,n){"use strict";const r={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}};t.a=r},function(e,t,n){"use strict";const r={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}};t.a=r},function(e,t,n){"use strict";const r={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}};t.a=r},function(e,t,n){"use strict";const r="Benton Gothic Bold, sans-serif",i={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},a={background:"#ffffff",title:{anchor:"start",color:"#000000",font:r,fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:r,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:r,titleFontSize:13,titleFontWeight:"normal"},range:{category:i["category-6"],diverging:i["fireandice-6"],heatmap:i["fire-7"],ordinal:i["fire-7"],ramp:i["fire-7"]}};t.a=a},function(e,t,n){"use strict";const r={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}};t.a=r},function(e,t,n){"use strict";const r={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}};t.a=r},function(e,t,n){"use strict";const r={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},i={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:r["six-groups-cat-1"],diverging:r["diverging-colors"],heatmap:r["diverging-colors"],ordinal:r["six-groups-seq"],ramp:r["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}};t.a=i},function(e,t,n){"use strict";const r={arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}};t.a=r},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(257),i=n(1);t.a=function(e,t,n,a){var o,u=1;return e instanceof r.a?o=e:e&&e.prototype instanceof r.a?o=new e:Object(i.D)(e)?o=new r.a(null,e):(u=0,o=new r.a(e,t)),this.rank(o),u&&(a=n,n=t),n&&this.connect(o,o.parameters(n,a)),this.touch(o),o}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)}},function(e,t,n){"use strict";var r=n(700),i=n(1);t.a=function(e,t,n,a){for(var o,u=this,s=Object(r.b)(n,a),f=function(e){e.dataflow=u;try{s.receive(e)}catch(e){u.error(e)}finally{u.run()}},c=0,l=(o="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):Object(i.i)(e)).length;c<l;++c)o[c].addEventListener(t,f);return s}},function(e,t,n){"use strict";var r=n(1);const i=/^([A-Za-z]+:)?\/\//,a=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,o=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;async function u(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function s(e,t){t=Object(r.o)({},this.options,t);const n=this.fileAccess,u={href:null};let s,f,c;const l=a.test(e.replace(o,""));null!=e&&"string"==typeof e&&l||Object(r.n)("Sanitize failure, invalid URI: "+Object(r.Z)(e));const d=i.test(e);return(c=t.baseURL)&&!d&&(e.startsWith("/")||"/"===c[c.length-1]||(e="/"+e),e=c+e),f=(s=e.startsWith("file://"))||"file"===t.mode||"http"!==t.mode&&!d&&n,s?e=e.slice("file://".length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),f=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(u,"localFile",{value:!!f}),u.href=e,t.target&&(u.target=t.target+""),t.rel&&(u.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(u.crossOrigin=t.crossOrigin+""),u}function f(e){return e?function(t){return new Promise((function(n,r){e.readFile(t,(function(e,t){e?r(e):n(t)}))}))}:c}async function c(){Object(r.n)("No file system access.")}function l(e){return e?async function(t,n){const i=Object(r.o)({},this.options.http,n),a=n&&n.response,o=await e(t,i);return o.ok?Object(r.D)(o[a])?o[a]():o.text():Object(r.n)(o.status+""+o.statusText)}:d}async function d(){Object(r.n)("No HTTP fetch method available.")}t.a=function(e,t){return function(n){return{options:n||{},sanitize:s,load:u,fileAccess:!!t,file:f(t),http:l(e)}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(769),i=n(991),a=n(1);const o={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function u(e,t){let n,u,s,f;return e=Object(r.a)(e,t),t&&t.feature?(n=i.a,s=t.feature):t&&t.mesh?(n=i.b,s=t.mesh,f=o[t.filter]):Object(a.n)("Missing TopoJSON feature or mesh parameter."),u=(u=e.objects[s])?n(e,u,f):Object(a.n)("Invalid TopoJSON object: "+s),u&&u.features||[u]}u.responseType="json"},,,,,function(e,t,n){"use strict";var r=n(257),i=n(460),a=n(1),o={skip:!0};function u(e,t,n,u,s,f){var c,l,d=Object(a.o)({},f,o);Object(a.D)(n)||(n=Object(a.l)(n)),void 0===u?c=t=>e.touch(n(t)):Object(a.D)(u)?(l=new r.a(null,u,s,!1),c=t=>{l.evaluate(t);const r=n(t),a=l.value;Object(i.b)(a)?e.pulse(r,a,f):e.update(r,a,d)}):c=t=>e.update(n(t),u,d),t.apply(c)}function s(e,t,n,i,o,u){if(void 0===i)t.targets().add(n);else{const s=u||{},f=new r.a(null,function(e,t){return t=Object(a.D)(t)?t:Object(a.l)(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}(n,i),o,!1);f.modified(s.force),f.rank=t.rank,t.targets().add(f),n&&(f.skip(!0),f.value=n.value,f.targets().add(n),e.connect(n,[f]))}}t.a=function(e,t,n,i,a){return(e instanceof r.a?s:u)(this,e,t,n,i,a),this}},function(e,t,n){"use strict";function r(e){var t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),i(t,0,t.length-1,e)),pop:()=>{var n,r=t.pop();return t.length?(n=t[0],t[0]=r,function(e,t,n){var r,a=t,o=e.length,u=e[t],s=1+(t<<1);for(;s<o;)(r=s+1)<o&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],s=1+((t=s)<<1);e[t]=u,i(e,a,t,n)}(t,0,e)):n=r,n}}}function i(e,t,n,r){var i,a,o;for(i=e[n];n>t&&r(i,a=e[o=n-1>>1])<0;)e[n]=a,n=o;return e[n]=i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t);var r=n(415);n.d(t,"aggregate",(function(){return r.a}));var i=n(1139);n.d(t,"bin",(function(){return i.a}));var a=n(1140);n.d(t,"collect",(function(){return a.a}));var o=n(1141);n.d(t,"compare",(function(){return o.a}));var u=n(1142);n.d(t,"countpattern",(function(){return u.a}));var s=n(1143);n.d(t,"cross",(function(){return s.a}));var f=n(1144);n.d(t,"density",(function(){return f.a}));var c=n(1145);n.d(t,"dotbin",(function(){return c.a}));var l=n(1146);n.d(t,"expression",(function(){return l.a}));var d=n(1147);n.d(t,"extent",(function(){return d.a}));var p=n(612);n.d(t,"facet",(function(){return p.a}));var m=n(1148);n.d(t,"field",(function(){return m.a}));var b=n(1149);n.d(t,"filter",(function(){return b.a}));var h=n(1150);n.d(t,"flatten",(function(){return h.a}));var g=n(1151);n.d(t,"fold",(function(){return g.a}));var y=n(1152);n.d(t,"formula",(function(){return y.a}));var O=n(1153);n.d(t,"generate",(function(){return O.a}));var v=n(1154);n.d(t,"impute",(function(){return v.a}));var j=n(1155);n.d(t,"joinaggregate",(function(){return j.a}));var $=n(1156);n.d(t,"kde",(function(){return $.a}));var x=n(1157);n.d(t,"key",(function(){return x.a}));var k=n(1158);n.d(t,"load",(function(){return k.a}));var A=n(1159);n.d(t,"lookup",(function(){return A.a}));var E=n(1160);n.d(t,"multiextent",(function(){return E.a}));var w=n(1161);n.d(t,"multivalues",(function(){return w.a}));var _=n(1162);n.d(t,"params",(function(){return _.a}));var F=n(1163);n.d(t,"pivot",(function(){return F.a}));var D=n(1164);n.d(t,"prefacet",(function(){return D.a}));var S=n(1165);n.d(t,"project",(function(){return S.a}));var C=n(1166);n.d(t,"proxy",(function(){return C.a}));var M=n(1167);n.d(t,"quantile",(function(){return M.a}));var q=n(1168);n.d(t,"relay",(function(){return q.a}));var R=n(1169);n.d(t,"sample",(function(){return R.a}));var T=n(1170);n.d(t,"sequence",(function(){return T.a}));var B=n(1171);n.d(t,"sieve",(function(){return B.a}));var z=n(709);n.d(t,"subflow",(function(){return z.a}));var I=n(1172);n.d(t,"timeunit",(function(){return I.a}));var P=n(1173);n.d(t,"tupleindex",(function(){return P.a}));var L=n(1174);n.d(t,"values",(function(){return L.a}));var N=n(1175);n.d(t,"window",(function(){return N.a}))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(72),i=n(1),a={kde:r.r,mixture:r.u,normal:r.v,lognormal:r.t,uniform:r.w};function o(e,t){var n=e.function;Object(i.v)(a,n)||Object(i.n)("Unknown distribution function: "+n);var r=a[n]();for(var u in e)"field"===u?r.data((e.from||t()).map(e[u])):"distributions"===u?r[u](e[u].map((function(e){return o(e,t)}))):"function"==typeof r[u]&&r[u](e[u]);return r}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(235),i=n(773),a=n(625),o=n(1);function u(e){let t=this,n=Object(o.i)(e.ops),u=Object(o.i)(e.fields),s=Object(o.i)(e.params),f=Object(o.i)(e.as),c=t.outputs=[],l=t.windows=[],d={},p={},m=!0,b=[],h=[];function g(e){Object(o.i)(Object(o.g)(e)).forEach(e=>d[e]=1)}g(e.sort),n.forEach((function(e,t){let n=u[t],i=Object(o.h)(n),d=Object(r.d)(e,i,f[t]);if(g(n),c.push(d),Object(o.v)(a.c,e))l.push(Object(a.b)(e,u[t],s[t],d));else{if(null==n&&"count"!==e&&Object(o.n)("Null aggregate field specified."),"count"===e)return void b.push(d);m=!1;let t=p[i];t||(t=p[i]=[],t.field=n,h.push(t)),t.push(Object(r.c)(e,d))}})),(b.length||h.length)&&(t.cell=function(e,t,n){e=e.map(e=>Object(r.b)(e,e.field));let a={num:0,agg:null,store:!1,count:t};if(!n)for(var o=e.length,u=a.agg=Array(o),s=0;s<o;++s)u[s]=new e[s](a);if(a.store)var f=a.data=new i.a;return a.add=function(e){if(a.num+=1,!n){f&&f.add(e);for(let t=0;t<o;++t)u[t].add(u[t].get(e),e)}},a.rem=function(e){if(a.num-=1,!n){f&&f.rem(e);for(let t=0;t<o;++t)u[t].rem(u[t].get(e),e)}},a.set=function(e){let r,i;for(f&&f.values(),r=0,i=t.length;r<i;++r)e[t[r]]=a.num;if(!n)for(r=0,i=u.length;r<i;++r)u[r].set(e)},a.init=function(){a.num=0,f&&f.reset();for(let e=0;e<o;++e)u[e].init()},a}(h,b,m)),t.inputs=Object.keys(d)}const s=u.prototype;s.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},s.update=function(e,t){let n,r=this.cell,i=this.windows,a=e.data,o=i&&i.length;if(r){for(n=e.p0;n<e.i0;++n)r.rem(a[n]);for(n=e.p1;n<e.i1;++n)r.add(a[n]);r.set(t)}for(n=0;n<o;++n)i[n].update(e,t)}},function(e,t,n){"use strict";n.r(t);var r=n(1176);n.d(t,"bound",(function(){return r.a}));var i=n(1187);n.d(t,"identifier",(function(){return i.a}));var a=n(1188);n.d(t,"mark",(function(){return a.a}));var o=n(1189);n.d(t,"overlap",(function(){return o.a}));var u=n(1190);n.d(t,"render",(function(){return u.a}));var s=n(1191);n.d(t,"viewlayout",(function(){return s.a}))},,,,,,,function(e,t,n){"use strict";var r=n(151),i=n(540);t.a=Object(i.a)("arc",r.a)},function(e,t,n){"use strict";var r=n(279),i=n(288);function a(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}t.a=function(e,t,n){const o=n.width(),u=n.height();let s;if("radial"===t.gradient)s=e.createRadialGradient(n.x1+Object(r.a)(t.x1,.5)*o,n.y1+Object(r.a)(t.y1,.5)*u,Math.max(o,u)*Object(r.a)(t.r1,0),n.x1+Object(r.a)(t.x2,.5)*o,n.y1+Object(r.a)(t.y2,.5)*u,Math.max(o,u)*Object(r.a)(t.r2,.5));else{const f=Object(r.a)(t.x1,0),c=Object(r.a)(t.y1,0),l=Object(r.a)(t.x2,1),d=Object(r.a)(t.y2,0);if(f!==l&&c!==d&&o!==u){const n=Object(i.a)(Math.ceil(o),Math.ceil(u)),r=n.getContext("2d");return r.scale(o,u),r.fillStyle=a(r.createLinearGradient(f,c,l,d),t.stops),r.fillRect(0,0,o,u),e.createPattern(n,"no-repeat")}s=e.createLinearGradient(n.x1+f*o,n.y1+c*u,n.x1+l*o,n.y1+d*u)}return a(s,t.stops)}},function(e,t,n){"use strict";var r=n(151),i=n(541),a=n(542);t.a=Object(a.a)("area",r.b,i.a)},function(e,t,n){"use strict";var r=n(151),i=n(250),a=n(157),o=n(279),u=n(150),s=n(316),f=n(777),c=n(474),l=n(347),d=n(207),p=n(331),m=n(231);function b(e){const t=Object(o.a)(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function h(e,t){const n=b(t);e("d",Object(r.e)(null,t,n,n))}function g(e,t,n,i){const a=b(t);e.beginPath(),Object(r.e)(e,t,(n||0)+a,(i||0)+a)}const y=Object(d.a)(g),O=Object(d.a)(g,!1);t.a={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Object(m.d)(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let t=0;t<r;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Object(i.a)(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){Object(u.b)(t,t=>{const r=t.x||0,i=t.y||0,a=t.strokeForeground,o=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&o&&(g(e,t,r,i),Object(s.a)(e,t),t.fill&&Object(c.a)(e,t,o)&&e.fill(),t.stroke&&!a&&Object(l.a)(e,t,o)&&e.stroke()),e.save(),e.translate(r,i),t.clip&&Object(f.a)(e,t),n&&n.translate(-r,-i),Object(u.b)(t,t=>{this.draw(e,t,n)}),n&&n.translate(r,i),e.restore(),a&&t.stroke&&o&&(g(e,t,r,i),Object(s.a)(e,t),Object(l.a)(e,t,o)&&e.stroke())})},pick:function(e,t,n,i,a,o){if(t.bounds&&!t.bounds.contains(a,o)||!t.items)return null;const s=n*e.pixelRatio,f=i*e.pixelRatio;return Object(u.a)(t,c=>{let l,d,p,m,b,h,g,v,j;if(v=c.bounds,(!v||v.contains(a,o))&&(m=c.x||0,b=c.y||0,h=m+(c.width||0),g=b+(c.height||0),j=c.clip,!j||!(a<m||a>h||o<b||o>g)))return e.save(),e.translate(m,b),m=a-m,b=o-b,j&&Object(r.c)(c)&&!y(e,c,s,f)?(e.restore(),null):(d=c.strokeForeground,p=!1!==t.interactive,p&&d&&c.stroke&&O(e,c,s,f)?(e.restore(),c):(l=Object(u.a)(c,e=>function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,m,b)?this.pick(e,n,i,m,b):null),!l&&p&&(c.fill||!d&&c.stroke)&&y(e,c,s,f)&&(l=c),e.restore(),l||null))})},isect:a.d,content:function(e,t,n){e("clip-path",t.clip?Object(p.a)(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),h(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?h(e,t):e("d","")}}},function(e,t,n){"use strict";var r=n(150),i=n(316),a=n(207),o=n(381),u=n(231),s=n(1);function f(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(t=>{e.image=t,e.image.url=e.url})),n}function c(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function l(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function d(e,t){return"center"===e?t/2:"right"===e?t:0}function p(e,t){return"middle"===e?t/2:"bottom"===e?t:0}t.a={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const r=f(t,n),i=c(t,r),a=l(t,r),s=(t.x||0)-d(t.align,i),m=(t.y||0)-p(t.baseline,a);e("href",!r.src&&r.toDataURL?r.toDataURL():r.src||"",o.a["xmlns:xlink"],"xlink:href"),e("transform",Object(u.c)(s,m)),e("width",i),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const n=t.image,r=c(t,n),i=l(t,n),a=(t.x||0)-d(t.align,r),o=(t.y||0)-p(t.baseline,i);return e.set(a,o,a+r,o+i)},draw:function(e,t,n){Object(r.b)(t,t=>{if(n&&!n.intersects(t.bounds))return;let r,a,o,u,s=f(t,this),m=c(t,s),b=l(t,s),h=(t.x||0)-d(t.align,m),g=(t.y||0)-p(t.baseline,b);!1!==t.aspect&&(a=s.width/s.height,o=t.width/t.height,a==a&&o==o&&a!==o&&(o<a?(u=m/a,g+=(b-u)/2,b=u):(u=b*a,h+=(m-u)/2,m=u))),(s.complete||s.toDataURL)&&(Object(i.a)(e,t),e.globalAlpha=null!=(r=t.opacity)?r:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(s,h,g,m,b))})},pick:Object(a.b)(),isect:s.gb,get:f,xOffset:d,yOffset:p}},function(e,t,n){"use strict";var r=n(151),i=n(541),a=n(542);t.a=Object(a.a)("line",r.d,i.b)},function(e,t,n){"use strict";var r=n(250),i=n(332),a=n(371),o=n(467),u=n(157),s=n(416),f=n(207),c=n(231),l=n(99);function d(e,t){var n=t.path;if(null==n)return!0;var r=t.x||0,i=t.y||0,u=t.scaleX||1,s=t.scaleY||1,f=(t.angle||0)*l.a,c=t.pathCache;c&&c.path===n||((t.pathCache=c=Object(a.a)(n)).path=n),f&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(f),Object(o.a)(e,c,0,0,u,s),e.rotate(-f),e.translate(-r,-i)):Object(o.a)(e,c,r,i,u,s)}t.a={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,r=t.scaleY||1;1===n&&1===r||e("vector-effect","non-scaling-stroke"),e("transform",Object(c.b)(t)),e("d",t.path)},bound:function(e,t){return d(Object(i.a)(e),t)?e.set(0,0,0,0):Object(r.a)(e,t,!0),t.angle&&e.rotate(t.angle*l.a,t.x||0,t.y||0),e},draw:Object(s.a)(d),pick:Object(f.c)(d),isect:Object(u.b)(d)}},function(e,t,n){"use strict";var r=n(250),i=n(151),a=n(157),o=n(416),u=n(207);function s(e,t){e.beginPath(),Object(i.e)(e,t)}t.a={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",Object(i.e)(null,t))},bound:function(e,t){var n,i;return Object(r.a)(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)},draw:Object(o.a)(s),pick:Object(u.c)(s),isect:a.d}},function(e,t,n){"use strict";var r=n(250),i=n(157),a=n(150),o=n(316),u=n(207),s=n(347),f=n(231);function c(e,t,n){var r,i,a,o;return!(!t.stroke||!Object(s.a)(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}t.a={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Object(f.d)(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,i;return Object(r.a)(e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i),t)},draw:function(e,t,n){Object(a.b)(t,(function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&c(e,t,r)&&(Object(o.a)(e,t),e.stroke())}}))},pick:Object(u.b)((function(e,t,n,r){return!!e.isPointInStroke&&(c(e,t,1)&&e.isPointInStroke(n,r))})),isect:i.e}},function(e,t,n){"use strict";var r=n(151),i=n(540);t.a=Object(i.a)("shape",r.f)},function(e,t,n){"use strict";var r=n(151),i=n(157),a=n(540);t.a=Object(a.a)("symbol",r.g,i.c)},function(e,t,n){"use strict";var r=n(169),i=n(99),a=n(112),o=n(157),u=n(150),s=n(316),f=n(474),c=n(207),l=n(347),d=n(231),p=n(1),m={left:"start",center:"middle",right:"end"},b=new r.a;function h(e){var t,n=e.x||0,r=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-i.c,n+=a*Math.cos(t),r+=a*Math.sin(t)),b.x1=n,b.y1=r,b}function g(e,t,n){var r,o=a.h.height(t),u=t.align,s=h(t),f=s.x1,c=s.y1,l=t.dx||0,d=(t.dy||0)+Object(a.f)(t)-Math.round(.8*o),m=Object(a.g)(t);if(Object(p.A)(m)?(o+=Object(a.d)(t)*(m.length-1),r=m.reduce((e,n)=>Math.max(e,a.h.width(t,n)),0)):r=a.h.width(t,m),"center"===u?l-=r/2:"right"===u&&(l-=r),e.set(l+=f,d+=c,l+r,d+o),t.angle&&!n)e.rotate(t.angle*i.a,f,c);else if(2===n)return e.rotatedPoints(t.angle*i.a,f,c);return e}t.a={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,r=t.dx||0,i=(t.dy||0)+Object(a.f)(t),o=h(t),u=o.x1,s=o.y1,f=t.angle||0;e("text-anchor",m[t.align]||"start"),f?(n=Object(d.c)(u,s)+" "+Object(d.a)(f),(r||i)&&(n+=" "+Object(d.c)(r,i))):n=Object(d.c)(u+r,s+i),e("transform",n)},bound:g,draw:function(e,t,n){Object(u.b)(t,(function(t){var r,o,u,c,d,m,b,g=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===g||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=Object(a.a)(t),e.textAlign=t.align||"left",o=(r=h(t)).x1,u=r.y1,t.angle&&(e.save(),e.translate(o,u),e.rotate(t.angle*i.a),o=u=0),o+=t.dx||0,u+=(t.dy||0)+Object(a.f)(t),m=Object(a.g)(t),Object(s.a)(e,t),Object(p.A)(m))for(d=Object(a.d)(t),c=0;c<m.length;++c)b=Object(a.i)(t,m[c]),t.fill&&Object(f.a)(e,t,g)&&e.fillText(b,o,u),t.stroke&&Object(l.a)(e,t,g)&&e.strokeText(b,o,u),u+=d;else b=Object(a.i)(t,m),t.fill&&Object(f.a)(e,t,g)&&e.fillText(b,o,u),t.stroke&&Object(l.a)(e,t,g)&&e.strokeText(b,o,u);t.angle&&e.restore()}}))},pick:Object(c.b)((function(e,t,n,r,a,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var u=h(t),s=u.x1,f=u.y1,c=g(b,t,1),l=-t.angle*i.a,d=Math.cos(l),p=Math.sin(l),m=d*a-p*o+(s-d*s+p*f),y=p*a+d*o+(f-p*s-d*f);return c.contains(m,y)})),isect:function(e,t){var n=g(b,e,2);return Object(o.a)(t,n[0],n[1],n[2],n[3])||Object(o.a)(t,n[0],n[1],n[4],n[5])||Object(o.a)(t,n[4],n[5],n[6],n[7])||Object(o.a)(t,n[2],n[3],n[6],n[7])}}},function(e,t,n){"use strict";var r=n(151),i=n(541),a=n(542);t.a=Object(a.a)("trail",r.h,i.c)},function(e,t,n){"use strict";var r=n(179),i=n(526);t.a=function(e,t,n,a){var o,u,s=e&&e.mark;if(s&&(o=r.a[s.marktype]).tip){for((u=Object(i.a)(t,n))[0]-=a[0],u[1]-=a[1];e=e.mark.group;)u[0]-=e.x||0,u[1]-=e.y||0;e=o.tip(s.items,u)}return e}},function(e,t,n){"use strict";var r="undefined"!=typeof window&&window.devicePixelRatio||1;t.a=function(e,t,n,i,a,o){const u="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),f=u?r:a;e.width=t*f,e.height=n*f;for(const e in o)s[e]=o[e];return u&&1!==f&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=f,s.setTransform(f,0,0,f,f*i[0],f*i[1]),e}},function(e,t,n){"use strict";t.a=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}}},function(e,t,n){"use strict";t.a=function(e){return function(t){var n,r,i,a,o=e.range(),u=t[0],s=t[1],f=-1;for(s<u&&(r=u,u=s,s=r),i=0,a=o.length;i<a;++i)o[i]>=u&&o[i]<=s&&(f<0&&(f=i),n=i);if(!(f<0))return u=e.invertExtent(o[f]),s=e.invertExtent(o[n]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(403),i=n(1006),a=n(1),o=n(1365),u=n(1366);function s(){var e=[],t=[];function n(n){return null==n||n!=n?void 0:t[(Object(r.c)(e,n)-1)%t.length]}return n.domain=function(t){return arguments.length?(e=Object(o.a)(t),n):e.slice()},n.range=function(e){return arguments.length?(t=u.a.call(e),n):t.slice()},n.tickFormat=function(t,n){return Object(i.a)(e[0],Object(a.U)(e),null==t?10:t,n)},n.copy=function(){return s().domain(n.domain()).range(n.range())},n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=Array.prototype.map;function i(e){return r.call(e,(function(e){return+e}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.prototype.slice},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(34),i=n(156);function a(e,t,n,a,o){var u,s=t.items[0],f=s.frame,c=s.orient,l=s.anchor,d=s.offset,p=s.padding,m=s.items[0].items[0],b=s.items[1]&&s.items[1].items[0],h=c===r.r||c===r.x?a:n,g=0,y=0,O=0,v=0,j=0;if(f!==r.q?c===r.r?(g=o.y2,h=o.y1):c===r.x?(g=o.y1,h=o.y2):(g=o.x1,h=o.x2):c===r.r&&(g=a,h=0),u=l===r.D?g:l===r.k?h:(g+h)/2,b&&b.text){switch(c){case r.G:case r.c:j=m.bounds.height()+p;break;case r.r:v=m.bounds.width()+p;break;case r.x:v=-m.bounds.width()-p}i.b.clear().union(b.bounds),i.b.translate(v-(b.x||0),j-(b.y||0)),Object(i.a)(b,"x",v)|Object(i.a)(b,"y",j)&&(e.dirty(b),b.bounds.clear().union(i.b),b.mark.bounds.clear().union(i.b),e.dirty(b)),i.b.clear().union(b.bounds)}else i.b.clear();switch(i.b.union(m.bounds),c){case r.G:y=u,O=o.y1-i.b.height()-d;break;case r.r:y=o.x1-i.b.width()-d,O=u;break;case r.x:y=o.x2+i.b.width()+d,O=u;break;case r.c:y=u,O=o.y2+d;break;default:y=s.x,O=s.y}return Object(i.a)(s,"x",y)|Object(i.a)(s,"y",O)&&(i.b.translate(y,O),e.dirty(s),s.bounds.clear().union(i.b),t.bounds.clear().union(i.b),e.dirty(s)),s.bounds}},function(e,t,n){"use strict";n.r(t);var r=n(1192);n.d(t,"axisticks",(function(){return r.a}));var i=n(1193);n.d(t,"datajoin",(function(){return i.a}));var a=n(1194);n.d(t,"encode",(function(){return a.a}));var o=n(1195);n.d(t,"legendentries",(function(){return o.a}));var u=n(1196);n.d(t,"linkpath",(function(){return u.a}));var s=n(1197);n.d(t,"pie",(function(){return s.a}));var f=n(1198);n.d(t,"scale",(function(){return f.a}));var c=n(1199);n.d(t,"sortitems",(function(){return c.a}));var l=n(1200);n.d(t,"stack",(function(){return l.a}))},function(e,t,n){"use strict";n.r(t);var r=n(1201);n.d(t,"contour",(function(){return r.a}));var i=n(1202);n.d(t,"geojson",(function(){return i.a}));var a=n(1203);n.d(t,"geopath",(function(){return a.a}));var o=n(1218);n.d(t,"geopoint",(function(){return o.a}));var u=n(1219);n.d(t,"geoshape",(function(){return u.a}));var s=n(1220);n.d(t,"graticule",(function(){return s.a}));var f=n(1221);n.d(t,"heatmap",(function(){return f.a}));var c=n(726);n.d(t,"isocontour",(function(){return c.a}));var l=n(727);n.d(t,"kde2d",(function(){return l.a}));var d=n(1222);n.d(t,"projection",(function(){return d.a}))},,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1223);n.d(t,"force",(function(){return r.a}))},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1231);n.d(t,"nest",(function(){return r.a}));var i=n(1232);n.d(t,"pack",(function(){return i.a}));var a=n(1233);n.d(t,"partition",(function(){return a.a}));var o=n(1234);n.d(t,"stratify",(function(){return o.a}));var u=n(1235);n.d(t,"tree",(function(){return u.a}));var s=n(1236);n.d(t,"treelinks",(function(){return s.a}));var f=n(1237);n.d(t,"treemap",(function(){return f.a}))},,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(1238);n.d(t,"loess",(function(){return r.a}));var i=n(1239);n.d(t,"regression",(function(){return i.a}))},function(e,t,n){"use strict";n.r(t);var r=n(1240);n.d(t,"voronoi",(function(){return r.a}))},,function(e,t,n){"use strict";n.r(t);var r=n(1241);n.d(t,"wordcloud",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(288),i=Math.PI/180;function a(e,t,n,r){if(!t.sprite){var a=e.context,o=e.ratio;a.clearRect(0,0,2048/o,2048/o);var u,s,f,c,l,d=0,p=0,m=0,b=n.length;for(--r;++r<b;){if(t=n[r],a.save(),a.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,u=a.measureText(t.text+"m").width*o,f=t.size<<1,t.rotate){var h=Math.sin(t.rotate*i),g=Math.cos(t.rotate*i),y=u*g,O=u*h,v=f*g,j=f*h;u=Math.max(Math.abs(y+j),Math.abs(y-j))+31>>5<<5,f=~~Math.max(Math.abs(O+v),Math.abs(O-v))}else u=u+31>>5<<5;if(f>m&&(m=f),d+u>=2048&&(d=0,p+=m,m=0),p+f>=2048)break;a.translate((d+(u>>1))/o,(p+(f>>1))/o),t.rotate&&a.rotate(t.rotate*i),a.fillText(t.text,0,0),t.padding&&(a.lineWidth=2*t.padding,a.strokeText(t.text,0,0)),a.restore(),t.width=u,t.height=f,t.xoff=d,t.yoff=p,t.x1=u>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=u}for(var $=a.getImageData(0,0,2048/o,2048/o).data,x=[];--r>=0;)if((t=n[r]).hasText){for(s=(u=t.width)>>5,f=t.y1-t.y0,c=0;c<f*s;c++)x[c]=0;if(null==(d=t.xoff))return;p=t.yoff;var k=0,A=-1;for(l=0;l<f;l++){for(c=0;c<u;c++){var E=s*l+(c>>5),w=$[2048*(p+l)+(d+c)<<2]?1<<31-c%32:0;x[E]|=w,k|=w}k?A=l:(t.y0++,f--,l--,p++)}t.y1=t.y0+A,t.sprite=x.slice(0,(t.y1-t.y0)*s)}}}function o(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),u=127&o,s=32-u,f=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),l=0;l<f;l++){r=0;for(var d=0;d<=a;d++)if((r<<s|(d<a?(r=i[l*a+d])>>>u:0))&t[c+d])return!0;c+=n}return!1}function u(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function s(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function f(e){return"function"==typeof e?e:function(){return e}}t.a=function(){var e,t,n,i,l,d,p,m=[256,256],b=s,h=[],g=Math.random,y={};function O(e,t,n){for(var r,i,a,u,s,f=t.x,c=t.y,l=Math.sqrt(m[0]*m[0]+m[1]*m[1]),d=b(m),p=g()<.5?1:-1,h=-p;(r=d(h+=p))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=l));)if(t.x=f+i,t.y=c+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>m[0]||t.y+t.y1>m[1]||n&&o(t,e,m[0])||n&&(s=n,!((u=t).x+u.x1>s[0].x&&u.x+u.x0<s[1].x&&u.y+u.y1>s[0].y&&u.y+u.y0<s[1].y)))){for(var y,O=t.sprite,v=t.width>>5,j=m[0]>>5,$=t.x-(v<<4),x=127&$,k=32-x,A=t.y1-t.y0,E=(t.y+t.y0)*j+($>>5),w=0;w<A;w++){y=0;for(var _=0;_<=v;_++)e[E+_]|=y<<k|(_<v?(y=O[w*v+_])>>>x:0);E+=j}return t.sprite=null,!0}return!1}return y.layout=function(){for(var o=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}(Object(r.a)()),s=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((m[0]>>5)*m[1]),f=null,c=h.length,b=-1,y=[],v=h.map((function(r){return{text:e(r),font:t(r),style:i(r),weight:l(r),rotate:d(r),size:~~(n(r)+1e-14),padding:p(r),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:r}})).sort((function(e,t){return t.size-e.size}));++b<c;){var j=v[b];j.x=m[0]*(g()+.5)>>1,j.y=m[1]*(g()+.5)>>1,a(o,j,v,b),j.hasText&&O(s,j,f)&&(y.push(j),f?u(f,j):f=[{x:j.x+j.x0,y:j.y+j.y0},{x:j.x+j.x1,y:j.y+j.y1}],j.x-=m[0]>>1,j.y-=m[1]>>1)}return y},y.words=function(e){return arguments.length?(h=e,y):h},y.size=function(e){return arguments.length?(m=[+e[0],+e[1]],y):m},y.font=function(e){return arguments.length?(t=f(e),y):t},y.fontStyle=function(e){return arguments.length?(i=f(e),y):i},y.fontWeight=function(e){return arguments.length?(l=f(e),y):l},y.rotate=function(e){return arguments.length?(d=f(e),y):d},y.text=function(t){return arguments.length?(e=f(t),y):e},y.spiral=function(e){return arguments.length?(b=c[e]||e,y):b},y.fontSize=function(e){return arguments.length?(n=f(e),y):n},y.padding=function(e){return arguments.length?(p=f(e),y):p},y.random=function(e){return arguments.length?(g=e,y):g},y};var c={archimedean:s,rectangular:function(e){var t=4*e[0]/e[1],n=0,r=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:n+=t;break;case 1:r+=4;break;case 2:n-=t;break;default:r-=4}return[n,r]}}}},function(e,t,n){"use strict";n.r(t);var r=n(1242);n.d(t,"crossfilter",(function(){return r.a}));var i=n(1243);n.d(t,"resolvefilter",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(395);function i(){var e=8,t=[],n=Object(r.b)(0),i=a(0,e),o=a(0,e);return{data:function(){return t},seen:function(){return n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)(n=e[r])._index=i++,t.push(n)},remove:function(e,n){var r,a,u,s=t.length,f=Array(s-e),c=t;for(a=0;!n[a]&&a<s;++a)f[a]=t[a],c[a]=a;for(u=a;a<s;++a)r=t[a],n[a]?c[a]=-1:(c[a]=u,i[u]=i[a],o[u]=o[a],f[u]=r,r._index=u++),i[a]=0;return t=f,c},size:function(){return t.length},curr:function(){return i},prev:function(){return o},reset:function(e){o[e]=i[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){i[e]|=t},clear:function(e,t){i[e]&=~t},resize:function(t,n){(t>i.length||n>e)&&(e=Math.max(n,e),i=a(t,e,i),o=a(t,e))}}}function a(e,t,n){var i=(t<257?r.c:t<65537?r.a:r.b)(e);return n&&i.set(n),i}},function(e,t,n){"use strict";t.a=function(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}},function(e,t,n){"use strict";var r=n(350),i=n(1),a=n(76);t.a=function(e,t,n){var o,u,s,f=e._renderer,c=f&&f.canvas();return c&&(s=Object(r.b)(e),u=t.changedTouches?t.changedTouches[0]:t,(o=Object(a.R)(u,c))[0]-=s[0],o[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var r=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;Object(i.H)(e)&&(e=a(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(i.l)(e),item:Object(i.l)(t||{}),group:a,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}(e,n,o),t}},function(e,t,n){"use strict";function r(e){return e.item}function i(e){return e.item.mark.source}function a(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}t.a=function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",r),i,a(e)),this.on(this.events("view","mouseout",r),i,a(t)),this}},function(e,t,n){"use strict";t.a=function(){var e,t,n,r=this._tooltip,i=this._timers,a=this._eventListeners;for(e=i.length;--e>=0;)i[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return r&&r.call(this,this._handler,null,null,null),this}},function(e,t,n){"use strict";var r=n(790),i=n(1413),a=n(248),o=n(791),u=n(1414),s=n(76);function f(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}t.a=function(e,t){const n=this,c=n._renderType,l=n._eventConfig.bind,d=Object(s.S)(c);e=n._el=e?f(n,e):null,Object(r.b)(n),d||n.error("Unrecognized renderer type: "+c);const p=d.handler||s.b,m=e?d.renderer:d.headless;return n._renderer=m?Object(o.a)(n,n._renderer,e,m):null,n._handler=Object(u.a)(n,n._handler,e,p),n._redraw=!0,e&&"none"!==l&&(t=t?n._elBind=f(n,t):e.appendChild(Object(a.a)("form",{class:"vega-bindings"})),n._bind.forEach((function(e){e.param.element&&"container"!==l&&(e.element=f(n,e.param.element))})),n._bind.forEach((function(e){Object(i.a)(n,e.element||t,e)}))),n}},function(e,t,n){"use strict";var r=n(248),i=n(1),a=n(267);function o(e,t,n,i){const a=Object(r.a)("input");for(const e in n)"signal"!==e&&"element"!==e&&a.setAttribute("input"===e?"type":e,n[e]);a.setAttribute("name",n.signal),a.value=i,t.appendChild(a),a.addEventListener("input",()=>e.update(a.value)),e.elements=[a],e.set=e=>a.value=e}function u(e,t,n,i){const a={type:"checkbox",name:n.signal};i&&(a.checked=!0);const o=Object(r.a)("input",a);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=e=>o.checked=!!e||null}function s(e,t,n,i){const a=Object(r.a)("select",{name:n.signal}),o=n.labels||[];n.options.forEach((e,t)=>{const n={value:e};l(e,i)&&(n.selected=!0),a.appendChild(Object(r.a)("option",n,(o[t]||e)+""))}),t.appendChild(a),a.addEventListener("change",()=>{e.update(n.options[a.selectedIndex])}),e.elements=[a],e.set=e=>{for(let t=0,r=n.options.length;t<r;++t)if(l(n.options[t],e))return void(a.selectedIndex=t)}}function f(e,t,n,i){const a=Object(r.a)("span",{class:"vega-bind-radio"}),o=n.labels||[];t.appendChild(a),e.elements=n.options.map((t,u)=>{const s={type:"radio",name:n.signal,value:t};l(t,i)&&(s.checked=!0);const f=Object(r.a)("input",s);f.addEventListener("change",()=>e.update(t));const c=Object(r.a)("label",{},(o[u]||t)+"");return c.prepend(f),a.appendChild(c),f}),e.set=t=>{const n=e.elements,r=n.length;for(let e=0;e<r;++e)l(n[e].value,t)&&(n[e].checked=!0)}}function c(e,t,n,i){i=void 0!==i?i:(+n.max+ +n.min)/2;const o=null!=n.max?n.max:Math.max(100,+i)||100,u=n.min||Math.min(0,o,+i)||0,s=n.step||Object(a.c)(u,o,100),f=Object(r.a)("input",{type:"range",name:n.signal,min:u,max:o,step:s});f.value=i;const c=Object(r.a)("span",{},+i);t.appendChild(f),t.appendChild(c);const l=()=>{c.textContent=f.value,e.update(+f.value)};f.addEventListener("input",l),f.addEventListener("change",l),e.elements=[f],e.set=e=>{f.value=e,c.textContent=e}}function l(e,t){return e===t||e+""==t+""}t.a=function(e,t,n){if(!t)return;const a=n.param;let l=n.state;return l||(l=n.state={elements:null,active:!1,set:null,update:t=>{t!==e.signal(a.signal)&&e.runAsync(null,(function(){l.source=!0,e.signal(a.signal,t)}))}},a.debounce&&(l.update=Object(i.m)(a.debounce,l.update))),function(e,t,n,i){const a=Object(r.a)("div",{class:"vega-bind"}),l="radio"===n.input?a:a.appendChild(Object(r.a)("label"));l.appendChild(Object(r.a)("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(a);let d=o;switch(n.input){case"checkbox":d=u;break;case"select":d=s;break;case"radio":d=f;break;case"range":d=c}d(e,l,n,i)}(l,t,a,e.signal(a.signal)),l.active||(e.on(e._signals[a.signal],null,()=>{l.source?l.source=!1:l.set(e.signal(a.signal))}),l.active=!0),l}},function(e,t,n){"use strict";var r=n(350),i=n(636);t.a=function(e,t,n,a){var o=new a(e.loader(),Object(i.a)(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,Object(r.b)(e),e);return t&&t.handlers().forEach((function(e){o.on(e.type,e.handler)})),o}},function(e,t,n){"use strict";var r=n(544),i=n(76),a=n(1);t.a=async function(e,t){e!==i.i.Canvas&&e!==i.i.SVG&&e!==i.i.PNG&&Object(a.n)("Unrecognized image type: "+e);const n=await Object(r.a)(this,e,t);return e===i.i.SVG?(o=n.svg(),u=new Blob([o],{type:"image/svg+xml"}),window.URL.createObjectURL(u)):n.canvas().toDataURL("image/png");var o,u}},function(e,t,n){"use strict";var r=n(544),i=n(76);t.a=async function(e,t){return(await Object(r.a)(this,i.i.Canvas,e,t)).canvas()}},function(e,t,n){"use strict";var r=n(544),i=n(76);t.a=async function(e){return(await Object(r.a)(this,i.i.SVG,e)).svg()}},function(e,t,n){"use strict";var r=n(14),i=n(170),a=n(744);t.a=function(e,t,n){return Object(a.a)(e,r.s,i.b,n).parse(t)}},function(e,t,n){"use strict";var r=n(76),i=n(1);t.a=function(e,t,n){if(!e)return[];const[a,o]=e,u=(new r.a).set(a[0],a[1],o[0],o[1]),s=n||this.context.dataflow.scenegraph().root;return Object(r.C)(s,u,function(e){let t=null;if(e){const n=Object(i.i)(e.marktype),r=Object(i.i)(e.markname);t=e=>(!n.length||n.some(t=>e.marktype===t))&&(!r.length||r.some(t=>e.name===t))}return t}(t))}},function(e,t,n){"use strict";t.a=function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(e=>t.parseOperator(e)),n.forEach(e=>t.parseOperatorParameters(e)),(e.streams||[]).forEach(e=>t.parseStream(e)),(e.updates||[]).forEach(e=>t.parseUpdate(e)),t.resolve()}},function(e,t,n){"use strict";var r=n(478),i=n(1);function a(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(null,t.concat(n));return e&&e.functions?r.bind(e.functions):r}t.a={operator:(e,t)=>a(e,["_"],t.code),parameter:(e,t)=>a(e,["datum","_"],t.code),event:(e,t)=>a(e,["event"],t.code),handler:(e,t)=>a(e,["_","event"],`var datum=event.item&&event.item.datum;return ${t.code};`),encode:(e,t)=>{const{marktype:n,channels:o}=t;let u="var o=item,datum=o.datum,m=0,$;";for(const e in o){const t="o["+Object(i.Z)(e)+"]";u+=`$=${o[e].code};if(${t}!==$)${t}=$,m=1;`}return u+=Object(r.a)(o,n),u+="return m;",a(e,["item","_"],u)},codegen:{get(e){const t=`[${e.map(i.Z).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=Function("a","b","var u, v; return "+e.map((e,r)=>{const i=t[r];let a,o;return e.path?(a="a"+e.path,o="b"+e.path):((n=n||{})["f"+r]=e,a=`this.f${r}(a)`,o=`this.f${r}(b)`),function(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}\n  : (u > v || v == null) && u != null ? ${r}\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}\n  : v !== v && u === u ? ${r} : `}(a,o,-i,i)}).join("")+"0;");return n?r.bind(n):r}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=n(1);function a(e,t){t=t||{};const n=this;for(const r in e){const a=e[r];t[r]=Object(i.A)(a)?a.map(e=>o(e,n,t)):o(a,n,t)}return t}function o(e,t,n){if(!e||!Object(i.F)(e))return e;for(let r,a=0,o=u.length;a<o;++a)if(r=u[a],Object(i.v)(e,r.key))return r.parse(e,t,n);return e}var u=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||Object(i.n)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(i.I)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=Object(i.f)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Object(i.t)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const n=e.$encode,r={};for(const e in n){const a=n[e];r[e]=Object(i.f)(t.encodeExpression(a.$expr),a.$fields),r[e].output=a.$output}return r}},{key:"$compare",parse:function(e,t){const n="c:"+e.$compare+"_"+e.$order,a=Object(i.i)(e.$compare).map(e=>e&&e.$tupleid?r.t:e);return t.fn[n]||(t.fn[n]=Object(i.k)(a,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const n=e.$subflow;return function(e,r,i){const a=t.fork().parse(n),o=a.get(n.operators[0].id),u=a.signals.parent;return u&&u.set(i),o.detachSubflow=()=>t.detach(a),o}}},{key:"$tupleid",parse:function(){return r.t}}]},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t,n=this,i=null!=e.filter?n.eventExpression(e.filter):void 0,a=null!=e.stream?n.get(e.stream):void 0;e.source?a=n.events(e.source,e.type,i):e.merge&&(a=(t=e.merge.map(e=>n.get(e)))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map(e=>n.get(e)),a=a.between(t[0],t[1])),e.filter&&(a=a.filter(i)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&Object(r.n)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),n.stream(e,a)}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t,n=Object(r.F)(n=e.source)?n.$ref:n,i=this.get(n),a=e.update,o=void 0;i||Object(r.n)("Source not defined: "+e.source),t=e.target&&e.target.$expr?this.eventExpression(e.target.$expr):this.get(e.target),a&&a.$expr&&(a.$params&&(o=this.parseParameters(a.$params)),a=this.handlerExpression(a.$expr)),this.update(e,i,t,a,o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=this._runtime.scales;return Object(r.v)(t,e)||Object(r.n)("Unrecognized scale or projection: "+e),t[e].value}},function(e,t,n){"use strict";var r=n(2078);t.a=function(e,t){this._timers.push(Object(r.a)((function(t){e({timestamp:Date.now(),elapsed:t})}),t))}},function(e,t,n){"use strict";var r=n(1);function i(e){return"["+e.map(a).join(", ")+"]"}function a(e){return Object(r.A)(e)?"[…]":Object(r.F)(e)&&!Object(r.C)(e)?"{…}":e}t.a=function(e,t,n,o){var u=e.element();u&&u.setAttribute("title",function(e){return null==e?"":Object(r.A)(e)?i(e):Object(r.F)(e)&&!Object(r.C)(e)?(t=e,Object.keys(t).map((function(e){var n=t[e];return e+": "+(Object(r.A)(n)?i(n):a(n))})).join("\n")):e+"";var t}(o))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1429),i=n(1430),a=n(792),o=n(532),u=n(794),s=n(63),f=n(122),c=n(69),l=n(27),d=n(334),p=n(64),m=n(1);function b(e,t){const n=t.config,b=Object(l.p)(t.root=t.add(Object(l.o)())),g=function(e,t){const n=n=>Object(l.r)(e[n],t[n]),a=[h("background",n("background")),h("autosize",Object(r.a)(n("autosize"))),h("padding",Object(i.a)(n("padding"))),h("width",n("width")||0),h("height",n("height")||0)],o=a.reduce((e,t)=>(e[t.name]=t,e),{}),u={};return Object(m.i)(e.signals).forEach(e=>{Object(m.v)(o,e.name)?e=Object(m.o)(o[e.name],e):a.push(e),u[e.name]=e}),Object(m.i)(t.signals).forEach(e=>{Object(m.v)(u,e.name)||Object(m.v)(o,e.name)||a.push(e)}),a}(e,n);g.forEach(e=>Object(o.a)(e,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const y=t.add(Object(p.d)()),O=t.add(Object(p.g)(Object(a.a)((e=>Object(s.c)({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),f.a,c.g,e.style,t,{pulse:Object(l.p)(y)}))),v=t.add(Object(p.B)({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:b,pulse:Object(l.p)(O)}));t.operators.pop(),t.pushState(Object(l.p)(O),Object(l.p)(v),null),Object(u.a)(e,t,g),t.operators.push(v);let j=t.add(Object(p.c)({mark:b,pulse:Object(l.p)(v)}));return j=t.add(Object(p.w)({pulse:Object(l.p)(j)})),j=t.add(Object(p.y)({pulse:Object(l.p)(j)})),t.addData("root",new d.a(t,y,y,j)),t}function h(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return Object(r.F)(e)?e:{type:e||"pad"}}},function(e,t,n){"use strict";var r=n(1);const i=e=>+e||0;t.a=function(e){return Object(r.F)(e)?e.signal?e:{top:i(e.top),bottom:i(e.bottom),left:i(e.left),right:i(e.right)}:{top:t=i(e),bottom:t,left:t,right:t};var t}},function(e,t,n){"use strict";var r=n(63),i=n(69),a=n(1);function o(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}t.a=function(e,t,n,u,s){const f={},c={};let l,d,p,m;for(d in d="lineBreak","text"!==t||null==s[d]||Object(r.d)(d,e)||o(f,d,s[d]),("legend"==n||String(n).startsWith("axis"))&&(n=null),m=n===i.g?s.group:n===i.o?Object(a.o)({},s.mark,s[t]):null,m)p=Object(r.d)(d,e)||("fill"===d||"stroke"===d)&&(Object(r.d)("fill",e)||Object(r.d)("stroke",e)),p||o(f,d,m[d]);for(d in Object(a.i)(u).forEach(t=>{const n=s.style&&s.style[t];for(const t in n)Object(r.d)(t,e)||o(f,t,n[t])}),e=Object(a.o)({},e),f)m=f[d],m.signal?(l=l||{})[d]=m:c[d]=m;return e.enter=Object(a.o)(c,e.enter),l&&(e.update=Object(a.o)(l,e.update)),e}},function(e,t,n){"use strict";var r=n(793),i=n(1);t.a=function(e){let t="";return e.forEach(e=>{const n=Object(r.a)(e);t+=e.test?`(${e.test})?${n}:`:n}),":"===Object(i.U)(t)&&(t+="null"),t}},function(e,t,n){"use strict";var r=n(746),i=n(27),a=n(252),o=n(170),u=n(1);const s={code:"_.$value",ast:{type:"Identifier",value:"value"}};function f(e){return{signal:"["+e.map(e=>e.scale?'scale("'+e.scale+'")':e.signal)+"]"}}t.a=function(e,t,n){var c=e.events,l=e.update,d=e.encode,p=[],m={target:n};c||Object(u.n)("Signal update missing events specification."),Object(u.H)(c)&&(c=Object(a.a)(c,t.isSubscope()?i.c:i.d)),c=Object(u.i)(c).filter(e=>e.signal||e.scale?(p.push(e),0):1),p.length>1&&(p=[f(p)]),c.length&&p.push(c.length>1?{merge:c}:c[0]),null!=d&&(l&&Object(u.n)("Signal encode and update are mutually exclusive."),l="encode(item(),"+Object(u.Z)(d)+")"),m.update=Object(u.H)(l)?Object(o.c)(l,t):null!=l.expr?Object(o.c)(l.expr,t):null!=l.value?l.value:null!=l.signal?{$expr:s,$params:{$value:t.signalRef(l.signal)}}:Object(u.n)("Invalid signal update specification."),e.force&&(m.options={force:!0}),p.forEach((function(e){t.addUpdate(Object(u.o)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):Object(r.a)(e,t)}}(e,t),m))}))}},function(e,t,n){"use strict";var r=n(1);function i(e,t,n){return Object(r.A)(e)?e.map((function(e){return i(e,t,n)})):Object(r.F)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:Object(r.n)("Unsupported parameter object: "+Object(r.Z)(e)):e}t.a=function(e,t){var n=t.config.projection||{},r={};for(var a in e)"name"!==a&&(r[a]=i(e[a],a,t));for(a in n)null==r[a]&&(r[a]=i(n[a],a,t));t.addProjection(e.name,r)}},function(e,t,n){"use strict";var r=n(63),i=n(25),a=n(373),o=n(106),u=n(1436),s=n(1437),f=n(1034),c=n(1035),l=n(1438),d=n(418),p=n(69),m=n(27),b=n(64),h=n(170),g=n(47),y=n(1);function O(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Object(o.d)(e,n[0].encode)}t.a=function(e,t){var n,v,j,$,x,k,A,E,w=t.config.legend,_=e.encode||{},F=_.legend||{},D=F.name||void 0,S=F.interactive,C=F.style,M=Object(o.f)(e,w),q={},R=0;return i.m.forEach(t=>e[t]?(q[t]=e[t],R=R||e[t]):0),R||Object(y.n)("Missing valid scale for legend."),x=function(e,t){var n=e.type||i.v;e.type||1!==function(e){return i.m.reduce((function(t,n){return t+(e[n]?1:0)}),0)}(e)||!e.fill&&!e.stroke||(n=Object(g.x)(t)?i.e:Object(g.z)(t)?i.c:i.v);return n!==i.e?n:Object(g.z)(t)?i.c:i.e}(e,t.scaleType(R)),k={title:null!=e.title,scales:q,type:x,vgrad:"symbol"!==x&&M.isVertical()},A=Object(m.p)(t.add(Object(b.d)(null,[k]))),F=Object(r.c)(function(e,t,n){var i={enter:{},update:{}};return Object(r.a)(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}(M,e,w),F,i.t),n={enter:{x:{value:0},y:{value:0}}},E=Object(m.p)(t.add(Object(b.l)(j={type:x,scale:t.scaleRef(R),count:t.objectProperty(M("tickCount")),limit:t.property(M("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),x===i.e?($=[Object(u.a)(e,R,w,_.gradient),Object(f.a)(e,w,_.labels,E)],j.count=j.count||t.signalRef(`max(2,2*floor((${Object(m.g)(M.gradientLength())})/100))`)):x===i.c?$=[Object(s.a)(e,R,w,_.gradient,E),Object(f.a)(e,w,_.labels,E)]:(v=Object(c.b)(e,w),$=[Object(c.a)(e,w,_,E,Object(m.g)(v.columns))],j.size=function(e,t,n){var r=Object(m.g)(O("size",e,n)),a=Object(m.g)(O("strokeWidth",e,n)),u=Object(m.g)(function(e,t,n){return Object(o.d)("fontSize",e)||Object(o.e)("fontSize",t,n)}(n[1].encode,t,i.h));return Object(h.c)(`max(ceil(sqrt(${r})+${a}),${u})`,t)}(e,t,$[0].marks)),$=[Object(a.a)({role:p.i,from:A,encode:n,marks:$,layout:v,interactive:S})],k.title&&$.push(Object(l.a)(e,w,_.title,A)),Object(d.a)(Object(a.a)({role:p.l,from:A,encode:F,marks:$,aria:M("aria"),description:M("description"),zindex:M("zindex"),name:D,interactive:S,style:C}),t)}},function(e,t,n){"use strict";var r=n(25),i=n(158),a=n(106),o=n(63),u=n(122),s=n(69),f=n(1);t.a=function(e,t,n,c){var l,d,p,m,b,h,g=Object(a.f)(e,n),y=g.isVertical(),O=g.gradientThickness(),v=g.gradientLength();return y?(p=[0,1],m=[0,0],b=O,h=v):(p=[0,0],m=[1,0],b=v,h=O),l={enter:d={opacity:r.A,x:r.A,y:r.A,width:Object(o.b)(b),height:Object(o.b)(h)},update:Object(f.o)({},d,{opacity:r.z,fill:{gradient:t,start:p,stop:m}}),exit:{opacity:r.A}},Object(o.a)(l,{stroke:g("gradientStrokeColor"),strokeWidth:g("gradientStrokeWidth")},{opacity:g("gradientOpacity")}),Object(i.a)({type:u.b,role:s.j,encode:l},c)}},function(e,t,n){"use strict";var r=n(25),i=n(158),a=n(106),o=n(63),u=n(122),s=n(69),f=n(1);t.a=function(e,t,n,c,l){var d,p,m,b,h,g,y=Object(a.f)(e,n),O=y.isVertical(),v=y.gradientThickness(),j=y.gradientLength(),$="";return O?(m="y",h="y2",b="x",g="width",$="1-"):(m="x",h="x2",b="y",g="height"),(p={opacity:r.A,fill:{scale:t,field:r.x}})[m]={signal:$+"datum."+r.p,mult:j},p[b]=r.A,p[h]={signal:$+"datum."+r.q,mult:j},p[g]=Object(o.b)(v),d={enter:p,update:Object(f.o)({},p,{opacity:r.z}),exit:{opacity:r.A}},Object(o.a)(d,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")}),Object(i.a)({type:u.b,role:s.h,key:r.x,from:l,encode:d},c)}},function(e,t,n){"use strict";var r=n(25),i=n(158),a=n(106),o=n(63),u=n(122),s=n(69);const f='item.orient === "left"',c='item.orient === "right"',l=`(${f} || ${c})`,d="datum.vgrad && "+l,p=Object(a.b)('"top"','"bottom"','"middle"'),m=`datum.vgrad && ${c} ? (${Object(a.b)('"right"','"left"','"center"')}) : (${l} && !(datum.vgrad && ${f})) ? "left" : ${a.a}`,b=`item._anchor || (${l} ? "middle" : "start")`,h=`${d} ? (${f} ? -90 : 90) : 0`,g=`${l} ? (datum.vgrad ? (${c} ? "bottom" : "top") : ${p}) : "top"`;t.a=function(e,t,n,f){var c,l=Object(a.f)(e,t);return c={enter:{opacity:r.A},update:{opacity:r.z,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:r.A}},Object(o.a)(c,{orient:l("titleOrient"),_anchor:l("titleAnchor"),anchor:{signal:b},angle:{signal:h},align:{signal:m},baseline:{signal:g},text:e.title,fill:l("titleColor"),fillOpacity:l("titleOpacity"),font:l("titleFont"),fontSize:l("titleFontSize"),fontStyle:l("titleFontStyle"),fontWeight:l("titleFontWeight"),limit:l("titleLimit"),lineHeight:l("titleLineHeight")},{align:l("titleAlign"),baseline:l("titleBaseline")}),Object(i.a)({type:u.e,role:s.n,style:r.i,from:f,encode:c},n)}},function(e,t,n){"use strict";var r=n(1);function i(e){return Object(r.F)(e)&&e.signal?e.signal:Object(r.Z)(e)}t.a=function(e,t){var n;return Object(r.F)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+i(e.path)+")":e.sphere&&(n="geoShape("+i(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}},function(e,t,n){"use strict";var r=n(795);t.a=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Object(r.a)(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}},function(e,t,n){"use strict";t.a=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}},function(e,t,n){"use strict";var r=n(796),i=n(334),a=n(64),o=n(27),u=n(1);t.a=function(e,t,n){var s,f,c,l,d=e.from.facet,p=d.name,m=Object(r.b)(d,t);d.name||Object(u.n)("Facet must have a name: "+Object(u.Z)(d)),d.data||Object(u.n)("Facet must reference a data set: "+Object(u.Z)(d)),d.field?l=t.add(Object(a.s)({field:t.fieldRef(d.field),pulse:m})):d.groupby?l=t.add(Object(a.i)({key:t.keyRef(d.groupby),group:Object(o.p)(t.proxy(n.parent)),pulse:m})):Object(u.n)("Facet must specify groupby or field: "+Object(u.Z)(d)),f=(s=t.fork()).add(Object(a.d)()),c=s.add(Object(a.y)({pulse:Object(o.p)(f)})),s.addData(p,new i.a(s,f,f,c)),s.addSignal("parent",null),l.params.subflow={$subflow:s.parse(e).toRuntime()}}},function(e,t,n){"use strict";var r=n(64);t.a=function(e,t,n){var i=t.add(Object(r.s)({pulse:n.pulse})),a=t.fork();a.add(Object(r.y)()),a.addSignal("parent",null),i.params.subflow={$subflow:a.parse(e).toRuntime()}}},function(e,t,n){"use strict";var r=n(63),i=n(25),a=n(373),o=n(158),u=n(106),s=n(418),f=n(122),c=n(69),l=n(64),d=n(27),p=n(1);const m=`item.orient==="${i.l}"?-90:item.orient==="${i.r}"?90:0`;function b(e,t){var n={enter:{},update:{}};return Object(r.a)(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:u.a},angle:{signal:m},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),Object(r.c)(n,t,i.t)}t.a=function(e,t){e=Object(p.H)(e)?{text:e}:e;var n,m,h=Object(u.f)(e,t.config.title),g=e.encode||{},y=g.group||{},O=y.name||void 0,v=y.interactive,j=y.style,$=[];return n={},m=Object(d.p)(t.add(Object(l.d)(null,[n]))),$.push(function(e,t,n,a){var u={value:0},s=e.text,l={enter:{opacity:u},update:{opacity:{value:1}},exit:{opacity:u}};return Object(r.a)(l,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Object(o.a)({type:f.e,role:c.s,style:i.g,from:a,encode:l},n)}(e,h,function(e){const t=e.encode;return t&&t.title||Object(p.o)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),m)),e.subtitle&&$.push(function(e,t,n,a){var u={value:0},s=e.subtitle,l={enter:{opacity:u},update:{opacity:{value:1}},exit:{opacity:u}};return Object(r.a)(l,{text:s,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Object(o.a)({type:f.e,role:c.r,style:i.f,from:a,encode:l},n)}(e,h,g.subtitle,m)),Object(s.a)(Object(a.a)({role:c.q,from:m,encode:b(h,y),marks:$,aria:h("aria"),description:h("description"),zindex:h("zindex"),name:O,interactive:v,style:j}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(545),i=n(797),a=n(64),o=n(27),u=n(1);function s(e,t){var n=[];e.transform&&e.transform.forEach((function(e){n.push(Object(r.a)(e,t))})),e.on&&e.on.forEach((function(n){Object(i.a)(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){var r,i,s,l,d,p=[],m=null,b=!1,h=!1;e.values?Object(o.j)(e.values)||Object(o.j)(e.format)?(p.push(c(t,e)),p.push(m=f())):p.push(m=f({$ingest:e.values,$format:e.format})):e.url?Object(o.j)(e.url)||Object(o.j)(e.format)?(p.push(c(t,e)),p.push(m=f())):p.push(m=f({$request:e.url,$format:e.format})):e.source&&(m=r=Object(u.i)(e.source).map((function(e){return Object(o.p)(t.getData(e).output)})),p.push(null));for(i=0,s=n.length;i<s;++i)l=n[i],d=l.metadata,m||d.source||p.push(m=f()),p.push(l),d.generates&&(h=!0),d.modifies&&!h&&(b=!0),d.source?m=l:d.changes&&(m=null);r&&(s=r.length-1,p[0]=Object(a.v)({derive:b,pulse:s?r:r[0]}),(b||s)&&p.splice(1,0,f()));m||p.push(f());return p.push(Object(a.y)({})),p}(e,t,n))}function f(e){var t=Object(a.d)({},e);return t.metadata={source:!0},t}function c(e,t){return Object(a.m)({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}},function(e,t,n){"use strict";var r=n(63),i=n(1447),a=n(1448),o=n(1449),u=n(1450),s=n(1451),f=n(1452),c=n(25),l=n(373),d=n(106),p=n(69),m=n(418),b=n(64),h=n(27);t.a=function(e,t){var n,g,y,O,v,j=Object(i.a)(e,t),$=e.encode||{},x=$.axis||{},k=x.name||void 0,A=x.interactive,E=x.style,w=Object(d.f)(e,j),_=Object(d.g)(w);return n={scale:e.scale,ticks:!!w("ticks"),labels:!!w("labels"),grid:!!w("grid"),domain:!!w("domain"),title:null!=e.title},g=Object(h.p)(t.add(Object(b.d)({},[n]))),x=Object(r.c)(function(e,t){var n={enter:{},update:{}};return Object(r.a)(n,{orient:e("orient"),offset:e("offset")||0,position:Object(h.r)(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}(w,e),x,c.t),y=Object(h.p)(t.add(Object(b.b)({scale:t.scaleRef(e.scale),extra:t.property(_.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),v=[],n.grid&&v.push(Object(o.a)(e,j,$.grid,y,_)),n.ticks&&(O=w("tickSize"),v.push(Object(u.a)(e,j,$.ticks,y,O,_))),n.labels&&(O=n.ticks?O:0,v.push(Object(s.a)(e,j,$.labels,y,O,_))),n.domain&&v.push(Object(a.a)(e,j,$.domain,g)),n.title&&v.push(Object(f.a)(e,j,$.title,g)),Object(m.a)(Object(l.a)({role:p.d,from:g,encode:x,marks:v,aria:w("aria"),description:w("description"),zindex:w("zindex"),name:k,interactive:A,style:E}),t)}},function(e,t,n){"use strict";var r=n(81),i=n(25),a=n(27),o=n(1);function u(e,t,n,r){let a;if(t&&Object(o.v)(t,e))return t[e];if(Object(o.v)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":a="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":a=e[5].toLowerCase()+e.slice(6)}return r[i.i][a]}if(e.startsWith("label")){switch(e){case"labelColor":a="fill";break;case"labelFont":case"labelFontSize":a=e[5].toLowerCase()+e.slice(6)}return r[i.h][a]}return null}function s(e){const t={};for(const n of e)if(n)for(const e in n)t[e]=1;return Object.keys(t)}t.a=function(e,t){var n,f,c,l=t.config,d=l.style,p=l.axis,m="band"===t.scaleType(e.scale)&&l.axisBand,b=e.orient;if(Object(a.l)(b)){const e=s([l.axisX,l.axisY]),t=s([l.axisTop,l.axisBottom,l.axisLeft,l.axisRight]);for(c of(n={},e))n[c]=Object(r.e)(b,u(c,l.axisX,p,d),u(c,l.axisY,p,d));for(c of(f={},t))f[c]=Object(r.b)(b.signal,u(c,l.axisTop,p,d),u(c,l.axisBottom,p,d),u(c,l.axisLeft,p,d),u(c,l.axisRight,p,d))}else n=b===i.w||b===i.a?l.axisX:l.axisY,f=l["axis"+b[0].toUpperCase()+b.slice(1)];return n||f||m?Object(o.o)({},p,n,f,m):p}},function(e,t,n){"use strict";var r=n(81),i=n(25),a=n(158),o=n(106),u=n(63),s=n(122),f=n(69);function c(e,t){return{scale:e.scale,range:t}}t.a=function(e,t,n,l){var d,p,m,b=Object(o.f)(e,t),h=e.orient;d={enter:p={opacity:i.A},update:m={opacity:i.z},exit:{opacity:i.A}},Object(u.a)(d,{stroke:b("domainColor"),strokeCap:b("domainCap"),strokeDash:b("domainDash"),strokeDashOffset:b("domainDashOffset"),strokeWidth:b("domainWidth"),strokeOpacity:b("domainOpacity")});const g=c(e,0),y=c(e,1);return p.x=m.x=Object(r.e)(h,g,i.A),p.x2=m.x2=Object(r.e)(h,y),p.y=m.y=Object(r.f)(h,g,i.A),p.y2=m.y2=Object(r.f)(h,y),Object(a.a)({type:s.c,role:f.a,from:l,encode:d},n)}},function(e,t,n){"use strict";var r=n(81),i=n(25),a=n(158),o=n(106),u=n(63),s=n(122),f=n(69),c=n(27),l=n(1);t.a=function(e,t,n,d,p){var m,b,h,g,y,O,v,j,$=Object(o.f)(e,t),x=e.orient,k=e.gridScale,A=Object(r.a)(x,1,-1),E=function(e,t){if(1===t);else if(Object(l.F)(e)){let n=e=Object(l.o)({},e);for(;null!=n.mult;){if(!Object(l.F)(n.mult))return n.mult=Object(c.l)(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n=n.mult=Object(l.o)({},n.mult)}n.mult=t}else e=Object(c.l)(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,A);return m={enter:b={opacity:i.A},update:g={opacity:i.z},exit:h={opacity:i.A}},Object(u.a)(m,{stroke:$("gridColor"),strokeCap:$("gridCap"),strokeDash:$("gridDash"),strokeDashOffset:$("gridDashOffset"),strokeOpacity:$("gridOpacity"),strokeWidth:$("gridWidth")}),y={scale:e.scale,field:i.x,band:p.band,extra:p.extra,offset:p.offset,round:$("tickRound")},j=Object(r.e)(x,{signal:"height"},{signal:"width"}),O=k?{scale:k,range:0,mult:A,offset:E}:{value:0,offset:E},v=k?{scale:k,range:1,mult:A,offset:E}:Object(l.o)(j,{mult:A,offset:E}),b.x=g.x=Object(r.e)(x,y,O),b.y=g.y=Object(r.f)(x,y,O),b.x2=g.x2=Object(r.f)(x,v),b.y2=g.y2=Object(r.e)(x,v),h.x=Object(r.e)(x,y),h.y=Object(r.f)(x,y),Object(a.a)({type:s.c,role:f.b,key:i.x,from:d,encode:m},n)}},function(e,t,n){"use strict";var r=n(81),i=n(25),a=n(158),o=n(106),u=n(63),s=n(122),f=n(69);t.a=function(e,t,n,c,l,d){var p,m,b,h,g,y,O=Object(o.f)(e,t),v=e.orient,j=Object(r.a)(v,-1,1);return p={enter:m={opacity:i.A},update:h={opacity:i.z},exit:b={opacity:i.A}},Object(u.a)(p,{stroke:O("tickColor"),strokeCap:O("tickCap"),strokeDash:O("tickDash"),strokeDashOffset:O("tickDashOffset"),strokeOpacity:O("tickOpacity"),strokeWidth:O("tickWidth")}),(g=Object(u.b)(l)).mult=j,y={scale:e.scale,field:i.x,band:d.band,extra:d.extra,offset:d.offset,round:O("tickRound")},h.y=m.y=Object(r.e)(v,i.A,y),h.y2=m.y2=Object(r.e)(v,g),b.x=Object(r.e)(v,y),h.x=m.x=Object(r.f)(v,i.A,y),h.x2=m.x2=Object(r.f)(v,g),b.y=Object(r.f)(v,y),Object(a.a)({type:s.c,role:f.e,key:i.x,from:c,encode:p},n)}},function(e,t,n){"use strict";var r=n(81),i=n(25),a=n(158),o=n(106),u=n(63),s=n(122),f=n(69),c=n(27);function l(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}t.a=function(e,t,n,d,p,m){var b,h,g,y,O,v,j,$,x,k,A=Object(o.f)(e,t),E=e.orient,w=e.scale,_=Object(r.a)(E,-1,1),F=Object(c.g)(A("labelFlush")),D=Object(c.g)(A("labelFlushOffset")),S=0===F||!!F,C=A("labelAlign"),M=A("labelBaseline");return(y=Object(u.b)(p)).mult=_,y.offset=Object(u.b)(A("labelPadding")||0),y.offset.mult=_,O={scale:w,field:i.x,band:.5,offset:Object(o.c)(m.offset,A("labelOffset"))},v=Object(r.e)(E,S?l(w,F,'"left"','"right"','"center"'):{value:"center"},Object(r.c)(E,"left","right")),j=Object(r.e)(E,Object(r.d)(E,"bottom","top"),S?l(w,F,'"top"','"bottom"','"middle"'):{value:"middle"}),k=l(w,F,`-(${D})`,D,0),S=S&&D,b={enter:h={opacity:i.A,x:Object(r.e)(E,O,y),y:Object(r.f)(E,O,y)},update:g={opacity:i.z,text:{field:i.k},x:h.x,y:h.y,align:v,baseline:j},exit:{opacity:i.A,x:h.x,y:h.y}},Object(u.a)(b,{dx:!C&&S?Object(r.e)(E,k):null,dy:!M&&S?Object(r.f)(E,k):null}),Object(u.a)(b,{angle:A("labelAngle"),fill:A("labelColor"),fillOpacity:A("labelOpacity"),font:A("labelFont"),fontSize:A("labelFontSize"),fontWeight:A("labelFontWeight"),fontStyle:A("labelFontStyle"),limit:A("labelLimit"),lineHeight:A("labelLineHeight")},{align:C,baseline:M}),$=A("labelBound"),x=(x=A("labelOverlap"))||$?{separation:A("labelSeparation"),method:x,order:"datum.index",bound:$?{scale:w,orient:E,tolerance:$}:null}:void 0,g.align!==v&&(g.align=Object(r.h)(g.align,v)),g.baseline!==j&&(g.baseline=Object(r.h)(g.baseline,j)),Object(a.a)({type:s.e,role:f.c,style:i.h,key:i.x,from:d,encode:b,overlap:x},n)}},function(e,t,n){"use strict";var r=n(81),i=n(25),a=n(158),o=n(106),u=n(63),s=n(122),f=n(69),c=n(1);t.a=function(e,t,n,l){var d,p,m,b,h=Object(o.f)(e,t),g=e.orient,y=Object(r.a)(g,-1,1);return d={enter:p={opacity:i.A,anchor:Object(u.b)(h("titleAnchor",null)),align:{signal:o.a}},update:m=Object(c.o)({},p,{opacity:i.z,text:Object(u.b)(e.title)}),exit:{opacity:i.A}},b={signal:`lerp(range("${e.scale}"), ${Object(o.b)(0,1,.5)})`},m.x=Object(r.e)(g,b),m.y=Object(r.f)(g,b),p.angle=Object(r.e)(g,i.A,Object(r.g)(y,90)),p.baseline=Object(r.e)(g,Object(r.d)(g,i.a,i.w),{value:i.a}),m.angle=p.angle,m.baseline=p.baseline,Object(u.a)(d,{fill:h("titleColor"),fillOpacity:h("titleOpacity"),font:h("titleFont"),fontSize:h("titleFontSize"),fontStyle:h("titleFontStyle"),fontWeight:h("titleFontWeight"),limit:h("titleLimit"),lineHeight:h("titleLineHeight")},{align:h("titleAlign"),angle:h("titleAngle"),baseline:h("titleBaseline")}),function(e,t,n,i){const a=(e,t)=>null!=e?(n.update[t]=Object(r.h)(Object(u.b)(e),n.update[t]),!1):!Object(u.d)(t,i),o=a(e("titleX"),"x"),s=a(e("titleY"),"y");n.enter.auto=s===o?Object(u.b)(s):Object(r.e)(t,Object(u.b)(s),Object(u.b)(o))}(h,g,d,n),d.update.align=Object(r.h)(d.update.align,p.align),d.update.angle=Object(r.h)(d.update.angle,p.angle),d.update.baseline=Object(r.h)(d.update.baseline,p.baseline),Object(a.a)({type:s.e,role:f.f,style:i.i,from:l,encode:d},n)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"vega",(function(){return o}));n(39),n(1631),n(146),n(1072);var r,i=n(82),a=n(273);n(444),n(853),n(319),n(1),n(1635),n(890),n(1073),n(1277);const o=i;let u=a;const s="undefined"!=typeof window?window:void 0;void 0===u&&(null===(r=null==s?void 0:s.vl)||void 0===r?void 0:r.compile)&&(u=s.vl);o.version,u&&u.version},,function(e){e.exports=JSON.parse('{"name":"vega-themes","version":"2.8.3","description":"Themes for stylized Vega and Vega-Lite visualizations.","keywords":["vega","vega-lite","themes","style"],"license":"BSD-3-Clause","author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"contributors":[{"name":"Emily Gu","url":"https://github.com/emilygu"},{"name":"Arvind Satyanarayan","url":"http://arvindsatya.com"},{"name":"Jeffrey Heer","url":"https://idl.cs.washington.edu"},{"name":"Dominik Moritz","url":"https://www.domoritz.de"}],"main":"build/vega-themes.js","module":"build/src/index.js","unpkg":"build/vega-themes.min.js","jsdelivr":"build/vega-themes.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-themes.git"},"scripts":{"prepare":"beemo create-config --silent","clean":"rm -rf build examples/build","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint \'src/**/*.ts\'","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","prebuild":"mkdir -p build","build":"tsc && rollup -c","postbuild":"terser build/vega-themes.js -cm > build/vega-themes.min.js","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","serve":"browser-sync start -s -f build examples --serveStatic examples","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'yarn serve\' \'tsc -w\' \'rollup -c -w\'"},"devDependencies":{"@rollup/plugin-json":"^4.0.2","browser-sync":"^2.26.7","concurrently":"^5.1.0","gh-pages":"^2.2.0","rollup":"^2.1.0","terser":"^4.6.7","typescript":"^3.8.3","vega":"^5.10.0","vega-lite":"^4.8.1","vega-lite-dev-config":"^0.5.0"},"peerDependencies":{"vega":"*","vega-lite":"*"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]}}')},function(e){e.exports=JSON.parse('{"name":"vega-tooltip","version":"0.23.0","description":"A tooltip plugin for Vega-Lite and Vega visualizations.","main":"build/vega-tooltip.js","module":"build/src/index.js","unpkg":"build/vega-tooltip.min.js","jsdelivr":"build/vega-tooltip.min.js","typings":"build/src/index.d.ts","repository":{"type":"git","url":"https://github.com/vega/vega-tooltip.git"},"keywords":["vega-lite","vega","tooltip"],"author":{"name":"UW Interactive Data Lab","url":"https://idl.cs.washington.edu"},"collaborators":["Dominik Moritz","Sira Horradarn","Zening Qu","Kanit Wongsuphasawat","Yuri Astrakhan","Jeffrey Heer"],"license":"BSD-3-Clause","bugs":{"url":"https://github.com/vega/vega-tooltip/issues"},"homepage":"https://github.com/vega/vega-tooltip#readme","scripts":{"prepare":"beemo create-config --silent","tsc:src":"tsc -b tsconfig.src.json","build":"yarn tsc:src && rollup -c","clean":"rm -rf build examples/data && rm -f src/style.ts","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && yarn copy:build && gh-pages -d examples && yarn clean","prettierbase":"beemo prettier \'examples/*.{html,scss,css}\'","eslintbase":"beemo eslint .","format":"yarn eslintbase --fix && yarn prettierbase --write","lint":"yarn eslintbase && yarn prettierbase --check","postbuild":"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js","prebuild":"mkdir -p build && yarn copy:data && ./build-style.sh","prepublishOnly":"yarn clean && yarn build","preversion":"yarn lint","start":"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \'browser-sync start -s -f build examples --serveStatic examples\' \'yarn tsc:src -w\' \'rollup -c -w\'","pretest":"./build-style.sh","test":"jest"},"devDependencies":{"@rollup/plugin-commonjs":"11.1.0","@rollup/plugin-json":"^4.0.3","@rollup/plugin-node-resolve":"^7.1.3","@types/jest":"^25.2.1","browser-sync":"^2.26.7","concurrently":"^5.2.0","gh-pages":"^2.2.0","jest":"^26.0.1","node-sass":"^4.14.1","path":"^0.12.7","rollup":"^2.8.2","terser":"^4.6.13","ts-jest":"^25.5.0","typescript":"^3.8.3","vega-datasets":"^1.30.2","vega-lite-dev-config":"^0.10.0","vega-typings":"^0.16.0"},"dependencies":{"vega-util":"^1.13.2"},"beemo":{"module":"vega-lite-dev-config","drivers":["prettier","eslint"]},"jest":{"testURL":"http://localhost/","transform":{"^.+\\\\.tsx?$":"ts-jest"},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"testPathIgnorePatterns":["node_modules","<rootDir>/build","src"]}}')},function(e,t,n){"use strict";t.a="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n"},function(e,t,n){"use strict";t.a=function(e,t,n){const r=e.open(t),{origin:i}=new URL(t);let a=40;e.addEventListener("message",(function t(n){n.source===r&&(a=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){a<=0||(r.postMessage(n,i),setTimeout(e,250),a-=1)}),250)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"Bar Charts":[{"name":"bar-chart"},{"name":"stacked-bar-chart"},{"name":"grouped-bar-chart"},{"name":"nested-bar-chart"},{"name":"population-pyramid"}],"Line & Area Charts":[{"name":"line-chart"},{"name":"area-chart"},{"name":"stacked-area-chart"},{"name":"horizon-graph"},{"name":"job-voyager"}],"Circular Charts":[{"name":"pie-chart"},{"name":"donut-chart"},{"name":"radial-plot"},{"name":"radar-chart"}],"Scatter Plots":[{"name":"scatter-plot"},{"name":"scatter-plot-null-values"},{"name":"connected-scatter-plot"},{"name":"error-bars"},{"name":"barley-trellis-plot"},{"name":"regression"},{"name":"loess-regression"}],"Distributions":[{"name":"top-k-plot"},{"name":"top-k-plot-with-others"},{"name":"histogram"},{"name":"histogram-null-values"},{"name":"dot-plot"},{"name":"probability-density"},{"name":"box-plot"},{"name":"violin-plot"},{"name":"binned-scatter-plot"},{"name":"contour-plot"},{"name":"wheat-plot"},{"name":"quantile-quantile-plot"},{"name":"quantile-dot-plot"},{"name":"hypothetical-outcome-plots"},{"name":"time-units"}],"Geographic Maps":[{"name":"county-unemployment"},{"name":"dorling-cartogram"},{"name":"world-map"},{"name":"earthquakes"},{"name":"projections"},{"name":"zoomable-world-map"},{"name":"distortion-comparison"},{"name":"volcano-contours"},{"name":"wind-vectors"},{"name":"annual-precipitation"}],"Tree Diagrams":[{"name":"tree-layout"},{"name":"radial-tree-layout"},{"name":"treemap"},{"name":"circle-packing"},{"name":"sunburst"}],"Network Diagrams":[{"name":"edge-bundling"},{"name":"force-directed-layout"},{"name":"reorderable-matrix"},{"name":"arc-diagram"},{"name":"airport-connections"}],"Other Chart Types":[{"name":"heatmap"},{"name":"density-heatmaps"},{"name":"parallel-coordinates"},{"name":"word-cloud"},{"name":"beeswarm-plot"}],"Custom Designs":[{"name":"budget-forecasts"},{"name":"wheat-and-wages"},{"name":"falkensee-population"},{"name":"annual-temperature"},{"name":"weekly-temperature"},{"name":"flight-passengers"},{"name":"timelines"},{"name":"u-district-cuisine"},{"name":"clock"},{"name":"watch"}],"Interaction Techniques":[{"name":"crossfilter-flights"},{"name":"overview-plus-detail"},{"name":"brushing-scatter-plots"},{"name":"zoomable-scatter-plot"},{"name":"global-development"},{"name":"interactive-legend"},{"name":"stock-index-chart"},{"name":"pi-monte-carlo"},{"name":"pacman"}]}')},,function(e,t,n){const r=n(510);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},function(e,t,n){const r=n(510);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},function(e,t,n){const r=n(228);e.exports=(e,t,n,i)=>{"string"==typeof n&&(i=n,n=void 0);try{return new r(e,n).inc(t,i).version}catch(e){return null}}},function(e,t,n){const r=n(510),i=n(915);e.exports=(e,t)=>{if(i(e,t))return null;{const n=r(e),i=r(t),a=n.prerelease.length||i.prerelease.length,o=a?"pre":"",u=a?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==i[e])return o+e;return u}}},function(e,t,n){const r=n(228);e.exports=(e,t)=>new r(e,t).major},function(e,t,n){const r=n(228);e.exports=(e,t)=>new r(e,t).minor},function(e,t,n){const r=n(228);e.exports=(e,t)=>new r(e,t).patch},function(e,t,n){const r=n(510);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){const r=n(310);e.exports=(e,t,n)=>r(t,e,n)},function(e,t,n){const r=n(310);e.exports=(e,t)=>r(e,t,!0)},function(e,t,n){const r=n(916);e.exports=(e,t)=>e.sort((e,n)=>r(e,n,t))},function(e,t,n){const r=n(916);e.exports=(e,t)=>e.sort((e,n)=>r(n,e,t))},function(e,t,n){const r=n(228),i=n(510),{re:a,t:o}=n(509);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=a[o.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),a[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;a[o.COERCERTL].lastIndex=-1}else n=e.match(a[o.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},function(e,t,n){const r=n(311);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},function(e,t,n){const r=n(228),i=n(311);e.exports=(e,t,n)=>{let a=null,o=null,u=null;try{u=new i(t,n)}catch(e){return null}return e.forEach(e=>{u.test(e)&&(a&&-1!==o.compare(e)||(a=e,o=new r(a,n)))}),a}},function(e,t,n){const r=n(228),i=n(311);e.exports=(e,t,n)=>{let a=null,o=null,u=null;try{u=new i(t,n)}catch(e){return null}return e.forEach(e=>{u.test(e)&&(a&&1!==o.compare(e)||(a=e,o=new r(a,n)))}),a}},function(e,t,n){const r=n(228),i=n(311),a=n(687);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){e.set[t].forEach(e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!a(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}return n&&e.test(n)?n:null}},function(e,t,n){const r=n(311);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},function(e,t,n){const r=n(920);e.exports=(e,t,n)=>r(e,t,">",n)},function(e,t,n){const r=n(920);e.exports=(e,t,n)=>r(e,t,"<",n)},function(e,t,n){const r=n(311);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))},function(e,t,n){const r=n(689),i=n(310);e.exports=(e,t,n)=>{const a=[];let o=null,u=null;const s=e.sort((e,t)=>i(e,t,n));for(const e of s){r(e,t,n)?(u=e,o||(o=e)):(u&&a.push([o,u]),u=null,o=null)}o&&a.push([o,null]);const f=[];for(const[e,t]of a)e===t?f.push(e):t||e!==s[0]?t?e===s[0]?f.push("<="+t):f.push(`${e} - ${t}`):f.push(">="+e):f.push("*");const c=f.join(" || "),l="string"==typeof t.raw?t.raw:String(t);return c.length<l.length?c:t}},function(e,t,n){const r=n(311),{ANY:i}=n(688),a=n(689),o=n(310),u=(e,t,n)=>{if(1===e.length&&e[0].semver===i)return 1===t.length&&t[0].semver===i;const r=new Set;let u,c,l,d,p,m,b;for(const t of e)">"===t.operator||">="===t.operator?u=s(u,t,n):"<"===t.operator||"<="===t.operator?c=f(c,t,n):r.add(t.semver);if(r.size>1)return null;if(u&&c){if(l=o(u.semver,c.semver,n),l>0)return null;if(0===l&&(">="!==u.operator||"<="!==c.operator))return null}for(const e of r){if(u&&!a(e,String(u),n))return null;if(c&&!a(e,String(c),n))return null;for(const r of t)if(!a(e,String(r),n))return!1;return!0}for(const e of t){if(b=b||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,u)if(">"===e.operator||">="===e.operator){if(d=s(u,e,n),d===e)return!1}else if(">="===u.operator&&!a(u.semver,String(e),n))return!1;if(c)if("<"===e.operator||"<="===e.operator){if(p=f(c,e,n),p===e)return!1}else if("<="===c.operator&&!a(c.semver,String(e),n))return!1;if(!e.operator&&(c||u)&&0!==l)return!1}return!(u&&m&&!c&&0!==l)&&!(c&&b&&!u&&0!==l)},s=(e,t,n)=>{if(!e)return t;const r=o(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},f=(e,t,n)=>{if(!e)return t;const r=o(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n)=>{e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}}]]);
//# sourceMappingURL=vega.js.map